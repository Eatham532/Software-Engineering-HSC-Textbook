
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Comprehensive educational resource for NSW HSC Software Engineering syllabus">
      
      
      
        <link rel="canonical" href="https://eatham532.github.io/Software-Engineering-HSC-Textbook/Year12/ProgrammingForTheWeb/Chapter-11-Web-foundations-and-data-transmission/11-01-Explore-the-applications-of-web-programming/">
      
      
        <link rel="prev" href="../../">
      
      
        <link rel="next" href="quiz/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Section 11.1: Explore the Applications of Web Programming - Software Engineering Textbook HSC</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/diagram-modal.css">
    
      <link rel="stylesheet" href="../../../../assets/quiz.css">
    
      <link rel="stylesheet" href="../../../../assets/common.css">
    
      <link rel="stylesheet" href="../../../../assets/diagram-fix.css">
    
      <link rel="stylesheet" href="../../../../assets/cross-reference.css">
    
      <link rel="stylesheet" href="../../../../assets/site-banner.css">
    
      <link rel="stylesheet" href="../../../../assets/code-runner.css">
    
      <link rel="stylesheet" href="../../../../assets/code-editor.css">
    
      <link rel="stylesheet" href="../../../../assets/glossary.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-58275RL1P9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-58275RL1P9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-58275RL1P9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-111-explore-the-applications-of-web-programming" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
  
  
    
    
    
    <div class="site-banner site-banner--warning" data-banner data-banner-version="1" role="status" aria-live="polite">
      <div class="site-banner__inner">
        <span class="site-banner__icon" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            
              <path d="M12 9v4"/><path d="M12 17h.01"/><path d="M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"/>
            
          </svg>
        </span>
        <p class="site-banner__text">
          This textbook is in <strong>beta</strong> – content is actively being refined.
          
            <a class="site-banner__link" href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/issues/new/choose" target="_blank" rel="noopener">Report issues or suggestions</a>
          
        </p>
        <button type="button" class="site-banner__close" aria-label="Dismiss banner" title="Dismiss" data-banner-dismiss>&times;</button>
      </div>
    </div>
    <script>
      (function(){
        var banner=document.querySelector('[data-banner]');
        if(!banner) return;
        var version=banner.getAttribute('data-banner-version')||'1';
        var KEY='site_banner_dismissed_v'+version;
        try{ if(localStorage.getItem(KEY)){ banner.remove(); return;} }catch(e){}
        var btn=banner.querySelector('[data-banner-dismiss]');
        if(btn){ btn.addEventListener('click',function(){
          banner.classList.add('is-hiding');
          setTimeout(function(){ banner && banner.remove(); },200);
          try{ localStorage.setItem(KEY,'1'); }catch(e){}
        }); }
      })();
    </script>
  
  
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Software Engineering Textbook HSC" class="md-header__button md-logo" aria-label="Software Engineering Textbook HSC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Software Engineering Textbook HSC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Section 11.1: Explore the Applications of Web Programming
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Eatham532/Software-Engineering-HSC-Textbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    

    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Year11/ProgrammingFundamentals/" class="md-tabs__link">
          
  
  
  Year 11

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  Year 12

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../code-editor/" class="md-tabs__link">
        
  
  
    
  
  Code Editor

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../glossary/" class="md-tabs__link">
        
  
  
    
  
  Glossary

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Software Engineering Textbook HSC" class="md-nav__button md-logo" aria-label="Software Engineering Textbook HSC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Software Engineering Textbook HSC
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Eatham532/Software-Engineering-HSC-Textbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../../Year11/ProgrammingFundamentals/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Year 11
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Year 12
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Year 12
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Programming For The Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Programming For The Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1_2" id="__nav_3_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 11 — Web foundations and data transmission
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1_2">
            <span class="md-nav__icon md-icon"></span>
            Chapter 11 — Web foundations and data transmission
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1_2_1" id="__nav_3_1_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    11.1 Explore the applications of web programming
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_1_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1_2_1">
            <span class="md-nav__icon md-icon"></span>
            11.1 Explore the applications of web programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      Learning Objectives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#types-of-web-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Types of Web Applications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types of Web Applications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interactive-websites-and-webpages" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Websites and Webpages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interactive Websites and Webpages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#characteristics-of-interactive-websites" class="md-nav__link">
    <span class="md-ellipsis">
      Characteristics of Interactive Websites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-example-simple-interactive-web-application" class="md-nav__link">
    <span class="md-ellipsis">
      Python Example: Simple Interactive Web Application
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-commerce-applications" class="md-nav__link">
    <span class="md-ellipsis">
      E-commerce Applications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="E-commerce Applications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#e-commerce-architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      E-commerce Architecture Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-example-e-commerce-core-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      Python Example: E-commerce Core Functionality
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progressive-web-apps-pwas" class="md-nav__link">
    <span class="md-ellipsis">
      Progressive Web Apps (PWAs)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Progressive Web Apps (PWAs)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pwa-architecture-and-features" class="md-nav__link">
    <span class="md-ellipsis">
      PWA Architecture and Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-example-pwa-backend-with-offline-support" class="md-nav__link">
    <span class="md-ellipsis">
      Python Example: PWA Backend with Offline Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparative-analysis-of-web-application-types" class="md-nav__link">
    <span class="md-ellipsis">
      Comparative Analysis of Web Application Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision-framework-for-web-application-types" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Framework for Web Application Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decision Framework for Web Application Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-user-requirements-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      1. User Requirements Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-business-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      2. Business Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-technical-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      3. Technical Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practice-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      Practice Exercises
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-recap" class="md-nav__link">
    <span class="md-ellipsis">
      Section Recap
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quiz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quiz
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../11-02-How-data-moves-on-the-internet-packets-IP-DNS-protocols/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    11.2 How data moves on the internet
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../11-03-Web-protocols-ports-and-secure-transport-concepts/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    11.3 Web protocols, ports and secure transport concepts
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../11-04-Big-data-and-web-architectures/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    11.4 Big data and web architectures
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-12-Designing-web-applications/12-01-The-role-of-the-W3C-and-web-standards/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 12 — Designing web applications
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-13-Back-end-databases-and-PWAs/13-01-Server-side-Python-with-a-microframework-and-the-back-end-request-flow/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 13 — Back-end, databases, and PWAs
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../SecureSoftwareArchitecture/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Secure Software Architecture
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../SoftwareAutomation/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Software Automation
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../SoftwareEngineeringProject/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Software Engineering Project
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../code-editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Editor
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      Learning Objectives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#types-of-web-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Types of Web Applications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types of Web Applications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interactive-websites-and-webpages" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Websites and Webpages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interactive Websites and Webpages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#characteristics-of-interactive-websites" class="md-nav__link">
    <span class="md-ellipsis">
      Characteristics of Interactive Websites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-example-simple-interactive-web-application" class="md-nav__link">
    <span class="md-ellipsis">
      Python Example: Simple Interactive Web Application
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-commerce-applications" class="md-nav__link">
    <span class="md-ellipsis">
      E-commerce Applications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="E-commerce Applications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#e-commerce-architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      E-commerce Architecture Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-example-e-commerce-core-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      Python Example: E-commerce Core Functionality
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progressive-web-apps-pwas" class="md-nav__link">
    <span class="md-ellipsis">
      Progressive Web Apps (PWAs)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Progressive Web Apps (PWAs)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pwa-architecture-and-features" class="md-nav__link">
    <span class="md-ellipsis">
      PWA Architecture and Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-example-pwa-backend-with-offline-support" class="md-nav__link">
    <span class="md-ellipsis">
      Python Example: PWA Backend with Offline Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparative-analysis-of-web-application-types" class="md-nav__link">
    <span class="md-ellipsis">
      Comparative Analysis of Web Application Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision-framework-for-web-application-types" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Framework for Web Application Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decision Framework for Web Application Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-user-requirements-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      1. User Requirements Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-business-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      2. Business Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-technical-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      3. Technical Considerations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practice-exercises" class="md-nav__link">
    <span class="md-ellipsis">
      Practice Exercises
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-recap" class="md-nav__link">
    <span class="md-ellipsis">
      Section Recap
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/edit/main/docs/Year12/ProgrammingForTheWeb/Chapter-11-Web-foundations-and-data-transmission/11-01-Explore-the-applications-of-web-programming/index.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/raw/main/docs/Year12/ProgrammingForTheWeb/Chapter-11-Web-foundations-and-data-transmission/11-01-Explore-the-applications-of-web-programming/index.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="section-111-explore-the-applications-of-web-programming">Section 11.1: Explore the Applications of Web Programming<a class="headerlink" href="#section-111-explore-the-applications-of-web-programming" title="Permanent link">&para;</a></h1>
<h2 id="learning-objectives">Learning Objectives<a class="headerlink" href="#learning-objectives" title="Permanent link">&para;</a></h2>
<p>By the end of this section, you will be able to:</p>
<ul>
<li>
<p>Identify different types of web applications and their unique characteristics</p>
</li>
<li>
<p>Understand the trade-offs and constraints involved in web application development</p>
</li>
<li>
<p>Analyze the technical requirements for interactive websites, e-commerce platforms, and Progressive Web Apps (<span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWAs</span>)</p>
</li>
<li>
<p>Evaluate when to choose different web application architectures based on user needs</p>
</li>
<li>
<p>Understand how modern web applications balance functionality, performance, and user experience</p>
</li>
</ul>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>Web programming has evolved far beyond simple static websites to encompass a rich ecosystem of application types, each serving different user needs and business requirements. Understanding these application types, their capabilities, and their constraints is essential for making informed decisions about web development approaches.</p>
<p>Modern web applications must balance numerous factors: user experience, performance, security, accessibility, development cost, and <span class="glossary-term" data-glossary-category="Project Management" data-glossary-definition="The ease with which software can be modified to correct faults, improve performance, or adapt to a changed environment." data-glossary-term="Maintainability">maintenance</span> complexity. This section explores the major categories of web applications and the key considerations that influence their design and implementation.</p>
<h2 id="types-of-web-applications">Types of Web Applications<a class="headerlink" href="#types-of-web-applications" title="Permanent link">&para;</a></h2>
<h3 id="interactive-websites-and-webpages">Interactive Websites and Webpages<a class="headerlink" href="#interactive-websites-and-webpages" title="Permanent link">&para;</a></h3>
<p>Interactive websites represent the foundation of modern web experiences, providing dynamic content and real-time user interaction through forms, multimedia, and client-side functionality.</p>
<h4 id="characteristics-of-interactive-websites">Characteristics of Interactive Websites<a class="headerlink" href="#characteristics-of-interactive-websites" title="Permanent link">&para;</a></h4>
<div class="diagram-container" data-container-id="kroki-diagram-0"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-0')">🔍 View Larger</button><div id="kroki-diagram-0" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="840.625px" preserveAspectRatio="xMaxYMax meet" style="width:646px;height:840px;" version="1.1" viewBox="0 0 646 840" width="646.875px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-0"><defs><linearGradient id="gt5p68b6wwo1y0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#F18E3E" /><stop offset="100%" stop-color="#EC7211" /></linearGradient></defs><g><g class="cluster" data-entity="Interactive Website Architecture" data-source-line="3" data-uid="ent0002" id="cluster_Interactive Website Architecture"><path d="M10.4167,6.25 L249.5544,6.25 A6.25,6.25 0 0 1 253.7211,10.4167 L261.0128,37.4674 L635.4167,37.4674 A4.1667,4.1667 0 0 1 639.5833,41.6341 L639.5833,830.0417 A4.1667,4.1667 0 0 1 635.4167,834.2083 L10.4167,834.2083 A4.1667,4.1667 0 0 1 6.25,830.0417 L6.25,10.4167 A4.1667,4.1667 0 0 1 10.4167,6.25" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="6.25" x2="261.0128" y1="37.4674" y2="37.4674" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="230.8044" x="15.625" y="25.1444">Interactive Website Architecture</text></g><g class="cluster" data-entity="Client Side" data-source-line="6" data-uid="ent0004" id="cluster_Client Side"><path d="M35.4167,212.4583 L119.9097,212.4583 A6.25,6.25 0 0 1 124.0763,216.625 L131.368,243.6758 L236.4583,243.6758 A4.1667,4.1667 0 0 1 240.625,247.8424 L240.625,658.1979 A4.1667,4.1667 0 0 1 236.4583,662.3646 L35.4167,662.3646 A4.1667,4.1667 0 0 1 31.25,658.1979 L31.25,216.625 A4.1667,4.1667 0 0 1 35.4167,212.4583" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="31.25" x2="131.368" y1="243.6758" y2="243.6758" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="76.1597" x="40.625" y="231.3528">Client Side</text></g><g class="cluster" data-entity="Server Side" data-source-line="12" data-uid="ent0008" id="cluster_Server Side"><path d="M269.7917,400.9688 L359.6252,400.9688 A6.25,6.25 0 0 1 363.7919,405.1354 L371.0836,432.1862 L610.4167,432.1862 A4.1667,4.1667 0 0 1 614.5833,436.3529 L614.5833,805.0417 A4.1667,4.1667 0 0 1 610.4167,809.2083 L269.7917,809.2083 A4.1667,4.1667 0 0 1 265.625,805.0417 L265.625,405.1354 A4.1667,4.1667 0 0 1 269.7917,400.9688" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="265.625" x2="371.0836" y1="432.1862" y2="432.1862" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="81.5002" x="275" y="419.8632">Server Side</text></g><g class="entity" data-entity="User" data-source-line="4" data-uid="ent0003" id="entity_User"><ellipse cx="165.6206" cy="59.375" fill="url(#gt5p68b6wwo1y0)" rx="8.3333" ry="8.3333" style="stroke:#EC7211;stroke-width:1.0417;" /><path d="M165.6206,67.7083 L165.6206,95.8333 M152.0789,76.0417 L179.1623,76.0417 M165.6206,95.8333 L152.0789,111.4583 M165.6206,95.8333 L179.1623,111.4583" fill="none" style="stroke:#EC7211;stroke-width:1.0417;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="28.4912" x="151.375" y="130.3528">User</text></g><g class="entity" data-entity="html" data-source-line="7" data-uid="ent0005" id="entity_html"><rect fill="url(#gt5p68b6wwo1y0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="115.6759" x="107.7917" y="256.2083" /><rect fill="url(#gt5p68b6wwo1y0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="202.6342" y="261.4167" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="200.5509" y="263.5" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="200.5509" y="267.6667" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="63.5925" x="128.625" y="293.8528"><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="The standard markup language for creating web pages. CSS is used for styling and layout." data-glossary-full-form="HyperText Markup Language / Cascading Style Sheets" data-glossary-term="HTML">HTML/CSS</span></text></g><g class="entity" data-entity="js" data-source-line="8" data-uid="ent0006" id="entity_js"><rect fill="url(#gt5p68b6wwo1y0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="114.742" x="47.8333" y="444.7188" /><rect fill="url(#gt5p68b6wwo1y0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="141.742" y="449.9271" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="139.6587" y="452.0104" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="139.6587" y="456.1771" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="62.6587" x="68.6667" y="482.3632">JavaScript</text></g><g class="entity" data-entity="dom" data-source-line="9" data-uid="ent0007" id="entity_dom"><rect fill="url(#gt5p68b6wwo1y0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="82.3324" x="48.4167" y="589.4792" /><rect fill="url(#gt5p68b6wwo1y0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="109.9157" y="594.6875" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="107.8324" y="596.7708" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="107.8324" y="600.9375" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="30.249" x="69.25" y="627.1236">DOM</text></g><g class="entity" data-entity="server" data-source-line="13" data-uid="ent0009" id="entity_server"><rect fill="url(#gt5p68b6wwo1y0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="125.0326" x="318.7292" y="444.7188" /><rect fill="url(#gt5p68b6wwo1y0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="422.9284" y="449.9271" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="420.8451" y="452.0104" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="420.8451" y="456.1771" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="72.9492" x="339.5625" y="482.3632">Web Server</text></g><g class="entity" data-entity="app" data-source-line="14" data-uid="ent0010" id="entity_app"><rect fill="url(#gt5p68b6wwo1y0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="158.7911" x="337.2708" y="589.4792" /><rect fill="url(#gt5p68b6wwo1y0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="475.2286" y="594.6875" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="473.1453" y="596.7708" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="473.1453" y="600.9375" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="106.7078" x="358.1042" y="627.1236">Application Logic</text></g><g class="entity" data-entity="db" data-source-line="15" data-uid="ent0011" id="entity_db"><rect fill="url(#gt5p68b6wwo1y0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="111.7269" x="354.5521" y="736.3229" /><rect fill="url(#gt5p68b6wwo1y0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="445.4456" y="741.5313" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="443.3623" y="743.6146" /><rect fill="url(#gt5p68b6wwo1y0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="443.3623" y="747.7813" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="59.6436" x="375.3854" y="773.9674"><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="An organized collection of structured data stored electronically in a computer system, typically accessed via a database management system." data-glossary-term="Database">Database</span></text></g><g class="link" data-entity-1="User" data-entity-2="html" data-source-line="18" data-uid="lnk12" id="link_User_html"><path d="M165.625,138.8958 C165.625,175.0104 165.625,218.9792 165.625,249.6667" fill="none" id="User-to-html" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="165.625,255.9167,169.7917,246.5417,165.625,250.7083,161.4583,246.5417,165.625,255.9167" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="93.042" x="171.875" y="187.6028">Requests page</text></g><g class="link" data-entity-1="html" data-entity-2="js" data-source-line="19" data-uid="lnk13" id="link_html_js"><path d="M117.6771,312.8438 C107.2083,321.3021 97.5208,331.6146 91.6667,343.6771 C76.1458,375.6771 83.1521,411.4168 92.1834,438.4064" fill="none" id="html-to-js" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="94.1667,444.3333,95.1431,434.1207,92.5139,439.3942,87.2404,436.7651,94.1667,444.3333" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="102.2034" x="97.9167" y="368.8215">Executes scripts</text></g><g class="link" data-entity-1="js" data-entity-2="dom" data-source-line="20" data-uid="lnk14" id="link_js_dom"><path d="M102.1979,501.3854 C99.4271,526.6458 96.0362,557.6727 93.2654,582.9123" fill="none" id="js-to-dom" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="92.5833,589.125,97.7482,580.2607,93.1517,583.9478,89.4646,579.3513,92.5833,589.125" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="127.7649" x="104.1667" y="550.0403">Manipulates content</text></g><g class="link" data-entity-1="html" data-entity-2="server" data-source-line="21" data-uid="lnk15" id="link_html_server"><path d="M186.7813,312.5938 C206.4896,337.6146 234.75,372.5521 247.9167,384.3021 C273.5208,407.1667 300.2506,425.181 326.5319,441.0143" fill="none" id="html-to-server" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="331.8854,444.2396,326.0053,435.8327,327.4242,441.5519,321.705,442.9707,331.8854,444.2396" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="112.7258" x="254.1667" y="361.5299">Form submissions</text><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="87.6282" x="266.7155" y="376.0806">AJAX requests</text></g><g class="link" data-entity-1="server" data-entity-2="html" data-source-line="26" data-uid="lnk20" id="link_server_html"><path d="M388.9375,444.375 C395.1042,416.0521 399.4583,372.0938 377.0833,343.6771 C358.1458,319.6354 285.7814,303.8078 229.9585,294.6099" fill="none" id="server-to-html" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="223.7917,293.5938,232.3645,299.2291,228.9307,294.4405,233.7193,291.0067,223.7917,293.5938" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="106.958" x="398.9583" y="368.8215">Dynamic content</text></g><g class="link" data-entity-1="server" data-entity-2="app" data-source-line="22" data-uid="lnk16" id="link_server_app"><path d="M338.625,501.375 C319.6458,517.2292 303.9375,537.9896 315.625,558.2292 C322.9167,570.8646 328.8747,577.5772 341.1768,585.6293" fill="none" id="server-to-app" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="346.4063,589.0521,340.844,580.4316,342.0484,586.1997,336.2802,587.4041,346.4063,589.0521" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="120.3918" x="321.875" y="550.0403">Processes requests</text></g><g class="link" data-entity-1="app" data-entity-2="server" data-source-line="25" data-uid="lnk19" id="link_app_server"><path d="M440.1042,589.3125 C451.4792,572.6563 460.9688,551.0104 452.0833,532.1875 C446.4375,520.2292 441.8054,513.9047 431.6387,505.4047" fill="none" id="app-to-server" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="426.8438,501.3958,431.3636,510.6058,430.8395,504.7366,436.7087,504.2125,426.8438,501.3958" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="92.7246" x="461.4583" y="550.0403">Response data</text></g><g class="link" data-entity-1="app" data-entity-2="db" data-source-line="23" data-uid="lnk17" id="link_app_db"><path d="M356.5104,645.9896 C343.8958,654.6771 332.2292,665.6042 325,679.0313 C313.0417,701.2396 326.249,717.8541 349.0095,732.8436" fill="none" id="app-to-db" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="354.2292,736.2813,348.6913,727.645,349.8794,733.4166,344.1079,734.6047,354.2292,736.2813" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="100.3479" x="331.25" y="696.884">Data operations</text></g><g class="link" data-entity-1="db" data-entity-2="app" data-source-line="24" data-uid="lnk18" id="link_db_app"><path d="M428.6354,736.0625 C433.9167,726.6458 438.9792,715.7708 441.6667,705.0729 C446.6458,685.2292 442.5782,668.7408 434.8803,651.8241" fill="none" id="db-to-app" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="432.2917,646.1354,432.3822,656.3942,434.4489,650.876,439.9671,652.9427,432.2917,646.1354" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="80.9021" x="448.9583" y="696.884">Returns data</text></g></g></svg></p></div></div>
<p><strong>Key Features:</strong></p>
<ul>
<li>
<p><strong>Dynamic Content</strong>: Content that changes based on user actions, time, or data</p>
</li>
<li>
<p><strong>Form Processing</strong>: User input collection and validation</p>
</li>
<li>
<p><strong>Client-Side Interactivity</strong>: Immediate response to user actions without page reloads</p>
</li>
<li>
<p><strong>Real-Time Updates</strong>: Live data feeds, notifications, or collaborative features</p>
</li>
</ul>
<h4 id="python-example-simple-interactive-web-application">Python Example: Simple Interactive Web Application<a class="headerlink" href="#python-example-simple-interactive-web-application" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">jsonify</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># In-memory data store for demo purposes</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">page_views</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="k">def</span><span class="w"> </span><span class="nf">home</span><span class="p">():</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Serve the main interactive page.&quot;&quot;&quot;</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="k">global</span> <span class="n">page_views</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">page_views</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;interactive_home.html&#39;</span><span class="p">,</span> 
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>                         <span class="n">view_count</span><span class="o">=</span><span class="n">page_views</span><span class="p">,</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>                         <span class="n">current_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">))</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/comments&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_comments</span><span class="p">():</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;API endpoint for dynamic comment functionality.&quot;&quot;&quot;</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    <span class="k">global</span> <span class="n">comments</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>        <span class="c1"># Process new comment submission</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>        <span class="n">comment_data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>        <span class="n">new_comment</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">comments</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>            <span class="s1">&#39;author&#39;</span><span class="p">:</span> <span class="n">comment_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;Anonymous&#39;</span><span class="p">),</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">comment_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>            <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>            <span class="s1">&#39;likes&#39;</span><span class="p">:</span> <span class="mi">0</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>        <span class="p">}</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>        <span class="n">comments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_comment</span><span class="p">)</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;comment&#39;</span><span class="p">:</span> <span class="n">new_comment</span><span class="p">})</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>        <span class="c1"># Return all comments for display</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;comments&#39;</span><span class="p">:</span> <span class="n">comments</span><span class="p">})</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/like_comment/&lt;int:comment_id&gt;&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a><span class="k">def</span><span class="w"> </span><span class="nf">like_comment</span><span class="p">(</span><span class="n">comment_id</span><span class="p">):</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Handle comment liking functionality.&quot;&quot;&quot;</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>    <span class="k">global</span> <span class="n">comments</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>    <span class="c1"># Find and update the comment</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>    <span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">comments</span><span class="p">:</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>        <span class="k">if</span> <span class="n">comment</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">comment_id</span><span class="p">:</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>            <span class="n">comment</span><span class="p">[</span><span class="s1">&#39;likes&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>            <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;new_likes&#39;</span><span class="p">:</span> <span class="n">comment</span><span class="p">[</span><span class="s1">&#39;likes&#39;</span><span class="p">]})</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Comment not found&#39;</span><span class="p">}),</span> <span class="mi">404</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/live_stats&#39;</span><span class="p">)</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a><span class="k">def</span><span class="w"> </span><span class="nf">live_stats</span><span class="p">():</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Provide live statistics for the page.&quot;&quot;&quot;</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>        <span class="s1">&#39;total_comments&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">comments</span><span class="p">),</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>        <span class="s1">&#39;total_likes&#39;</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">comment</span><span class="p">[</span><span class="s1">&#39;likes&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">comments</span><span class="p">),</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>        <span class="s1">&#39;page_views&#39;</span><span class="p">:</span> <span class="n">page_views</span><span class="p">,</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a>        <span class="s1">&#39;server_time&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>    <span class="p">})</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a><span class="c1"># Example template content that would be in templates/interactive_home.html</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a><span class="n">INTERACTIVE_HTML_TEMPLATE</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a><span class="s1">&lt;!DOCTYPE html&gt;</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a><span class="s1">&lt;html lang=&quot;en&quot;&gt;</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a><span class="s1">&lt;head&gt;</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a><span class="s1">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a><span class="s1">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75" href="#__codelineno-0-75"></a><span class="s1">    &lt;title&gt;Interactive Website Demo&lt;/title&gt;</span>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76" href="#__codelineno-0-76"></a><span class="s1">    &lt;style&gt;</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77" href="#__codelineno-0-77"></a><span class="s1">        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78" href="#__codelineno-0-78"></a><span class="s1">        .stats { background: #f0f0f0; padding: 15px; border-radius: 5px; margin-bottom: 20px; }</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79" href="#__codelineno-0-79"></a><span class="s1">        .comment { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; }</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80" href="#__codelineno-0-80"></a><span class="s1">        .comment-form { background: #f9f9f9; padding: 20px; border-radius: 5px; margin: 20px 0; }</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81" href="#__codelineno-0-81"></a><span class="s1">        button { background: #007cba; color: white; border: none; padding: 10px 15px; border-radius: 3px; cursor: pointer; }</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82" href="#__codelineno-0-82"></a><span class="s1">        button:hover { background: #005a85; }</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83" href="#__codelineno-0-83"></a><span class="s1">        input, textarea { width: 100%; padding: 8px; margin: 5px 0; border: 1px solid #ddd; border-radius: 3px; }</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84" href="#__codelineno-0-84"></a><span class="s1">    &lt;/style&gt;</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85" href="#__codelineno-0-85"></a><span class="s1">&lt;/head&gt;</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86" href="#__codelineno-0-86"></a><span class="s1">&lt;body&gt;</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87" href="#__codelineno-0-87"></a><span class="s1">    &lt;h1&gt;Interactive Website Demo&lt;/h1&gt;</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88" href="#__codelineno-0-88"></a>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89" href="#__codelineno-0-89"></a><span class="s1">    &lt;div class=&quot;stats&quot; id=&quot;live-stats&quot;&gt;</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90" href="#__codelineno-0-90"></a><span class="s1">        &lt;h3&gt;Live Statistics&lt;/h3&gt;</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91" href="#__codelineno-0-91"></a><span class="s1">        &lt;p&gt;Page Views: &lt;span id=&quot;view-count&quot;&gt;\{\{ view_count \}\}&lt;/span&gt;&lt;/p&gt;</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92" href="#__codelineno-0-92"></a><span class="s1">        &lt;p&gt;Server Time: &lt;span id=&quot;server-time&quot;&gt;\{\{ current_time \}\}&lt;/span&gt;&lt;/p&gt;</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93" href="#__codelineno-0-93"></a><span class="s1">        &lt;p&gt;Total Comments: &lt;span id=&quot;comment-count&quot;&gt;0&lt;/span&gt;&lt;/p&gt;</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94" href="#__codelineno-0-94"></a><span class="s1">        &lt;button onclick=&quot;updateStats()&quot;&gt;Refresh Stats&lt;/button&gt;</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95" href="#__codelineno-0-95"></a><span class="s1">    &lt;/div&gt;</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96" href="#__codelineno-0-96"></a>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97" href="#__codelineno-0-97"></a><span class="s1">    &lt;div class=&quot;comment-form&quot;&gt;</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98" href="#__codelineno-0-98"></a><span class="s1">        &lt;h3&gt;Add a Comment&lt;/h3&gt;</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99" href="#__codelineno-0-99"></a><span class="s1">        &lt;form id=&quot;comment-form&quot;&gt;</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100" href="#__codelineno-0-100"></a><span class="s1">            &lt;input type=&quot;text&quot; id=&quot;author&quot; placeholder=&quot;Your name&quot; required&gt;</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101" href="#__codelineno-0-101"></a><span class="s1">            &lt;textarea id=&quot;content&quot; placeholder=&quot;Your comment&quot; rows=&quot;3&quot; required&gt;&lt;/textarea&gt;</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102" href="#__codelineno-0-102"></a><span class="s1">            &lt;button type=&quot;submit&quot;&gt;Post Comment&lt;/button&gt;</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103" href="#__codelineno-0-103"></a><span class="s1">        &lt;/form&gt;</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104" href="#__codelineno-0-104"></a><span class="s1">    &lt;/div&gt;</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105" href="#__codelineno-0-105"></a>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106" href="#__codelineno-0-106"></a><span class="s1">    &lt;div id=&quot;comments-section&quot;&gt;</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107" href="#__codelineno-0-107"></a><span class="s1">        &lt;h3&gt;Comments&lt;/h3&gt;</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108" href="#__codelineno-0-108"></a><span class="s1">        &lt;div id=&quot;comments-list&quot;&gt;&lt;/div&gt;</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109" href="#__codelineno-0-109"></a><span class="s1">    &lt;/div&gt;</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110" href="#__codelineno-0-110"></a>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111" href="#__codelineno-0-111"></a><span class="s1">    &lt;script&gt;</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112" href="#__codelineno-0-112"></a><span class="s1">        // JavaScript for client-side interactivity</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113" href="#__codelineno-0-113"></a>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114" href="#__codelineno-0-114"></a><span class="s1">        // Load comments on page load</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115" href="#__codelineno-0-115"></a><span class="s1">        document.addEventListener(&#39;DOMContentLoaded&#39;, loadComments);</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116" href="#__codelineno-0-116"></a>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117" href="#__codelineno-0-117"></a><span class="s1">        // Handle comment form submission</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118" href="#__codelineno-0-118"></a><span class="s1">        document.getElementById(&#39;comment-form&#39;).addEventListener(&#39;submit&#39;, async function(e) {</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119" href="#__codelineno-0-119"></a><span class="s1">            e.preventDefault();</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120" href="#__codelineno-0-120"></a>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121" href="#__codelineno-0-121"></a><span class="s1">            const author = document.getElementById(&#39;author&#39;).value;</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122" href="#__codelineno-0-122"></a><span class="s1">            const content = document.getElementById(&#39;content&#39;).value;</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123" href="#__codelineno-0-123"></a>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124" href="#__codelineno-0-124"></a><span class="s1">            try {</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125" href="#__codelineno-0-125"></a><span class="s1">                const response = await fetch(&#39;/api/comments&#39;, {</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126" href="#__codelineno-0-126"></a><span class="s1">                    method: &#39;POST&#39;,</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127" href="#__codelineno-0-127"></a><span class="s1">                    headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128" href="#__codelineno-0-128"></a><span class="s1">                    body: JSON.stringify({ author, content })</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129" href="#__codelineno-0-129"></a><span class="s1">                });</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130" href="#__codelineno-0-130"></a>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131" href="#__codelineno-0-131"></a><span class="s1">                if (response.ok) {</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132" href="#__codelineno-0-132"></a><span class="s1">                    document.getElementById(&#39;comment-form&#39;).reset();</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133" href="#__codelineno-0-133"></a><span class="s1">                    loadComments(); // Reload comments</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134" href="#__codelineno-0-134"></a><span class="s1">                    updateStats(); // Update statistics</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135" href="#__codelineno-0-135"></a><span class="s1">                }</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136" href="#__codelineno-0-136"></a><span class="s1">            } catch (error) {</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137" href="#__codelineno-0-137"></a><span class="s1">                alert(&#39;Error posting comment: &#39; + error.message);</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138" href="#__codelineno-0-138"></a><span class="s1">            }</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139" href="#__codelineno-0-139"></a><span class="s1">        });</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140" href="#__codelineno-0-140"></a>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141" href="#__codelineno-0-141"></a><span class="s1">        async function loadComments() {</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142" href="#__codelineno-0-142"></a><span class="s1">            try {</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143" href="#__codelineno-0-143"></a><span class="s1">                const response = await fetch(&#39;/api/comments&#39;);</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144" href="#__codelineno-0-144"></a><span class="s1">                const data = await response.json();</span>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145" href="#__codelineno-0-145"></a>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146" href="#__codelineno-0-146"></a><span class="s1">                const commentsList = document.getElementById(&#39;comments-list&#39;);</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147" href="#__codelineno-0-147"></a><span class="s1">                commentsList.innerHTML = &#39;&#39;;</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148" href="#__codelineno-0-148"></a>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149" href="#__codelineno-0-149"></a><span class="s1">                data.comments.forEach(comment =&gt; {</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150" href="#__codelineno-0-150"></a><span class="s1">                    const commentDiv = document.createElement(&#39;div&#39;);</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151" href="#__codelineno-0-151"></a><span class="s1">                    commentDiv.className = &#39;comment&#39;;</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152" href="#__codelineno-0-152"></a><span class="s1">                    commentDiv.innerHTML = `</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153" href="#__codelineno-0-153"></a><span class="s1">                        &lt;strong&gt;$</span><span class="si">{comment.author}</span><span class="s1">&lt;/strong&gt;</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154" href="#__codelineno-0-154"></a><span class="s1">                        &lt;small&gt;(${new Date(comment.timestamp).toLocaleString()})&lt;/small&gt;</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155" href="#__codelineno-0-155"></a><span class="s1">                        &lt;p&gt;$</span><span class="si">{comment.content}</span><span class="s1">&lt;/p&gt;</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156" href="#__codelineno-0-156"></a><span class="s1">                        &lt;button onclick=&quot;likeComment($</span><span class="si">{comment.id}</span><span class="s1">)&quot;&gt;</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157" href="#__codelineno-0-157"></a><span class="s1">                            👍 Like ($</span><span class="si">{comment.likes}</span><span class="s1">)</span>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158" href="#__codelineno-0-158"></a><span class="s1">                        &lt;/button&gt;</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159" href="#__codelineno-0-159"></a><span class="s1">                    `;</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160" href="#__codelineno-0-160"></a><span class="s1">                    commentsList.appendChild(commentDiv);</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161" href="#__codelineno-0-161"></a><span class="s1">                });</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162" href="#__codelineno-0-162"></a>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163" href="#__codelineno-0-163"></a><span class="s1">                document.getElementById(&#39;comment-count&#39;).textContent = data.comments.length;</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164" href="#__codelineno-0-164"></a><span class="s1">            } catch (error) {</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165" href="#__codelineno-0-165"></a><span class="s1">                console.error(&#39;Error loading comments:&#39;, error);</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166" href="#__codelineno-0-166"></a><span class="s1">            }</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167" href="#__codelineno-0-167"></a><span class="s1">        }</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168" href="#__codelineno-0-168"></a>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169" href="#__codelineno-0-169"></a><span class="s1">        async function likeComment(commentId) {</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170" href="#__codelineno-0-170"></a><span class="s1">            try {</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171" href="#__codelineno-0-171"></a><span class="s1">                const response = await fetch(`/api/like_comment/$</span><span class="si">{commentId}</span><span class="s1">`, {</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172" href="#__codelineno-0-172"></a><span class="s1">                    method: &#39;POST&#39;</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173" href="#__codelineno-0-173"></a><span class="s1">                });</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174" href="#__codelineno-0-174"></a>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175" href="#__codelineno-0-175"></a><span class="s1">                if (response.ok) {</span>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176" href="#__codelineno-0-176"></a><span class="s1">                    loadComments(); // Reload to show updated like count</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177" href="#__codelineno-0-177"></a><span class="s1">                }</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178" href="#__codelineno-0-178"></a><span class="s1">            } catch (error) {</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179" href="#__codelineno-0-179"></a><span class="s1">                console.error(&#39;Error liking comment:&#39;, error);</span>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180" href="#__codelineno-0-180"></a><span class="s1">            }</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181" href="#__codelineno-0-181"></a><span class="s1">        }</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182" href="#__codelineno-0-182"></a>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183" href="#__codelineno-0-183"></a><span class="s1">        async function updateStats() {</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184" href="#__codelineno-0-184"></a><span class="s1">            try {</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185" href="#__codelineno-0-185"></a><span class="s1">                const response = await fetch(&#39;/api/live_stats&#39;);</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186" href="#__codelineno-0-186"></a><span class="s1">                const stats = await response.json();</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187" href="#__codelineno-0-187"></a>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188" href="#__codelineno-0-188"></a><span class="s1">                document.getElementById(&#39;comment-count&#39;).textContent = stats.total_comments;</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189" href="#__codelineno-0-189"></a><span class="s1">                document.getElementById(&#39;server-time&#39;).textContent = </span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190" href="#__codelineno-0-190"></a><span class="s1">                    new Date(stats.server_time).toLocaleString();</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191" href="#__codelineno-0-191"></a><span class="s1">            } catch (error) {</span>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192" href="#__codelineno-0-192"></a><span class="s1">                console.error(&#39;Error updating stats:&#39;, error);</span>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193" href="#__codelineno-0-193"></a><span class="s1">            }</span>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194" href="#__codelineno-0-194"></a><span class="s1">        }</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195" href="#__codelineno-0-195"></a>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196" href="#__codelineno-0-196"></a><span class="s1">        // Auto-refresh stats every 30 seconds</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197" href="#__codelineno-0-197"></a><span class="s1">        setInterval(updateStats, 30000);</span>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198" href="#__codelineno-0-198"></a><span class="s1">    &lt;/script&gt;</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199" href="#__codelineno-0-199"></a><span class="s1">&lt;/body&gt;</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200" href="#__codelineno-0-200"></a><span class="s1">&lt;/html&gt;</span>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201" href="#__codelineno-0-201"></a><span class="s1">&#39;&#39;&#39;</span>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202" href="#__codelineno-0-202"></a>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203" href="#__codelineno-0-203"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204" href="#__codelineno-0-204"></a>    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Trade-offs and Constraints:</strong></p>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Benefits</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>User Experience</strong></td>
<td>Immediate feedback, smooth interactions</td>
<td>Requires JavaScript; accessibility challenges</td>
</tr>
<tr>
<td><strong>Development</strong></td>
<td>Rich client libraries, rapid <span class="glossary-term" data-glossary-category="Project Management" data-glossary-definition="An early sample or model of a product built to test a concept, design, or functionality before full-scale production." data-glossary-term="Prototype">prototyping</span></td>
<td>Complex <span class="glossary-term" data-glossary-category="OOP" data-glossary-definition="The set of values of all attributes of an object at a particular point in time during program execution." data-glossary-term="State">state</span> management, browser compatibility</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Reduced server load, <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A hardware or software component that stores data for faster retrieval on future requests, improving performance." data-glossary-term="Cache">cached</span> <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A resource file used in web development, including images, stylesheets, JavaScript files, and fonts." data-glossary-term="Asset">assets</span></td>
<td>Initial load time, network dependency</td>
</tr>
<tr>
<td><strong><span class="glossary-term" data-glossary-category="Project Management" data-glossary-definition="The ease with which software can be modified to correct faults, improve performance, or adapt to a changed environment." data-glossary-term="Maintainability">Maintenance</span></strong></td>
<td>Clear separation of concerns</td>
<td>Multiple codebases (client + server)</td>
</tr>
</tbody>
</table>
<h3 id="e-commerce-applications">E-commerce Applications<a class="headerlink" href="#e-commerce-applications" title="Permanent link">&para;</a></h3>
<p>E-commerce platforms represent some of the most complex web applications, requiring sophisticated features for product management, payment processing, and security.</p>
<h4 id="e-commerce-architecture-overview">E-commerce Architecture Overview<a class="headerlink" href="#e-commerce-architecture-overview" title="Permanent link">&para;</a></h4>
<div class="diagram-container" data-container-id="kroki-diagram-1"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-1')">🔍 View Larger</button><div id="kroki-diagram-1" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="702.0833px" preserveAspectRatio="xMaxYMax meet" style="width:1245px;height:702px;" version="1.1" viewBox="0 0 1245 702" width="1245.8333px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-1"><defs><linearGradient id="gl3t5g8vonfq10" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#F18E3E" /><stop offset="100%" stop-color="#EC7211" /></linearGradient></defs><g><g class="cluster" data-entity="E-commerce Platform Architecture" data-source-line="3" data-uid="ent0002" id="cluster_E-commerce Platform Architecture"><path d="M10.4167,6.25 L262.6404,6.25 A6.25,6.25 0 0 1 266.807,10.4167 L274.0987,37.4674 L1234.375,37.4674 A4.1667,4.1667 0 0 1 1238.5417,41.6341 L1238.5417,691.0208 A4.1667,4.1667 0 0 1 1234.375,695.1875 L10.4167,695.1875 A4.1667,4.1667 0 0 1 6.25,691.0208 L6.25,10.4167 A4.1667,4.1667 0 0 1 10.4167,6.25" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="6.25" x2="274.0987" y1="37.4674" y2="37.4674" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="243.8904" x="15.625" y="25.1444">E-commerce Platform Architecture</text></g><g class="cluster" data-entity="Frontend" data-source-line="7" data-uid="ent0005" id="cluster_Frontend"><path d="M268.75,212.4687 L341.5731,212.4687 A6.25,6.25 0 0 1 345.7397,216.6354 L353.0314,243.6862 L942.7083,243.6862 A4.1667,4.1667 0 0 1 946.875,247.8529 L946.875,324.9375 A4.1667,4.1667 0 0 1 942.7083,329.1042 L268.75,329.1042 A4.1667,4.1667 0 0 1 264.5833,324.9375 L264.5833,216.6354 A4.1667,4.1667 0 0 1 268.75,212.4687" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="264.5833" x2="353.0314" y1="243.6862" y2="243.6862" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="64.4897" x="273.9583" y="231.3632">Frontend</text></g><g class="cluster" data-entity="Backend Services" data-source-line="14" data-uid="ent0010" id="cluster_Backend Services"><path d="M35.4167,402.5417 L167.5171,402.5417 A6.25,6.25 0 0 1 171.6838,406.7083 L178.9754,433.7591 L1046.875,433.7591 A4.1667,4.1667 0 0 1 1051.0417,437.9258 L1051.0417,515.0104 A4.1667,4.1667 0 0 1 1046.875,519.1771 L35.4167,519.1771 A4.1667,4.1667 0 0 1 31.25,515.0104 L31.25,406.7083 A4.1667,4.1667 0 0 1 35.4167,402.5417" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="31.25" x2="178.9754" y1="433.7591" y2="433.7591" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="123.7671" x="40.625" y="421.4361">Backend Services</text></g><g class="cluster" data-entity="Data Layer" data-source-line="22" data-uid="ent0016" id="cluster_Data Layer"><path d="M35.4167,553.5521 L120.5139,553.5521 A6.25,6.25 0 0 1 124.6806,557.7188 L131.9722,584.7695 L638.5417,584.7695 A4.1667,4.1667 0 0 1 642.7083,588.9362 L642.7083,666.0208 A4.1667,4.1667 0 0 1 638.5417,670.1875 L35.4167,670.1875 A4.1667,4.1667 0 0 1 31.25,666.0208 L31.25,557.7188 A4.1667,4.1667 0 0 1 35.4167,553.5521" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="31.25" x2="131.9722" y1="584.7695" y2="584.7695" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="76.7639" x="40.625" y="572.4465">Data Layer</text></g><g class="cluster" data-entity="External Services" data-source-line="29" data-uid="ent0021" id="cluster_External Services"><path d="M671.875,553.5521 L802.8035,553.5521 A6.25,6.25 0 0 1 806.9702,557.7188 L814.2619,584.7695 L1209.375,584.7695 A4.1667,4.1667 0 0 1 1213.5417,588.9362 L1213.5417,666.0208 A4.1667,4.1667 0 0 1 1209.375,670.1875 L671.875,670.1875 A4.1667,4.1667 0 0 1 667.7083,666.0208 L667.7083,557.7188 A4.1667,4.1667 0 0 1 671.875,553.5521" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="667.7083" x2="814.2619" y1="584.7695" y2="584.7695" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="122.5952" x="677.0833" y="572.4465">External Services</text></g><g class="entity" data-entity="Customer" data-source-line="4" data-uid="ent0003" id="entity_Customer"><ellipse cx="623.9631" cy="59.375" fill="url(#gl3t5g8vonfq10)" rx="8.3333" ry="8.3333" style="stroke:#EC7211;stroke-width:1.0417;" /><path d="M623.9631,67.7083 L623.9631,95.8333 M610.4214,76.0417 L637.5047,76.0417 M623.9631,95.8333 L610.4214,111.4583 M623.9631,95.8333 L637.5047,111.4583" fill="none" style="stroke:#EC7211;stroke-width:1.0417;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="60.7178" x="593.6042" y="130.3528">Customer</text></g><g class="entity" data-entity="Admin" data-source-line="5" data-uid="ent0004" id="entity_Admin"><ellipse cx="219.7891" cy="249.4479" fill="url(#gl3t5g8vonfq10)" rx="8.3333" ry="8.3333" style="stroke:#EC7211;stroke-width:1.0417;" /><path d="M219.7891,257.7813 L219.7891,285.9063 M206.2474,266.1146 L233.3308,266.1146 M219.7891,285.9063 L206.2474,301.5313 M219.7891,285.9063 L233.3308,301.5313" fill="none" style="stroke:#EC7211;stroke-width:1.0417;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="40.0574" x="199.7604" y="320.4257">Admin</text></g><g class="entity" data-entity="catalog" data-source-line="8" data-uid="ent0006" id="entity_catalog"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="152.0162" x="281.2813" y="256.2188" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="412.4641" y="261.4271" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="410.3808" y="263.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="410.3808" y="267.6771" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="99.9329" x="302.1146" y="293.8632">Product Catalog</text></g><g class="entity" data-entity="cart" data-source-line="9" data-uid="ent0007" id="entity_cart"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="141.1886" x="470.0313" y="256.2188" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="590.3865" y="261.4271" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="588.3031" y="263.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="588.3031" y="267.6771" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="89.1052" x="490.8646" y="293.8632">Shopping Cart</text></g><g class="entity" data-entity="checkout" data-source-line="10" data-uid="ent0008" id="entity_checkout"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="111.0067" x="819.5" y="256.2188" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="909.6733" y="261.4271" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="907.59" y="263.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="907.59" y="267.6771" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="58.9233" x="840.3333" y="293.8632">Checkout</text></g><g class="entity" data-entity="account" data-source-line="11" data-uid="ent0009" id="entity_account"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="135.2376" x="648.0104" y="256.2188" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="762.4147" y="261.4271" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="760.3314" y="263.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="760.3314" y="267.6771" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="83.1543" x="668.8438" y="293.8632">User Account</text></g><g class="entity" data-entity="products" data-source-line="15" data-uid="ent0011" id="entity_products"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="186.3546" x="246.4063" y="446.2917" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="411.9275" y="451.5" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="409.8442" y="453.5833" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="409.8442" y="457.75" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="134.2712" x="267.2396" y="483.9361">Product Management</text></g><g class="entity" data-entity="orders" data-source-line="16" data-uid="ent0012" id="entity_orders"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="159.0413" x="672.5625" y="446.2917" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="810.7705" y="451.5" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="808.6872" y="453.5833" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="808.6872" y="457.75" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="106.958" x="693.3958" y="483.9361">Order Processing</text></g><g class="entity" data-entity="payments" data-source-line="17" data-uid="ent0013" id="entity_payments"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="166.5609" x="867.7604" y="446.2917" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="1013.488" y="451.5" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="1011.4046" y="453.5833" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="1011.4046" y="457.75" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="114.4775" x="888.5938" y="483.9361">Payment Gateway</text></g><g class="entity" data-entity="inventory" data-source-line="18" data-uid="ent0014" id="entity_inventory"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="162.3739" x="47.9792" y="446.2917" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="189.5197" y="451.5" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="187.4364" y="453.5833" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="187.4364" y="457.75" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="110.2905" x="68.8125" y="483.9361">Inventory System</text></g><g class="entity" data-entity="users" data-source-line="19" data-uid="ent0015" id="entity_users"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="166.8905" x="469.6771" y="446.2917" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="615.7342" y="451.5" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="613.6509" y="453.5833" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="613.6509" y="457.75" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="114.8071" x="490.5104" y="483.9361">User Management</text></g><g class="entity" data-entity="productdb" data-source-line="23" data-uid="ent0017" id="entity_productdb"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="122.2127" x="218.0625" y="597.3021" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="319.4419" y="602.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="317.3586" y="604.5938" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="317.3586" y="608.7604" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="70.1294" x="238.8958" y="634.9465">Product <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="An organized collection of structured data stored electronically in a computer system, typically accessed via a database management system." data-glossary-term="Database">DB</span></text></g><g class="entity" data-entity="orderdb" data-source-line="24" data-uid="ent0018" id="entity_orderdb"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="109.9996" x="515.8333" y="597.3021" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="604.9996" y="602.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="602.9163" y="604.5938" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="602.9163" y="608.7604" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="57.9163" x="536.6667" y="634.9465">Order <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="An organized collection of structured data stored electronically in a computer system, typically accessed via a database management system." data-glossary-term="Database">DB</span></text></g><g class="entity" data-entity="userdb" data-source-line="25" data-uid="ent0019" id="entity_userdb"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="102.7486" x="376.75" y="597.3021" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="458.6653" y="602.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="456.5819" y="604.5938" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="456.5819" y="608.7604" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="50.6653" x="397.5833" y="634.9465">User <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="An organized collection of structured data stored electronically in a computer system, typically accessed via a database management system." data-glossary-term="Database">DB</span></text></g><g class="entity" data-entity="invdb" data-source-line="26" data-uid="ent0020" id="entity_invdb"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="133.962" x="47.6042" y="597.3021" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="160.7328" y="602.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="158.6495" y="604.5938" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="158.6495" y="608.7604" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="81.8787" x="68.4375" y="634.9465">Inventory <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="An organized collection of structured data stored electronically in a computer system, typically accessed via a database management system." data-glossary-term="Database">DB</span></text></g><g class="entity" data-entity="payprocessor" data-source-line="30" data-uid="ent0022" id="entity_payprocessor"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="172.0418" x="1024.3958" y="597.3021" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="1175.6043" y="602.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="1173.521" y="604.5938" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="1173.521" y="608.7604" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="119.9585" x="1045.2292" y="634.9465">Payment <span class="glossary-term" data-glossary-category="Mechatronics" data-glossary-definition="The primary component of a computer that performs most processing operations, executing instructions from programs." data-glossary-full-form="Central Processing Unit" data-glossary-term="CPU">Processor</span></text></g><g class="entity" data-entity="shipping" data-source-line="31" data-uid="ent0023" id="entity_shipping"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="130.3609" x="857.7396" y="597.3021" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="967.2672" y="602.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="965.1838" y="604.5938" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="965.1838" y="608.7604" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="78.2776" x="878.5729" y="634.9465">Shipping <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A set of protocols and tools for building software applications, defining how components interact." data-glossary-full-form="Application Programming Interface" data-glossary-term="API">API</span></text></g><g class="entity" data-entity="email" data-source-line="32" data-uid="ent0024" id="entity_email"><rect fill="url(#gl3t5g8vonfq10)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="136.9344" x="684.6563" y="597.3021" /><rect fill="url(#gl3t5g8vonfq10)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="800.7573" y="602.5104" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="798.674" y="604.5938" /><rect fill="url(#gl3t5g8vonfq10)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="798.674" y="608.7604" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="84.8511" x="705.4896" y="634.9465">Email Service</text></g><g class="link" data-entity-1="Customer" data-entity-2="catalog" data-source-line="35" data-uid="lnk25" id="link_Customer_catalog"><path d="M587.875,103.1562 C547.8438,113.2604 482.9271,133.9271 437.5,169.7604 C407.75,193.2292 387.2847,225.1109 373.618,250.5067" fill="none" id="Customer-to-catalog" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="370.6563,256.0104,378.768,249.7294,373.1244,251.424,371.4298,245.7804,370.6563,256.0104" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="104.6265" x="443.75" y="187.6132">Browse products</text></g><g class="link" data-entity-1="Customer" data-entity-2="cart" data-source-line="36" data-uid="lnk26" id="link_Customer_cart"><path d="M590.7188,138.7813 C584.1875,148.6146 577.8438,159.2708 572.9167,169.7604 C559.7604,197.7708 552.2093,226.1292 547.1468,249.6812" fill="none" id="Customer-to-cart" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="545.8333,255.7917,551.8771,247.5016,546.9279,250.6996,543.7299,245.7504,545.8333,255.7917" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="69.4885" x="579.1667" y="187.6132">Add to cart</text></g><g class="link" data-entity-1="Customer" data-entity-2="checkout" data-source-line="37" data-uid="lnk27" id="link_Customer_checkout"><path d="M659.9896,106.4062 C694.5833,118.2917 747.1146,139.5729 785.4167,169.7604 C816.1771,194.0104 839.353,225.5983 855.3842,250.6816" fill="none" id="Customer-to-checkout" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="858.75,255.9479,857.2122,245.8046,855.9452,251.5593,850.1904,250.2923,858.75,255.9479" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="57.2571" x="816.6667" y="187.6132">Purchase</text></g><g class="link" data-entity-1="Customer" data-entity-2="account" data-source-line="38" data-uid="lnk28" id="link_Customer_account"><path d="M645.2188,138.9063 C662.8333,175.0208 684.5732,219.6114 699.542,250.3094" fill="none" id="Customer-to-account" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="702.2813,255.9271,701.9175,245.6743,699.9985,251.2456,694.4272,249.3267,702.2813,255.9271" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="93.3838" x="678.125" y="187.6132">Manage <span class="glossary-term" data-glossary-category="Programming Fundamentals" data-glossary-definition="A form of dynamic program analysis that measures program performance, such as execution time and memory usage, to identify bottlenecks." data-glossary-term="Profiling">profile</span></text></g><g class="link" data-entity-1="Admin" data-entity-2="products" data-source-line="40" data-uid="lnk29" id="link_Admin_products"><path d="M220.4063,328.6458 C222.2813,347.25 226.6875,368.6458 236.4583,385.875 C250.2396,410.1771 268.4208,427.1351 289.3583,442.2393" fill="none" id="Admin-to-products" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="294.4271,445.8958,289.2617,437.0318,290.2031,442.8487,284.3863,443.7902,294.4271,445.8958" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="99.7742" x="242.7083" y="377.6861">Manage catalog</text></g><g class="link" data-entity-1="Admin" data-entity-2="orders" data-source-line="41" data-uid="lnk30" id="link_Admin_orders"><path d="M245.5313,322.3125 C251.1771,328.1979 257.5833,333.5938 264.5833,337.4375 C303.0208,358.5625 615.0625,376.5417 655.2083,394.2083 C682.6354,406.2813 704.1805,423.9707 722.3264,441.7415" fill="none" id="Admin-to-orders" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="726.7917,446.1146,723.009,436.5782,723.0706,442.4704,717.1783,442.5319,726.7917,446.1146" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="91.9495" x="622.9167" y="377.6861">Process orders</text></g><g class="link" data-entity-1="Admin" data-entity-2="inventory" data-source-line="42" data-uid="lnk31" id="link_Admin_inventory"><path d="M194.5104,293.4271 C166.6458,303.8125 123.2604,324.8333 104.1667,359.8333 C89.3854,386.9479 98.4184,416.6 110.3247,440.5792" fill="none" id="Admin-to-inventory" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="113.1042,446.1771,112.6669,435.9272,110.7879,441.5121,105.2029,439.6332,113.1042,446.1771" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="82.4158" x="110.4167" y="377.6861">Update stock</text></g><g class="link" data-entity-1="catalog" data-entity-2="products" data-source-line="44" data-uid="lnk32" id="link_catalog_products"><path d="M358.3125,312.75 C358.7604,333 358.7083,361.2188 356.25,385.875 C354.2292,406.1875 351.1896,422.7068 347.4396,439.8527" fill="none" id="catalog-to-products" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="346.1042,445.9583,352.1777,437.6901,347.217,440.8703,344.0368,435.9096,346.1042,445.9583" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="cart" data-entity-2="products" data-source-line="45" data-uid="lnk33" id="link_cart_products"><path d="M546.5833,312.7292 C549.7813,335.4792 549.8646,367.0729 531.25,385.875 C518.6458,398.6146 467.8125,387.8854 451.0417,394.2083 C420.3958,405.7604 395.1633,423.8231 374.0279,441.7398" fill="none" id="cart-to-products" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="369.2604,445.7813,379.106,442.8974,373.2333,442.4134,373.7174,436.5407,369.2604,445.7813" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="checkout" data-entity-2="orders" data-source-line="46" data-uid="lnk34" id="link_checkout_orders"><path d="M857.125,312.7083 C833.8229,348.3542 796.7119,405.1022 773.3994,440.7584" fill="none" id="checkout-to-orders" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="769.9792,445.9896,778.5969,440.423,772.8293,441.6303,771.622,435.8627,769.9792,445.9896" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="checkout" data-entity-2="payments" data-source-line="47" data-uid="lnk35" id="link_checkout_payments"><path d="M886.0521,312.7083 C900.4792,348.3542 923.2093,404.539 937.626,440.1953" fill="none" id="checkout-to-payments" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="939.9688,445.9896,940.3175,435.7363,938.0164,441.161,932.5917,438.86,939.9688,445.9896" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="account" data-entity-2="users" data-source-line="48" data-uid="lnk36" id="link_account_users"><path d="M692,312.7083 C661.1875,348.3542 611.6915,405.6051 580.8686,441.2613" fill="none" id="account-to-users" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="576.7813,445.9896,586.0644,441.6221,580.1873,442.0494,579.7601,436.1723,576.7813,445.9896" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="products" data-entity-2="productdb" data-source-line="50" data-uid="lnk37" id="link_products_productdb"><path d="M328.5,502.7604 C317.6042,529.6354 303.4012,564.6249 292.5262,591.4374" fill="none" id="products-to-productdb" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="290.1771,597.2292,297.5619,590.1076,292.1347,592.4027,289.8396,586.9755,290.1771,597.2292" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="orders" data-entity-2="orderdb" data-source-line="51" data-uid="lnk38" id="link_orders_orderdb"><path d="M718.8438,502.7604 C686.2396,529.5521 641.6307,566.1984 609.0057,593.0109" fill="none" id="orders-to-orderdb" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="604.1771,596.9792,614.0655,594.2458,608.2009,593.6722,608.7744,587.8077,604.1771,596.9792" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="users" data-entity-2="userdb" data-source-line="52" data-uid="lnk39" id="link_users_userdb"><path d="M530.1979,502.7604 C507.6458,529.6354 477.4238,565.629 454.9238,592.4415" fill="none" id="users-to-userdb" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="450.9063,597.2292,460.1244,592.7261,454.2542,593.2395,453.7409,587.3693,450.9063,597.2292" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="inventory" data-entity-2="invdb" data-source-line="53" data-uid="lnk40" id="link_inventory_invdb"><path d="M126.4896,502.7604 C123.8646,529.6354 120.4736,564.1964 117.8486,591.0089" fill="none" id="inventory-to-invdb" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="117.2396,597.2292,122.2999,588.3048,117.7471,592.0456,114.0062,587.4928,117.2396,597.2292" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="payments" data-entity-2="payprocessor" data-source-line="55" data-uid="lnk41" id="link_payments_payprocessor"><path d="M980.2708,502.7604 C1008.9375,529.5521 1047.8394,565.8998 1076.5373,592.7123" fill="none" id="payments-to-payprocessor" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="1081.1042,596.9792,1077.0984,587.5343,1077.2984,593.4235,1071.4093,593.6235,1081.1042,596.9792" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="orders" data-entity-2="shipping" data-source-line="56" data-uid="lnk42" id="link_orders_shipping"><path d="M787.9896,502.9375 C804.0417,515.5208 823.0208,530.8021 839.5833,545.2188 C858.6979,561.8646 874.8753,577.1096 890.844,592.6513" fill="none" id="orders-to-shipping" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="895.3229,597.0104,891.5106,587.4858,891.5905,593.3778,885.6985,593.4577,895.3229,597.0104" style="stroke:#EC7211;stroke-width:3.125;" /></g><g class="link" data-entity-1="orders" data-entity-2="email" data-source-line="57" data-uid="lnk43" id="link_orders_email"><path d="M752.2708,502.7604 C752.4583,529.6354 752.7063,564.1668 752.8938,590.9793" fill="none" id="orders-to-email" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="752.9375,597.2292,757.0385,587.8253,752.9011,592.021,748.7054,587.8835,752.9375,597.2292" style="stroke:#EC7211;stroke-width:3.125;" /></g></g></svg></p></div></div>
<h4 id="python-example-e-commerce-core-functionality">Python Example: E-commerce Core Functionality<a class="headerlink" href="#python-example-e-commerce-core-functionality" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">jsonify</span><span class="p">,</span> <span class="n">session</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">werkzeug.security</span><span class="w"> </span><span class="kn">import</span> <span class="n">generate_password_hash</span><span class="p">,</span> <span class="n">check_password_hash</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">decimal</span><span class="w"> </span><span class="kn">import</span> <span class="n">Decimal</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="n">app</span><span class="o">.</span><span class="n">secret_key</span> <span class="o">=</span> <span class="s1">&#39;your-secret-key-here&#39;</span>  <span class="c1"># In production, use environment variable</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="c1"># In-memory databases for demo (use real databases in production)</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="n">products_db</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    <span class="s1">&#39;prod_1&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;prod_1&#39;</span><span class="p">,</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Python Programming Book&#39;</span><span class="p">,</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Comprehensive guide to Python programming&#39;</span><span class="p">,</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>        <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;49.99&#39;</span><span class="p">),</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>        <span class="s1">&#39;stock&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>        <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="s1">&#39;books&#39;</span><span class="p">,</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>        <span class="s1">&#39;image_url&#39;</span><span class="p">:</span> <span class="s1">&#39;/static/images/python_book.jpg&#39;</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>    <span class="p">},</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    <span class="s1">&#39;prod_2&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;prod_2&#39;</span><span class="p">,</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Web Development Course&#39;</span><span class="p">,</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Online course covering HTML, CSS, JavaScript, and Python&#39;</span><span class="p">,</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>        <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;199.99&#39;</span><span class="p">),</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>        <span class="s1">&#39;stock&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>        <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="s1">&#39;courses&#39;</span><span class="p">,</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>        <span class="s1">&#39;image_url&#39;</span><span class="p">:</span> <span class="s1">&#39;/static/images/web_course.jpg&#39;</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>    <span class="p">}</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="p">}</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="n">users_db</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="n">orders_db</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="n">carts_db</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="k">class</span><span class="w"> </span><span class="nc">EcommerceManager</span><span class="p">:</span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Core e-commerce functionality manager.&quot;&quot;&quot;</span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_user</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new user account.&quot;&quot;&quot;</span>
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>        <span class="k">if</span> <span class="n">email</span> <span class="ow">in</span> <span class="n">users_db</span><span class="p">:</span>
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Email already registered&#39;</span><span class="p">}</span>
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>        <span class="n">user_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a>        <span class="n">users_db</span><span class="p">[</span><span class="n">email</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-48"><a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a>            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
</span><span id="__span-1-49"><a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a>            <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span>
</span><span id="__span-1-50"><a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a>            <span class="s1">&#39;password_hash&#39;</span><span class="p">:</span> <span class="n">generate_password_hash</span><span class="p">(</span><span class="n">password</span><span class="p">),</span>
</span><span id="__span-1-51"><a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a>            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
</span><span id="__span-1-52"><a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a>            <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-1-53"><a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a>            <span class="s1">&#39;addresses&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-1-54"><a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a>            <span class="s1">&#39;payment_methods&#39;</span><span class="p">:</span> <span class="p">[]</span>
</span><span id="__span-1-55"><a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a>        <span class="p">}</span>
</span><span id="__span-1-56"><a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a>
</span><span id="__span-1-57"><a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a>        <span class="c1"># Initialize empty cart</span>
</span><span id="__span-1-58"><a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a>        <span class="n">carts_db</span><span class="p">[</span><span class="n">user_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)}</span>
</span><span id="__span-1-59"><a id="__codelineno-1-59" name="__codelineno-1-59" href="#__codelineno-1-59"></a>
</span><span id="__span-1-60"><a id="__codelineno-1-60" name="__codelineno-1-60" href="#__codelineno-1-60"></a>        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;user_id&#39;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">}</span>
</span><span id="__span-1-61"><a id="__codelineno-1-61" name="__codelineno-1-61" href="#__codelineno-1-61"></a>
</span><span id="__span-1-62"><a id="__codelineno-1-62" name="__codelineno-1-62" href="#__codelineno-1-62"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-1-63"><a id="__codelineno-1-63" name="__codelineno-1-63" href="#__codelineno-1-63"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">authenticate_user</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
</span><span id="__span-1-64"><a id="__codelineno-1-64" name="__codelineno-1-64" href="#__codelineno-1-64"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate user login.&quot;&quot;&quot;</span>
</span><span id="__span-1-65"><a id="__codelineno-1-65" name="__codelineno-1-65" href="#__codelineno-1-65"></a>        <span class="n">user</span> <span class="o">=</span> <span class="n">users_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
</span><span id="__span-1-66"><a id="__codelineno-1-66" name="__codelineno-1-66" href="#__codelineno-1-66"></a>        <span class="k">if</span> <span class="n">user</span> <span class="ow">and</span> <span class="n">check_password_hash</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;password_hash&#39;</span><span class="p">],</span> <span class="n">password</span><span class="p">):</span>
</span><span id="__span-1-67"><a id="__codelineno-1-67" name="__codelineno-1-67" href="#__codelineno-1-67"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="n">user</span><span class="p">}</span>
</span><span id="__span-1-68"><a id="__codelineno-1-68" name="__codelineno-1-68" href="#__codelineno-1-68"></a>        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Invalid credentials&#39;</span><span class="p">}</span>
</span><span id="__span-1-69"><a id="__codelineno-1-69" name="__codelineno-1-69" href="#__codelineno-1-69"></a>
</span><span id="__span-1-70"><a id="__codelineno-1-70" name="__codelineno-1-70" href="#__codelineno-1-70"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-1-71"><a id="__codelineno-1-71" name="__codelineno-1-71" href="#__codelineno-1-71"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">add_to_cart</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">product_id</span><span class="p">,</span> <span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="__span-1-72"><a id="__codelineno-1-72" name="__codelineno-1-72" href="#__codelineno-1-72"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Add product to user&#39;s cart.&quot;&quot;&quot;</span>
</span><span id="__span-1-73"><a id="__codelineno-1-73" name="__codelineno-1-73" href="#__codelineno-1-73"></a>        <span class="k">if</span> <span class="n">product_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">products_db</span><span class="p">:</span>
</span><span id="__span-1-74"><a id="__codelineno-1-74" name="__codelineno-1-74" href="#__codelineno-1-74"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Product not found&#39;</span><span class="p">}</span>
</span><span id="__span-1-75"><a id="__codelineno-1-75" name="__codelineno-1-75" href="#__codelineno-1-75"></a>
</span><span id="__span-1-76"><a id="__codelineno-1-76" name="__codelineno-1-76" href="#__codelineno-1-76"></a>        <span class="n">product</span> <span class="o">=</span> <span class="n">products_db</span><span class="p">[</span><span class="n">product_id</span><span class="p">]</span>
</span><span id="__span-1-77"><a id="__codelineno-1-77" name="__codelineno-1-77" href="#__codelineno-1-77"></a>
</span><span id="__span-1-78"><a id="__codelineno-1-78" name="__codelineno-1-78" href="#__codelineno-1-78"></a>        <span class="k">if</span> <span class="n">product</span><span class="p">[</span><span class="s1">&#39;stock&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">quantity</span><span class="p">:</span>
</span><span id="__span-1-79"><a id="__codelineno-1-79" name="__codelineno-1-79" href="#__codelineno-1-79"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Insufficient stock&#39;</span><span class="p">}</span>
</span><span id="__span-1-80"><a id="__codelineno-1-80" name="__codelineno-1-80" href="#__codelineno-1-80"></a>
</span><span id="__span-1-81"><a id="__codelineno-1-81" name="__codelineno-1-81" href="#__codelineno-1-81"></a>        <span class="n">cart</span> <span class="o">=</span> <span class="n">carts_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)})</span>
</span><span id="__span-1-82"><a id="__codelineno-1-82" name="__codelineno-1-82" href="#__codelineno-1-82"></a>
</span><span id="__span-1-83"><a id="__codelineno-1-83" name="__codelineno-1-83" href="#__codelineno-1-83"></a>        <span class="c1"># Check if product already in cart</span>
</span><span id="__span-1-84"><a id="__codelineno-1-84" name="__codelineno-1-84" href="#__codelineno-1-84"></a>        <span class="n">existing_item</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-1-85"><a id="__codelineno-1-85" name="__codelineno-1-85" href="#__codelineno-1-85"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span><span id="__span-1-86"><a id="__codelineno-1-86" name="__codelineno-1-86" href="#__codelineno-1-86"></a>            <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;product_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">:</span>
</span><span id="__span-1-87"><a id="__codelineno-1-87" name="__codelineno-1-87" href="#__codelineno-1-87"></a>                <span class="n">existing_item</span> <span class="o">=</span> <span class="n">item</span>
</span><span id="__span-1-88"><a id="__codelineno-1-88" name="__codelineno-1-88" href="#__codelineno-1-88"></a>                <span class="k">break</span>
</span><span id="__span-1-89"><a id="__codelineno-1-89" name="__codelineno-1-89" href="#__codelineno-1-89"></a>
</span><span id="__span-1-90"><a id="__codelineno-1-90" name="__codelineno-1-90" href="#__codelineno-1-90"></a>        <span class="k">if</span> <span class="n">existing_item</span><span class="p">:</span>
</span><span id="__span-1-91"><a id="__codelineno-1-91" name="__codelineno-1-91" href="#__codelineno-1-91"></a>            <span class="n">existing_item</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">quantity</span>
</span><span id="__span-1-92"><a id="__codelineno-1-92" name="__codelineno-1-92" href="#__codelineno-1-92"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-93"><a id="__codelineno-1-93" name="__codelineno-1-93" href="#__codelineno-1-93"></a>            <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
</span><span id="__span-1-94"><a id="__codelineno-1-94" name="__codelineno-1-94" href="#__codelineno-1-94"></a>                <span class="s1">&#39;product_id&#39;</span><span class="p">:</span> <span class="n">product_id</span><span class="p">,</span>
</span><span id="__span-1-95"><a id="__codelineno-1-95" name="__codelineno-1-95" href="#__codelineno-1-95"></a>                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">product</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
</span><span id="__span-1-96"><a id="__codelineno-1-96" name="__codelineno-1-96" href="#__codelineno-1-96"></a>                <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="n">product</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">],</span>
</span><span id="__span-1-97"><a id="__codelineno-1-97" name="__codelineno-1-97" href="#__codelineno-1-97"></a>                <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="n">quantity</span>
</span><span id="__span-1-98"><a id="__codelineno-1-98" name="__codelineno-1-98" href="#__codelineno-1-98"></a>            <span class="p">})</span>
</span><span id="__span-1-99"><a id="__codelineno-1-99" name="__codelineno-1-99" href="#__codelineno-1-99"></a>
</span><span id="__span-1-100"><a id="__codelineno-1-100" name="__codelineno-1-100" href="#__codelineno-1-100"></a>        <span class="c1"># Recalculate total</span>
</span><span id="__span-1-101"><a id="__codelineno-1-101" name="__codelineno-1-101" href="#__codelineno-1-101"></a>        <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span>
</span><span id="__span-1-102"><a id="__codelineno-1-102" name="__codelineno-1-102" href="#__codelineno-1-102"></a>            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">]</span> 
</span><span id="__span-1-103"><a id="__codelineno-1-103" name="__codelineno-1-103" href="#__codelineno-1-103"></a>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]</span>
</span><span id="__span-1-104"><a id="__codelineno-1-104" name="__codelineno-1-104" href="#__codelineno-1-104"></a>        <span class="p">)</span>
</span><span id="__span-1-105"><a id="__codelineno-1-105" name="__codelineno-1-105" href="#__codelineno-1-105"></a>
</span><span id="__span-1-106"><a id="__codelineno-1-106" name="__codelineno-1-106" href="#__codelineno-1-106"></a>        <span class="n">carts_db</span><span class="p">[</span><span class="n">user_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">cart</span>
</span><span id="__span-1-107"><a id="__codelineno-1-107" name="__codelineno-1-107" href="#__codelineno-1-107"></a>        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;cart&#39;</span><span class="p">:</span> <span class="n">cart</span><span class="p">}</span>
</span><span id="__span-1-108"><a id="__codelineno-1-108" name="__codelineno-1-108" href="#__codelineno-1-108"></a>
</span><span id="__span-1-109"><a id="__codelineno-1-109" name="__codelineno-1-109" href="#__codelineno-1-109"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-1-110"><a id="__codelineno-1-110" name="__codelineno-1-110" href="#__codelineno-1-110"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">process_checkout</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">payment_info</span><span class="p">,</span> <span class="n">shipping_address</span><span class="p">):</span>
</span><span id="__span-1-111"><a id="__codelineno-1-111" name="__codelineno-1-111" href="#__codelineno-1-111"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Process checkout and create order.&quot;&quot;&quot;</span>
</span><span id="__span-1-112"><a id="__codelineno-1-112" name="__codelineno-1-112" href="#__codelineno-1-112"></a>        <span class="n">cart</span> <span class="o">=</span> <span class="n">carts_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
</span><span id="__span-1-113"><a id="__codelineno-1-113" name="__codelineno-1-113" href="#__codelineno-1-113"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">cart</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span><span id="__span-1-114"><a id="__codelineno-1-114" name="__codelineno-1-114" href="#__codelineno-1-114"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Cart is empty&#39;</span><span class="p">}</span>
</span><span id="__span-1-115"><a id="__codelineno-1-115" name="__codelineno-1-115" href="#__codelineno-1-115"></a>
</span><span id="__span-1-116"><a id="__codelineno-1-116" name="__codelineno-1-116" href="#__codelineno-1-116"></a>        <span class="c1"># Validate stock availability</span>
</span><span id="__span-1-117"><a id="__codelineno-1-117" name="__codelineno-1-117" href="#__codelineno-1-117"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span><span id="__span-1-118"><a id="__codelineno-1-118" name="__codelineno-1-118" href="#__codelineno-1-118"></a>            <span class="n">product</span> <span class="o">=</span> <span class="n">products_db</span><span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;product_id&#39;</span><span class="p">]]</span>
</span><span id="__span-1-119"><a id="__codelineno-1-119" name="__codelineno-1-119" href="#__codelineno-1-119"></a>            <span class="k">if</span> <span class="n">product</span><span class="p">[</span><span class="s1">&#39;stock&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">]:</span>
</span><span id="__span-1-120"><a id="__codelineno-1-120" name="__codelineno-1-120" href="#__codelineno-1-120"></a>                <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-1-121"><a id="__codelineno-1-121" name="__codelineno-1-121" href="#__codelineno-1-121"></a>                    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
</span><span id="__span-1-122"><a id="__codelineno-1-122" name="__codelineno-1-122" href="#__codelineno-1-122"></a>                    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;Insufficient stock for </span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="__span-1-123"><a id="__codelineno-1-123" name="__codelineno-1-123" href="#__codelineno-1-123"></a>                <span class="p">}</span>
</span><span id="__span-1-124"><a id="__codelineno-1-124" name="__codelineno-1-124" href="#__codelineno-1-124"></a>
</span><span id="__span-1-125"><a id="__codelineno-1-125" name="__codelineno-1-125" href="#__codelineno-1-125"></a>        <span class="c1"># Create order</span>
</span><span id="__span-1-126"><a id="__codelineno-1-126" name="__codelineno-1-126" href="#__codelineno-1-126"></a>        <span class="n">order_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
</span><span id="__span-1-127"><a id="__codelineno-1-127" name="__codelineno-1-127" href="#__codelineno-1-127"></a>        <span class="n">order</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-128"><a id="__codelineno-1-128" name="__codelineno-1-128" href="#__codelineno-1-128"></a>            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">order_id</span><span class="p">,</span>
</span><span id="__span-1-129"><a id="__codelineno-1-129" name="__codelineno-1-129" href="#__codelineno-1-129"></a>            <span class="s1">&#39;user_id&#39;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
</span><span id="__span-1-130"><a id="__codelineno-1-130" name="__codelineno-1-130" href="#__codelineno-1-130"></a>            <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
</span><span id="__span-1-131"><a id="__codelineno-1-131" name="__codelineno-1-131" href="#__codelineno-1-131"></a>            <span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">],</span>
</span><span id="__span-1-132"><a id="__codelineno-1-132" name="__codelineno-1-132" href="#__codelineno-1-132"></a>            <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;pending&#39;</span><span class="p">,</span>
</span><span id="__span-1-133"><a id="__codelineno-1-133" name="__codelineno-1-133" href="#__codelineno-1-133"></a>            <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-1-134"><a id="__codelineno-1-134" name="__codelineno-1-134" href="#__codelineno-1-134"></a>            <span class="s1">&#39;shipping_address&#39;</span><span class="p">:</span> <span class="n">shipping_address</span><span class="p">,</span>
</span><span id="__span-1-135"><a id="__codelineno-1-135" name="__codelineno-1-135" href="#__codelineno-1-135"></a>            <span class="s1">&#39;payment_info&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-136"><a id="__codelineno-1-136" name="__codelineno-1-136" href="#__codelineno-1-136"></a>                <span class="s1">&#39;method&#39;</span><span class="p">:</span> <span class="n">payment_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;method&#39;</span><span class="p">),</span>
</span><span id="__span-1-137"><a id="__codelineno-1-137" name="__codelineno-1-137" href="#__codelineno-1-137"></a>                <span class="s1">&#39;last_four&#39;</span><span class="p">:</span> <span class="n">payment_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;card_number&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="k">if</span> <span class="n">payment_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;card_number&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
</span><span id="__span-1-138"><a id="__codelineno-1-138" name="__codelineno-1-138" href="#__codelineno-1-138"></a>            <span class="p">}</span>
</span><span id="__span-1-139"><a id="__codelineno-1-139" name="__codelineno-1-139" href="#__codelineno-1-139"></a>        <span class="p">}</span>
</span><span id="__span-1-140"><a id="__codelineno-1-140" name="__codelineno-1-140" href="#__codelineno-1-140"></a>
</span><span id="__span-1-141"><a id="__codelineno-1-141" name="__codelineno-1-141" href="#__codelineno-1-141"></a>        <span class="c1"># Process payment (simplified - in production, use secure payment gateway)</span>
</span><span id="__span-1-142"><a id="__codelineno-1-142" name="__codelineno-1-142" href="#__codelineno-1-142"></a>        <span class="n">payment_result</span> <span class="o">=</span> <span class="n">EcommerceManager</span><span class="o">.</span><span class="n">_process_payment</span><span class="p">(</span><span class="n">payment_info</span><span class="p">,</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">])</span>
</span><span id="__span-1-143"><a id="__codelineno-1-143" name="__codelineno-1-143" href="#__codelineno-1-143"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">payment_result</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
</span><span id="__span-1-144"><a id="__codelineno-1-144" name="__codelineno-1-144" href="#__codelineno-1-144"></a>            <span class="k">return</span> <span class="n">payment_result</span>
</span><span id="__span-1-145"><a id="__codelineno-1-145" name="__codelineno-1-145" href="#__codelineno-1-145"></a>
</span><span id="__span-1-146"><a id="__codelineno-1-146" name="__codelineno-1-146" href="#__codelineno-1-146"></a>        <span class="c1"># Update inventory</span>
</span><span id="__span-1-147"><a id="__codelineno-1-147" name="__codelineno-1-147" href="#__codelineno-1-147"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span><span id="__span-1-148"><a id="__codelineno-1-148" name="__codelineno-1-148" href="#__codelineno-1-148"></a>            <span class="n">products_db</span><span class="p">[</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;product_id&#39;</span><span class="p">]][</span><span class="s1">&#39;stock&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">]</span>
</span><span id="__span-1-149"><a id="__codelineno-1-149" name="__codelineno-1-149" href="#__codelineno-1-149"></a>
</span><span id="__span-1-150"><a id="__codelineno-1-150" name="__codelineno-1-150" href="#__codelineno-1-150"></a>        <span class="c1"># Save order and clear cart</span>
</span><span id="__span-1-151"><a id="__codelineno-1-151" name="__codelineno-1-151" href="#__codelineno-1-151"></a>        <span class="n">orders_db</span><span class="p">[</span><span class="n">order_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">order</span>
</span><span id="__span-1-152"><a id="__codelineno-1-152" name="__codelineno-1-152" href="#__codelineno-1-152"></a>        <span class="n">carts_db</span><span class="p">[</span><span class="n">user_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)}</span>
</span><span id="__span-1-153"><a id="__codelineno-1-153" name="__codelineno-1-153" href="#__codelineno-1-153"></a>
</span><span id="__span-1-154"><a id="__codelineno-1-154" name="__codelineno-1-154" href="#__codelineno-1-154"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-1-155"><a id="__codelineno-1-155" name="__codelineno-1-155" href="#__codelineno-1-155"></a>            <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-1-156"><a id="__codelineno-1-156" name="__codelineno-1-156" href="#__codelineno-1-156"></a>            <span class="s1">&#39;order_id&#39;</span><span class="p">:</span> <span class="n">order_id</span><span class="p">,</span>
</span><span id="__span-1-157"><a id="__codelineno-1-157" name="__codelineno-1-157" href="#__codelineno-1-157"></a>            <span class="s1">&#39;order&#39;</span><span class="p">:</span> <span class="n">order</span>
</span><span id="__span-1-158"><a id="__codelineno-1-158" name="__codelineno-1-158" href="#__codelineno-1-158"></a>        <span class="p">}</span>
</span><span id="__span-1-159"><a id="__codelineno-1-159" name="__codelineno-1-159" href="#__codelineno-1-159"></a>
</span><span id="__span-1-160"><a id="__codelineno-1-160" name="__codelineno-1-160" href="#__codelineno-1-160"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-1-161"><a id="__codelineno-1-161" name="__codelineno-1-161" href="#__codelineno-1-161"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_process_payment</span><span class="p">(</span><span class="n">payment_info</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
</span><span id="__span-1-162"><a id="__codelineno-1-162" name="__codelineno-1-162" href="#__codelineno-1-162"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate payment processing.&quot;&quot;&quot;</span>
</span><span id="__span-1-163"><a id="__codelineno-1-163" name="__codelineno-1-163" href="#__codelineno-1-163"></a>        <span class="c1"># In production, integrate with payment gateway (Stripe, PayPal, etc.)</span>
</span><span id="__span-1-164"><a id="__codelineno-1-164" name="__codelineno-1-164" href="#__codelineno-1-164"></a>        <span class="n">card_number</span> <span class="o">=</span> <span class="n">payment_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;card_number&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="__span-1-165"><a id="__codelineno-1-165" name="__codelineno-1-165" href="#__codelineno-1-165"></a>
</span><span id="__span-1-166"><a id="__codelineno-1-166" name="__codelineno-1-166" href="#__codelineno-1-166"></a>        <span class="c1"># Basic validation</span>
</span><span id="__span-1-167"><a id="__codelineno-1-167" name="__codelineno-1-167" href="#__codelineno-1-167"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">card_number</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">16</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">card_number</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
</span><span id="__span-1-168"><a id="__codelineno-1-168" name="__codelineno-1-168" href="#__codelineno-1-168"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Invalid card number&#39;</span><span class="p">}</span>
</span><span id="__span-1-169"><a id="__codelineno-1-169" name="__codelineno-1-169" href="#__codelineno-1-169"></a>
</span><span id="__span-1-170"><a id="__codelineno-1-170" name="__codelineno-1-170" href="#__codelineno-1-170"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">payment_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cvv&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">payment_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cvv&#39;</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
</span><span id="__span-1-171"><a id="__codelineno-1-171" name="__codelineno-1-171" href="#__codelineno-1-171"></a>            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Invalid CVV&#39;</span><span class="p">}</span>
</span><span id="__span-1-172"><a id="__codelineno-1-172" name="__codelineno-1-172" href="#__codelineno-1-172"></a>
</span><span id="__span-1-173"><a id="__codelineno-1-173" name="__codelineno-1-173" href="#__codelineno-1-173"></a>        <span class="c1"># Simulate payment processing delay and success</span>
</span><span id="__span-1-174"><a id="__codelineno-1-174" name="__codelineno-1-174" href="#__codelineno-1-174"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-1-175"><a id="__codelineno-1-175" name="__codelineno-1-175" href="#__codelineno-1-175"></a>            <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-1-176"><a id="__codelineno-1-176" name="__codelineno-1-176" href="#__codelineno-1-176"></a>            <span class="s1">&#39;transaction_id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()),</span>
</span><span id="__span-1-177"><a id="__codelineno-1-177" name="__codelineno-1-177" href="#__codelineno-1-177"></a>            <span class="s1">&#39;amount&#39;</span><span class="p">:</span> <span class="n">amount</span>
</span><span id="__span-1-178"><a id="__codelineno-1-178" name="__codelineno-1-178" href="#__codelineno-1-178"></a>        <span class="p">}</span>
</span><span id="__span-1-179"><a id="__codelineno-1-179" name="__codelineno-1-179" href="#__codelineno-1-179"></a>
</span><span id="__span-1-180"><a id="__codelineno-1-180" name="__codelineno-1-180" href="#__codelineno-1-180"></a><span class="c1"># API Endpoints</span>
</span><span id="__span-1-181"><a id="__codelineno-1-181" name="__codelineno-1-181" href="#__codelineno-1-181"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/products&#39;</span><span class="p">)</span>
</span><span id="__span-1-182"><a id="__codelineno-1-182" name="__codelineno-1-182" href="#__codelineno-1-182"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_products</span><span class="p">():</span>
</span><span id="__span-1-183"><a id="__codelineno-1-183" name="__codelineno-1-183" href="#__codelineno-1-183"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all products for catalog display.&quot;&quot;&quot;</span>
</span><span id="__span-1-184"><a id="__codelineno-1-184" name="__codelineno-1-184" href="#__codelineno-1-184"></a>    <span class="c1"># Convert Decimal to float for JSON serialization</span>
</span><span id="__span-1-185"><a id="__codelineno-1-185" name="__codelineno-1-185" href="#__codelineno-1-185"></a>    <span class="n">products_for_json</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-186"><a id="__codelineno-1-186" name="__codelineno-1-186" href="#__codelineno-1-186"></a>    <span class="k">for</span> <span class="n">pid</span><span class="p">,</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">products_db</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-1-187"><a id="__codelineno-1-187" name="__codelineno-1-187" href="#__codelineno-1-187"></a>        <span class="n">product_copy</span> <span class="o">=</span> <span class="n">product</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="__span-1-188"><a id="__codelineno-1-188" name="__codelineno-1-188" href="#__codelineno-1-188"></a>        <span class="n">product_copy</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">product_copy</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">])</span>
</span><span id="__span-1-189"><a id="__codelineno-1-189" name="__codelineno-1-189" href="#__codelineno-1-189"></a>        <span class="n">products_for_json</span><span class="p">[</span><span class="n">pid</span><span class="p">]</span> <span class="o">=</span> <span class="n">product_copy</span>
</span><span id="__span-1-190"><a id="__codelineno-1-190" name="__codelineno-1-190" href="#__codelineno-1-190"></a>
</span><span id="__span-1-191"><a id="__codelineno-1-191" name="__codelineno-1-191" href="#__codelineno-1-191"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;products&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">products_for_json</span><span class="o">.</span><span class="n">values</span><span class="p">())})</span>
</span><span id="__span-1-192"><a id="__codelineno-1-192" name="__codelineno-1-192" href="#__codelineno-1-192"></a>
</span><span id="__span-1-193"><a id="__codelineno-1-193" name="__codelineno-1-193" href="#__codelineno-1-193"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/register&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
</span><span id="__span-1-194"><a id="__codelineno-1-194" name="__codelineno-1-194" href="#__codelineno-1-194"></a><span class="k">def</span><span class="w"> </span><span class="nf">register</span><span class="p">():</span>
</span><span id="__span-1-195"><a id="__codelineno-1-195" name="__codelineno-1-195" href="#__codelineno-1-195"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;User registration endpoint.&quot;&quot;&quot;</span>
</span><span id="__span-1-196"><a id="__codelineno-1-196" name="__codelineno-1-196" href="#__codelineno-1-196"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</span><span id="__span-1-197"><a id="__codelineno-1-197" name="__codelineno-1-197" href="#__codelineno-1-197"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">EcommerceManager</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
</span><span id="__span-1-198"><a id="__codelineno-1-198" name="__codelineno-1-198" href="#__codelineno-1-198"></a>        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">],</span> 
</span><span id="__span-1-199"><a id="__codelineno-1-199" name="__codelineno-1-199" href="#__codelineno-1-199"></a>        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">],</span> 
</span><span id="__span-1-200"><a id="__codelineno-1-200" name="__codelineno-1-200" href="#__codelineno-1-200"></a>        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span id="__span-1-201"><a id="__codelineno-1-201" name="__codelineno-1-201" href="#__codelineno-1-201"></a>    <span class="p">)</span>
</span><span id="__span-1-202"><a id="__codelineno-1-202" name="__codelineno-1-202" href="#__codelineno-1-202"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-1-203"><a id="__codelineno-1-203" name="__codelineno-1-203" href="#__codelineno-1-203"></a>
</span><span id="__span-1-204"><a id="__codelineno-1-204" name="__codelineno-1-204" href="#__codelineno-1-204"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/login&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
</span><span id="__span-1-205"><a id="__codelineno-1-205" name="__codelineno-1-205" href="#__codelineno-1-205"></a><span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">():</span>
</span><span id="__span-1-206"><a id="__codelineno-1-206" name="__codelineno-1-206" href="#__codelineno-1-206"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;User login endpoint.&quot;&quot;&quot;</span>
</span><span id="__span-1-207"><a id="__codelineno-1-207" name="__codelineno-1-207" href="#__codelineno-1-207"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</span><span id="__span-1-208"><a id="__codelineno-1-208" name="__codelineno-1-208" href="#__codelineno-1-208"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">EcommerceManager</span><span class="o">.</span><span class="n">authenticate_user</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">])</span>
</span><span id="__span-1-209"><a id="__codelineno-1-209" name="__codelineno-1-209" href="#__codelineno-1-209"></a>
</span><span id="__span-1-210"><a id="__codelineno-1-210" name="__codelineno-1-210" href="#__codelineno-1-210"></a>    <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
</span><span id="__span-1-211"><a id="__codelineno-1-211" name="__codelineno-1-211" href="#__codelineno-1-211"></a>        <span class="n">session</span><span class="p">[</span><span class="s1">&#39;user_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
</span><span id="__span-1-212"><a id="__codelineno-1-212" name="__codelineno-1-212" href="#__codelineno-1-212"></a>        <span class="n">session</span><span class="p">[</span><span class="s1">&#39;user_email&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">][</span><span class="s1">&#39;email&#39;</span><span class="p">]</span>
</span><span id="__span-1-213"><a id="__codelineno-1-213" name="__codelineno-1-213" href="#__codelineno-1-213"></a>
</span><span id="__span-1-214"><a id="__codelineno-1-214" name="__codelineno-1-214" href="#__codelineno-1-214"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-1-215"><a id="__codelineno-1-215" name="__codelineno-1-215" href="#__codelineno-1-215"></a>
</span><span id="__span-1-216"><a id="__codelineno-1-216" name="__codelineno-1-216" href="#__codelineno-1-216"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/cart&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
</span><span id="__span-1-217"><a id="__codelineno-1-217" name="__codelineno-1-217" href="#__codelineno-1-217"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_cart</span><span class="p">():</span>
</span><span id="__span-1-218"><a id="__codelineno-1-218" name="__codelineno-1-218" href="#__codelineno-1-218"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Cart management endpoint.&quot;&quot;&quot;</span>
</span><span id="__span-1-219"><a id="__codelineno-1-219" name="__codelineno-1-219" href="#__codelineno-1-219"></a>    <span class="k">if</span> <span class="s1">&#39;user_id&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
</span><span id="__span-1-220"><a id="__codelineno-1-220" name="__codelineno-1-220" href="#__codelineno-1-220"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Not logged in&#39;</span><span class="p">}),</span> <span class="mi">401</span>
</span><span id="__span-1-221"><a id="__codelineno-1-221" name="__codelineno-1-221" href="#__codelineno-1-221"></a>
</span><span id="__span-1-222"><a id="__codelineno-1-222" name="__codelineno-1-222" href="#__codelineno-1-222"></a>    <span class="n">user_id</span> <span class="o">=</span> <span class="n">session</span><span class="p">[</span><span class="s1">&#39;user_id&#39;</span><span class="p">]</span>
</span><span id="__span-1-223"><a id="__codelineno-1-223" name="__codelineno-1-223" href="#__codelineno-1-223"></a>
</span><span id="__span-1-224"><a id="__codelineno-1-224" name="__codelineno-1-224" href="#__codelineno-1-224"></a>    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
</span><span id="__span-1-225"><a id="__codelineno-1-225" name="__codelineno-1-225" href="#__codelineno-1-225"></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</span><span id="__span-1-226"><a id="__codelineno-1-226" name="__codelineno-1-226" href="#__codelineno-1-226"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">EcommerceManager</span><span class="o">.</span><span class="n">add_to_cart</span><span class="p">(</span>
</span><span id="__span-1-227"><a id="__codelineno-1-227" name="__codelineno-1-227" href="#__codelineno-1-227"></a>            <span class="n">user_id</span><span class="p">,</span> 
</span><span id="__span-1-228"><a id="__codelineno-1-228" name="__codelineno-1-228" href="#__codelineno-1-228"></a>            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;product_id&#39;</span><span class="p">],</span> 
</span><span id="__span-1-229"><a id="__codelineno-1-229" name="__codelineno-1-229" href="#__codelineno-1-229"></a>            <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-1-230"><a id="__codelineno-1-230" name="__codelineno-1-230" href="#__codelineno-1-230"></a>        <span class="p">)</span>
</span><span id="__span-1-231"><a id="__codelineno-1-231" name="__codelineno-1-231" href="#__codelineno-1-231"></a>
</span><span id="__span-1-232"><a id="__codelineno-1-232" name="__codelineno-1-232" href="#__codelineno-1-232"></a>        <span class="c1"># Convert Decimal to float for JSON</span>
</span><span id="__span-1-233"><a id="__codelineno-1-233" name="__codelineno-1-233" href="#__codelineno-1-233"></a>        <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
</span><span id="__span-1-234"><a id="__codelineno-1-234" name="__codelineno-1-234" href="#__codelineno-1-234"></a>            <span class="n">cart</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;cart&#39;</span><span class="p">]</span>
</span><span id="__span-1-235"><a id="__codelineno-1-235" name="__codelineno-1-235" href="#__codelineno-1-235"></a>            <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cart</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">])</span>
</span><span id="__span-1-236"><a id="__codelineno-1-236" name="__codelineno-1-236" href="#__codelineno-1-236"></a>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span><span id="__span-1-237"><a id="__codelineno-1-237" name="__codelineno-1-237" href="#__codelineno-1-237"></a>                <span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">])</span>
</span><span id="__span-1-238"><a id="__codelineno-1-238" name="__codelineno-1-238" href="#__codelineno-1-238"></a>
</span><span id="__span-1-239"><a id="__codelineno-1-239" name="__codelineno-1-239" href="#__codelineno-1-239"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-1-240"><a id="__codelineno-1-240" name="__codelineno-1-240" href="#__codelineno-1-240"></a>
</span><span id="__span-1-241"><a id="__codelineno-1-241" name="__codelineno-1-241" href="#__codelineno-1-241"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-242"><a id="__codelineno-1-242" name="__codelineno-1-242" href="#__codelineno-1-242"></a>        <span class="n">cart</span> <span class="o">=</span> <span class="n">carts_db</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
</span><span id="__span-1-243"><a id="__codelineno-1-243" name="__codelineno-1-243" href="#__codelineno-1-243"></a>        <span class="c1"># Convert Decimal to float</span>
</span><span id="__span-1-244"><a id="__codelineno-1-244" name="__codelineno-1-244" href="#__codelineno-1-244"></a>        <span class="n">cart_for_json</span> <span class="o">=</span> <span class="n">cart</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="__span-1-245"><a id="__codelineno-1-245" name="__codelineno-1-245" href="#__codelineno-1-245"></a>        <span class="n">cart_for_json</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">cart_for_json</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">])</span>
</span><span id="__span-1-246"><a id="__codelineno-1-246" name="__codelineno-1-246" href="#__codelineno-1-246"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">cart_for_json</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span><span id="__span-1-247"><a id="__codelineno-1-247" name="__codelineno-1-247" href="#__codelineno-1-247"></a>            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">])</span>
</span><span id="__span-1-248"><a id="__codelineno-1-248" name="__codelineno-1-248" href="#__codelineno-1-248"></a>
</span><span id="__span-1-249"><a id="__codelineno-1-249" name="__codelineno-1-249" href="#__codelineno-1-249"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;cart&#39;</span><span class="p">:</span> <span class="n">cart_for_json</span><span class="p">})</span>
</span><span id="__span-1-250"><a id="__codelineno-1-250" name="__codelineno-1-250" href="#__codelineno-1-250"></a>
</span><span id="__span-1-251"><a id="__codelineno-1-251" name="__codelineno-1-251" href="#__codelineno-1-251"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/checkout&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
</span><span id="__span-1-252"><a id="__codelineno-1-252" name="__codelineno-1-252" href="#__codelineno-1-252"></a><span class="k">def</span><span class="w"> </span><span class="nf">checkout</span><span class="p">():</span>
</span><span id="__span-1-253"><a id="__codelineno-1-253" name="__codelineno-1-253" href="#__codelineno-1-253"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Checkout processing endpoint.&quot;&quot;&quot;</span>
</span><span id="__span-1-254"><a id="__codelineno-1-254" name="__codelineno-1-254" href="#__codelineno-1-254"></a>    <span class="k">if</span> <span class="s1">&#39;user_id&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
</span><span id="__span-1-255"><a id="__codelineno-1-255" name="__codelineno-1-255" href="#__codelineno-1-255"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Not logged in&#39;</span><span class="p">}),</span> <span class="mi">401</span>
</span><span id="__span-1-256"><a id="__codelineno-1-256" name="__codelineno-1-256" href="#__codelineno-1-256"></a>
</span><span id="__span-1-257"><a id="__codelineno-1-257" name="__codelineno-1-257" href="#__codelineno-1-257"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</span><span id="__span-1-258"><a id="__codelineno-1-258" name="__codelineno-1-258" href="#__codelineno-1-258"></a>    <span class="n">result</span> <span class="o">=</span> <span class="n">EcommerceManager</span><span class="o">.</span><span class="n">process_checkout</span><span class="p">(</span>
</span><span id="__span-1-259"><a id="__codelineno-1-259" name="__codelineno-1-259" href="#__codelineno-1-259"></a>        <span class="n">session</span><span class="p">[</span><span class="s1">&#39;user_id&#39;</span><span class="p">],</span>
</span><span id="__span-1-260"><a id="__codelineno-1-260" name="__codelineno-1-260" href="#__codelineno-1-260"></a>        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;payment_info&#39;</span><span class="p">],</span>
</span><span id="__span-1-261"><a id="__codelineno-1-261" name="__codelineno-1-261" href="#__codelineno-1-261"></a>        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;shipping_address&#39;</span><span class="p">]</span>
</span><span id="__span-1-262"><a id="__codelineno-1-262" name="__codelineno-1-262" href="#__codelineno-1-262"></a>    <span class="p">)</span>
</span><span id="__span-1-263"><a id="__codelineno-1-263" name="__codelineno-1-263" href="#__codelineno-1-263"></a>
</span><span id="__span-1-264"><a id="__codelineno-1-264" name="__codelineno-1-264" href="#__codelineno-1-264"></a>    <span class="c1"># Convert Decimal to float for JSON</span>
</span><span id="__span-1-265"><a id="__codelineno-1-265" name="__codelineno-1-265" href="#__codelineno-1-265"></a>    <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="s1">&#39;order&#39;</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span><span id="__span-1-266"><a id="__codelineno-1-266" name="__codelineno-1-266" href="#__codelineno-1-266"></a>        <span class="n">order</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;order&#39;</span><span class="p">]</span>
</span><span id="__span-1-267"><a id="__codelineno-1-267" name="__codelineno-1-267" href="#__codelineno-1-267"></a>        <span class="n">order</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">order</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">])</span>
</span><span id="__span-1-268"><a id="__codelineno-1-268" name="__codelineno-1-268" href="#__codelineno-1-268"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">order</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span><span id="__span-1-269"><a id="__codelineno-1-269" name="__codelineno-1-269" href="#__codelineno-1-269"></a>            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">])</span>
</span><span id="__span-1-270"><a id="__codelineno-1-270" name="__codelineno-1-270" href="#__codelineno-1-270"></a>
</span><span id="__span-1-271"><a id="__codelineno-1-271" name="__codelineno-1-271" href="#__codelineno-1-271"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-1-272"><a id="__codelineno-1-272" name="__codelineno-1-272" href="#__codelineno-1-272"></a>
</span><span id="__span-1-273"><a id="__codelineno-1-273" name="__codelineno-1-273" href="#__codelineno-1-273"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/orders&#39;</span><span class="p">)</span>
</span><span id="__span-1-274"><a id="__codelineno-1-274" name="__codelineno-1-274" href="#__codelineno-1-274"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_orders</span><span class="p">():</span>
</span><span id="__span-1-275"><a id="__codelineno-1-275" name="__codelineno-1-275" href="#__codelineno-1-275"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get user&#39;s order history.&quot;&quot;&quot;</span>
</span><span id="__span-1-276"><a id="__codelineno-1-276" name="__codelineno-1-276" href="#__codelineno-1-276"></a>    <span class="k">if</span> <span class="s1">&#39;user_id&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">session</span><span class="p">:</span>
</span><span id="__span-1-277"><a id="__codelineno-1-277" name="__codelineno-1-277" href="#__codelineno-1-277"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Not logged in&#39;</span><span class="p">}),</span> <span class="mi">401</span>
</span><span id="__span-1-278"><a id="__codelineno-1-278" name="__codelineno-1-278" href="#__codelineno-1-278"></a>
</span><span id="__span-1-279"><a id="__codelineno-1-279" name="__codelineno-1-279" href="#__codelineno-1-279"></a>    <span class="n">user_id</span> <span class="o">=</span> <span class="n">session</span><span class="p">[</span><span class="s1">&#39;user_id&#39;</span><span class="p">]</span>
</span><span id="__span-1-280"><a id="__codelineno-1-280" name="__codelineno-1-280" href="#__codelineno-1-280"></a>    <span class="n">user_orders</span> <span class="o">=</span> <span class="p">[</span><span class="n">order</span> <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">orders_db</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">if</span> <span class="n">order</span><span class="p">[</span><span class="s1">&#39;user_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
</span><span id="__span-1-281"><a id="__codelineno-1-281" name="__codelineno-1-281" href="#__codelineno-1-281"></a>
</span><span id="__span-1-282"><a id="__codelineno-1-282" name="__codelineno-1-282" href="#__codelineno-1-282"></a>    <span class="c1"># Convert Decimal to float</span>
</span><span id="__span-1-283"><a id="__codelineno-1-283" name="__codelineno-1-283" href="#__codelineno-1-283"></a>    <span class="k">for</span> <span class="n">order</span> <span class="ow">in</span> <span class="n">user_orders</span><span class="p">:</span>
</span><span id="__span-1-284"><a id="__codelineno-1-284" name="__codelineno-1-284" href="#__codelineno-1-284"></a>        <span class="n">order</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">order</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">])</span>
</span><span id="__span-1-285"><a id="__codelineno-1-285" name="__codelineno-1-285" href="#__codelineno-1-285"></a>        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">order</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span><span id="__span-1-286"><a id="__codelineno-1-286" name="__codelineno-1-286" href="#__codelineno-1-286"></a>            <span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">])</span>
</span><span id="__span-1-287"><a id="__codelineno-1-287" name="__codelineno-1-287" href="#__codelineno-1-287"></a>
</span><span id="__span-1-288"><a id="__codelineno-1-288" name="__codelineno-1-288" href="#__codelineno-1-288"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;orders&#39;</span><span class="p">:</span> <span class="n">user_orders</span><span class="p">})</span>
</span><span id="__span-1-289"><a id="__codelineno-1-289" name="__codelineno-1-289" href="#__codelineno-1-289"></a>
</span><span id="__span-1-290"><a id="__codelineno-1-290" name="__codelineno-1-290" href="#__codelineno-1-290"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span><span id="__span-1-291"><a id="__codelineno-1-291" name="__codelineno-1-291" href="#__codelineno-1-291"></a>    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5001</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Key E-commerce Considerations:</strong></p>
<ol>
<li>
<p><strong>Security Requirements:</strong></p>
</li>
<li>
<p>PCI DSS compliance for payment processing</p>
</li>
<li>
<p><span class="glossary-term" data-glossary-category="Security" data-glossary-definition="A cryptographic protocol that provides secure communication over a computer network, now superseded by TLS." data-glossary-full-form="Secure Sockets Layer" data-glossary-term="SSL">SSL</span>/<span class="glossary-term" data-glossary-category="Security" data-glossary-definition="A cryptographic protocol designed to provide secure communication over a computer network, the successor to SSL." data-glossary-full-form="Transport Layer Security" data-glossary-term="TLS">TLS</span> encryption for all transactions</p>
</li>
<li>
<p>Secure session management</p>
</li>
<li>
<p>Input validation and sanitization</p>
</li>
<li>
<p><strong>Performance Challenges:</strong></p>
</li>
<li>
<p>High traffic during sales events</p>
</li>
<li>
<p><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="An organized collection of structured data stored electronically in a computer system, typically accessed via a database management system." data-glossary-term="Database">Database</span> optimization for product searches</p>
</li>
<li>
<p>Image and <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A resource file used in web development, including images, stylesheets, JavaScript files, and fonts." data-glossary-term="Asset">asset</span> delivery optimization</p>
</li>
<li>
<p><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A hardware or software component that stores data for faster retrieval on future requests, improving performance." data-glossary-term="Cache">Caching</span> strategies for product catalogs</p>
</li>
<li>
<p><strong>Business Logic Complexity:</strong></p>
</li>
<li>
<p>Inventory management and stock tracking</p>
</li>
<li>
<p>Pricing rules and promotions</p>
</li>
<li>
<p>Tax calculations across jurisdictions</p>
</li>
<li>
<p>Shipping cost calculations</p>
</li>
</ol>
<h3 id="progressive-web-apps-pwas">Progressive Web Apps (<span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWAs</span>)<a class="headerlink" href="#progressive-web-apps-pwas" title="Permanent link">&para;</a></h3>
<p>Progressive Web Apps combine the best features of web and mobile applications, providing native app-like experiences while remaining accessible through web browsers.</p>
<h4 id="pwa-architecture-and-features"><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWA</span> Architecture and Features<a class="headerlink" href="#pwa-architecture-and-features" title="Permanent link">&para;</a></h4>
<div class="diagram-container" data-container-id="kroki-diagram-2"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-2')">🔍 View Larger</button><div id="kroki-diagram-2" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1000px" preserveAspectRatio="xMaxYMax meet" style="width:1150px;height:1000px;" version="1.1" viewBox="0 0 1150 1000" width="1150px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-2"><defs><linearGradient id="gek0nl4mk0wyl0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#F18E3E" /><stop offset="100%" stop-color="#EC7211" /></linearGradient></defs><g><g class="cluster" data-entity="Progressive Web App Architecture" data-source-line="3" data-uid="ent0002" id="cluster_Progressive Web App Architecture"><path d="M10.4167,6.25 L261.6943,6.25 A6.25,6.25 0 0 1 265.861,10.4167 L273.1527,37.4674 L1138.5417,37.4674 A4.1667,4.1667 0 0 1 1142.7083,41.6341 L1142.7083,989.3854 A4.1667,4.1667 0 0 1 1138.5417,993.5521 L10.4167,993.5521 A4.1667,4.1667 0 0 1 6.25,989.3854 L6.25,10.4167 A4.1667,4.1667 0 0 1 10.4167,6.25" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="6.25" x2="273.1527" y1="37.4674" y2="37.4674" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="242.9443" x="15.625" y="25.1444">Progressive Web App Architecture</text></g><g class="cluster" data-entity="Browser Environment" data-source-line="6" data-uid="ent0004" id="cluster_Browser Environment"><path d="M35.4167,212.4687 L195.9106,212.4687 A6.25,6.25 0 0 1 200.0773,216.6354 L207.369,243.6862 L410.4167,243.6862 A4.1667,4.1667 0 0 1 414.5833,247.8529 L414.5833,643.6146 A4.1667,4.1667 0 0 1 410.4167,647.7812 L35.4167,647.7812 A4.1667,4.1667 0 0 1 31.25,643.6146 L31.25,216.6354 A4.1667,4.1667 0 0 1 35.4167,212.4687" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="31.25" x2="207.369" y1="243.6862" y2="243.6862" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="152.1606" x="40.625" y="231.3632">Browser Environment</text></g><g class="cluster" data-entity="Application Layer" data-source-line="13" data-uid="ent0009" id="cluster_Application Layer"><path d="M443.75,386.3854 L575.356,386.3854 A6.25,6.25 0 0 1 579.5227,390.5521 L586.8144,417.6029 L996.875,417.6029 A4.1667,4.1667 0 0 1 1001.0417,421.7695 L1001.0417,643.6146 A4.1667,4.1667 0 0 1 996.875,647.7812 L443.75,647.7812 A4.1667,4.1667 0 0 1 439.5833,643.6146 L439.5833,390.5521 A4.1667,4.1667 0 0 1 443.75,386.3854" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="439.5833" x2="586.8144" y1="417.6029" y2="417.6029" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="123.2727" x="448.9583" y="405.2799">Application Layer</text></g><g class="cluster" data-entity="Server Infrastructure" data-source-line="20" data-uid="ent0014" id="cluster_Server Infrastructure"><path d="M670.8333,707.1562 L828.9469,707.1562 A6.25,6.25 0 0 1 833.1136,711.3229 L840.4053,738.3737 L1026.0417,738.3737 A4.1667,4.1667 0 0 1 1030.2083,742.5404 L1030.2083,964.3854 A4.1667,4.1667 0 0 1 1026.0417,968.5521 L670.8333,968.5521 A4.1667,4.1667 0 0 1 666.6667,964.3854 L666.6667,711.3229 A4.1667,4.1667 0 0 1 670.8333,707.1562" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="666.6667" x2="840.4053" y1="738.3737" y2="738.3737" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="149.7803" x="676.0417" y="726.0507">Server Infrastructure</text></g><g class="entity" data-entity="User" data-source-line="4" data-uid="ent0003" id="entity_User"><ellipse cx="284.3706" cy="59.375" fill="url(#gek0nl4mk0wyl0)" rx="8.3333" ry="8.3333" style="stroke:#EC7211;stroke-width:1.0417;" /><path d="M284.3706,67.7083 L284.3706,95.8333 M270.8289,76.0417 L297.9123,76.0417 M284.3706,95.8333 L270.8289,111.4583 M284.3706,95.8333 L297.9123,111.4583" fill="none" style="stroke:#EC7211;stroke-width:1.0417;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="28.4912" x="270.125" y="130.3528">User</text></g><g class="entity" data-entity="network" data-source-line="27" data-uid="ent0019" id="entity_network"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="104.2745" x="1021.8229" y="574.8958" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="1105.2641" y="580.1042" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="1103.1807" y="582.1875" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="1103.1807" y="586.3542" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="52.1912" x="1042.6563" y="612.5403">Network</text></g><g class="entity" data-entity="shell" data-source-line="7" data-uid="ent0005" id="entity_shell"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="114.9984" x="226.875" y="256.2187" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="321.04" y="261.4271" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="318.9567" y="263.5104" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="318.9567" y="267.6771" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="62.915" x="247.7083" y="293.8632"><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWA</span> <span class="glossary-term" data-glossary-category="Programming Fundamentals" data-glossary-definition="A text-based interface for entering commands to interact with the operating system and execute programs." data-glossary-term="Terminal">Shell</span></text></g><g class="entity" data-entity="sw" data-source-line="8" data-uid="ent0006" id="entity_sw"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="147.4691" x="48.1354" y="430.1354" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="174.7712" y="435.3438" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="172.6878" y="437.4271" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="172.6878" y="441.5938" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="95.3857" x="68.9688" y="467.7799"><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A script that runs in the background of a web browser, enabling features like offline functionality and push notifications." data-glossary-term="Service Worker">Service Worker</span></text></g><g class="entity" data-entity="manifest" data-source-line="9" data-uid="ent0007" id="entity_manifest"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="165.7796" x="231.6979" y="430.1354" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="376.6442" y="435.3438" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="374.5609" y="437.4271" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="374.5609" y="441.5938" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="113.6963" x="252.5313" y="467.7799">Web App Manifest</text></g><g class="entity" data-entity="cache" data-source-line="10" data-uid="ent0008" id="entity_cache"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="143.8375" x="49.9583" y="574.8958" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="172.9625" y="580.1042" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="170.8792" y="582.1875" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="170.8792" y="586.3542" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="91.7542" x="70.7917" y="612.5403"><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A hardware or software component that stores data for faster retrieval on future requests, improving performance." data-glossary-term="Cache">Cache</span> Storage</text></g><g class="entity" data-entity="app" data-source-line="14" data-uid="ent0010" id="entity_app"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="110.317" x="664.6354" y="430.1354" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="754.1191" y="435.3438" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="752.0357" y="437.4271" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="752.0357" y="441.5938" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="58.2336" x="685.4688" y="467.7799">Main App</text></g><g class="entity" data-entity="sync" data-source-line="15" data-uid="ent0011" id="entity_sync"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="161.0311" x="656.9896" y="574.8958" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="797.1873" y="580.1042" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="795.104" y="582.1875" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="795.104" y="586.3542" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="108.9478" x="677.8229" y="612.5403">Background Sync</text></g><g class="entity" data-entity="push" data-source-line="16" data-uid="ent0012" id="entity_push"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="164.1866" x="456.4479" y="574.8958" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="599.8012" y="580.1042" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="597.7179" y="582.1875" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="597.7179" y="586.3542" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="112.1033" x="477.2813" y="612.5403">Push Notifications</text></g><g class="entity" data-entity="offline" data-source-line="17" data-uid="ent0013" id="entity_offline"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="130.1473" x="854.7188" y="574.8958" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="964.0327" y="580.1042" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="961.9494" y="582.1875" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="961.9494" y="586.3542" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="78.064" x="875.5521" y="612.5403">Offline Logic</text></g><g class="entity" data-entity="server" data-source-line="21" data-uid="ent0015" id="entity_server"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="125.0326" x="851.0208" y="895.6667" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="955.2201" y="900.875" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="953.1367" y="902.9583" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="953.1367" y="907.125" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="72.9492" x="871.8542" y="933.3111">Web Server</text></g><g class="entity" data-entity="api" data-source-line="22" data-uid="ent0016" id="entity_api"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="137.9781" x="875.8021" y="750.9062" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="992.9469" y="756.1146" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="990.8635" y="758.1979" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="990.8635" y="762.3646" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="85.8948" x="896.6354" y="788.5507"><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A set of protocols and tools for building software applications, defining how components interact." data-glossary-full-form="Application Programming Interface" data-glossary-term="API">API</span> Endpoints</text></g><g class="entity" data-entity="pushsvc" data-source-line="23" data-uid="ent0017" id="entity_pushsvc"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="132.1493" x="682.8854" y="895.6667" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="794.2013" y="900.875" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="792.118" y="902.9583" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="792.118" y="907.125" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="80.0659" x="703.7188" y="933.3111">Push Service</text></g><g class="entity" data-entity="jobs" data-source-line="24" data-uid="ent0018" id="entity_jobs"><rect fill="url(#gek0nl4mk0wyl0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="156.6854" x="683.1146" y="750.9062" /><rect fill="url(#gek0nl4mk0wyl0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="818.9666" y="756.1146" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="816.8833" y="758.1979" /><rect fill="url(#gek0nl4mk0wyl0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="816.8833" y="762.3646" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="104.6021" x="703.9479" y="788.5507">Background Jobs</text></g><g class="link" data-entity-1="User" data-entity-2="shell" data-source-line="29" data-uid="lnk20" id="link_User_shell"><path d="M284.375,138.8958 C284.375,175.0104 284.375,218.9792 284.375,249.6667" fill="none" id="User-to-shell" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="284.375,255.9167,288.5417,246.5417,284.375,250.7083,280.2083,246.5417,284.375,255.9167" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="91.8884" x="290.625" y="187.6132">Launches <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWA</span></text></g><g class="link" data-entity-1="shell" data-entity-2="sw" data-source-line="30" data-uid="lnk21" id="link_shell_sw"><path d="M226.4167,304.8958 C206.0729,314.0729 184.4167,326.7812 168.75,343.6771 C146.1354,368.0729 135.1977,398.8336 128.9164,423.8753" fill="none" id="shell-to-sw" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="127.3958,429.9375,133.7182,421.8579,128.663,424.8857,125.6353,419.8305,127.3958,429.9375" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="105.5908" x="175" y="361.5299">Registers worker</text></g><g class="link" data-entity-1="shell" data-entity-2="manifest" data-source-line="31" data-uid="lnk22" id="link_shell_manifest"><path d="M289.1667,312.5937 C294.8021,344.6771 303.0318,391.5112 308.6881,423.6674" fill="none" id="shell-to-manifest" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="309.7708,429.8229,312.2504,419.8678,308.8685,424.6933,304.043,421.3115,309.7708,429.8229" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="101.3611" x="304.1667" y="361.5299">Installation data</text></g><g class="link" data-entity-1="sw" data-entity-2="cache" data-source-line="32" data-uid="lnk23" id="link_sw_cache"><path d="M121.875,486.8021 C121.875,512.0625 121.875,543.0521 121.875,568.2917" fill="none" id="sw-to-cache" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="121.875,574.5417,126.0417,565.1667,121.875,569.3333,117.7083,565.1667,121.875,574.5417" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="110.4858" x="128.125" y="535.4569">Caches resources</text></g><g class="link" data-entity-1="shell" data-entity-2="app" data-source-line="33" data-uid="lnk24" id="link_shell_app"><path d="M342.1979,308.1875 C426.2813,341.375 575.4885,400.2575 658.3323,432.9554" fill="none" id="shell-to-app" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="664.1458,435.25,656.9552,427.9324,659.3012,433.3379,653.8958,435.6838,664.1458,435.25" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="109.6436" x="494.7917" y="361.5299">Loads application</text></g><g class="link" data-entity-1="app" data-entity-2="offline" data-source-line="35" data-uid="lnk25" id="link_app_offline"><path d="M775.4375,480.9792 C796.8125,490.6042 820.8125,503.0625 840.625,517.6042 C862.6458,533.7708 879.6077,551.7676 894.4306,569.5905" fill="none" id="app-to-offline" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="898.4271,574.3958,895.6359,564.5236,895.0967,570.3914,889.2289,569.8522,898.4271,574.3958" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="80.6213" x="875" y="535.4569">Offline mode</text></g><g class="link" data-entity-1="app" data-entity-2="sync" data-source-line="36" data-uid="lnk26" id="link_app_sync"><path d="M715.9063,486.8438 C714.2708,503.4167 713.4167,524.875 716.6667,543.6458 C718.4688,554.0312 719.7395,559.1597 723.3437,568.7534" fill="none" id="app-to-sync" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="725.5417,574.6042,726.1452,564.3627,723.71,569.7285,718.3442,567.2934,725.5417,574.6042" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="107.5256" x="722.9167" y="535.4569">Background sync</text></g><g class="link" data-entity-1="app" data-entity-2="push" data-source-line="37" data-uid="lnk27" id="link_app_push"><path d="M664.3646,485.5625 C647.6354,494.6354 629.7083,505.5833 614.5833,517.6042 C593.5938,534.2917 577.3756,552.2009 563.0944,569.8779" fill="none" id="app-to-push" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="559.1667,574.7396,568.2993,570.0656,562.4398,570.6882,561.8171,564.8286,559.1667,574.7396" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="78.2349" x="620.8333" y="535.4569">Notifications</text></g><g class="link" data-entity-1="app" data-entity-2="network" data-source-line="39" data-uid="lnk28" id="link_app_network"><path d="M775.3438,464.9792 C827.6563,471.9896 907.1354,486.9583 969.7917,517.6042 C999.0625,531.9271 1022.9324,551.5132 1042.672,570.2215" fill="none" id="app-to-network" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="1047.2083,574.5208,1043.2701,565.0476,1043.4281,570.9381,1037.5376,571.096,1047.2083,574.5208" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="98.5962" x="1015.625" y="535.4569">Online requests</text></g><g class="link" data-entity-1="network" data-entity-2="api" data-source-line="40" data-uid="lnk29" id="link_network_api"><path d="M1053.4896,631.6042 C1029.3021,664.1771 993.0276,713.013 968.8922,745.5234" fill="none" id="network-to-api" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="965.1667,750.5417,974.1005,745.4979,968.2713,746.3598,967.4094,740.5306,965.1667,750.5417" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="51.7395" x="1034.375" y="682.3007"><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A set of protocols and tools for building software applications, defining how components interact." data-glossary-full-form="Application Programming Interface" data-glossary-term="API">API</span> calls</text></g><g class="link" data-entity-1="api" data-entity-2="server" data-source-line="41" data-uid="lnk30" id="link_api_server"><path d="M938.7708,807.5729 C933.2292,832.8333 926.4084,863.9673 920.8876,889.2069" fill="none" id="api-to-server" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="919.5521,895.3125,925.6258,887.0444,920.665,890.2245,917.485,885.2637,919.5521,895.3125" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="112.6038" x="937.5" y="856.2278">Server processing</text></g><g class="link" data-entity-1="sw" data-entity-2="sync" data-source-line="43" data-uid="lnk31" id="link_sw_sync"><path d="M195.8021,481.5833 C201.7917,483.25 207.7604,484.8646 213.5417,486.3542 C326.5104,515.6354 355.4479,520.2917 469.7917,543.6458 C544.5208,558.9167 564.1875,557.875 638.5417,574.8958 C644.4479,576.25 644.4581,576.2005 650.5726,577.7317" fill="none" id="sw-to-sync" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="656.6354,579.25,648.5534,572.9307,651.5831,577.9848,646.5291,581.0144,656.6354,579.25" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="96.5393" x="476.0417" y="535.4569">Queues actions</text></g><g class="link" data-entity-1="sync" data-entity-2="api" data-source-line="44" data-uid="lnk32" id="link_sync_api"><path d="M709.0104,631.5938 C693.3438,650.0104 680,673.8229 695.8333,690.4896 C708.2813,703.6042 841.6563,691.8438 858.3333,698.8229 C884.6146,709.8229 903.9206,727.7323 919.7227,745.9927" fill="none" id="sync-to-api" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="923.8125,750.7188,920.8285,740.9031,920.4043,746.7804,914.527,746.3562,923.8125,750.7188" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="77.9968" x="702.0833" y="682.3007">When online</text></g><g class="link" data-entity-1="pushsvc" data-entity-2="push" data-source-line="45" data-uid="lnk33" id="link_pushsvc_push"><path d="M682.5417,900.9896 C638.9479,883.0208 584.8958,852.9479 556.25,807.125 C522.1042,752.5104 526.6671,679.0918 532.6671,637.6439" fill="none" id="pushsvc-to-push" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="533.5625,631.4583,528.0957,640.1397,532.8163,636.6129,536.3431,641.3336,533.5625,631.4583" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="96.5576" x="562.5" y="783.8528">Push messages</text></g><g class="link" data-entity-1="jobs" data-entity-2="pushsvc" data-source-line="46" data-uid="lnk34" id="link_jobs_pushsvc"><path d="M759.0521,807.5729 C756.8333,832.8333 754.1177,863.8467 751.9093,889.0863" fill="none" id="jobs-to-pushsvc" style="stroke:#EC7211;stroke-width:3.125;" /><polygon fill="#EC7211" points="751.3646,895.3125,756.3325,886.3364,751.8186,890.124,748.0309,885.61,751.3646,895.3125" style="stroke:#EC7211;stroke-width:3.125;" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="51.4587" x="762.5" y="856.2278">Triggers</text></g></g></svg></p></div></div>
<h4 id="python-example-pwa-backend-with-offline-support">Python Example: <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWA</span> Backend with Offline Support<a class="headerlink" href="#python-example-pwa-backend-with-offline-support" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">flask</span><span class="w"> </span><span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">jsonify</span><span class="p">,</span> <span class="n">send_from_directory</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1"># In-memory storage for demo</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="n">notes_db</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="n">sync_queue</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="k">class</span><span class="w"> </span><span class="nc">PWAManager</span><span class="p">:</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Manages PWA-specific functionality.&quot;&quot;&quot;</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_note</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">created_offline</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a new note (online or offline).&quot;&quot;&quot;</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>        <span class="n">note</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()),</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>            <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="n">content</span><span class="p">,</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>            <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>            <span class="s1">&#39;updated_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>            <span class="s1">&#39;created_offline&#39;</span><span class="p">:</span> <span class="n">created_offline</span><span class="p">,</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>            <span class="s1">&#39;synced&#39;</span><span class="p">:</span> <span class="ow">not</span> <span class="n">created_offline</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>        <span class="p">}</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>        <span class="n">notes_db</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">note</span><span class="p">)</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>        <span class="k">return</span> <span class="n">note</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">sync_offline_data</span><span class="p">(</span><span class="n">offline_actions</span><span class="p">):</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Process actions that were queued while offline.&quot;&quot;&quot;</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>        <span class="n">synced_items</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>        <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">offline_actions</span><span class="p">:</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>            <span class="k">if</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;create_note&#39;</span><span class="p">:</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a>                <span class="n">note</span> <span class="o">=</span> <span class="n">PWAManager</span><span class="o">.</span><span class="n">create_note</span><span class="p">(</span>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a>                    <span class="n">action</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>                    <span class="n">action</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">],</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a>                    <span class="n">created_offline</span><span class="o">=</span><span class="kc">True</span>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a>                <span class="p">)</span>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a>                <span class="n">synced_items</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>                    <span class="s1">&#39;local_id&#39;</span><span class="p">:</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;local_id&#39;</span><span class="p">],</span>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a>                    <span class="s1">&#39;server_id&#39;</span><span class="p">:</span> <span class="n">note</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a>                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;note&#39;</span>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>                <span class="p">})</span>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a>
</span><span id="__span-2-50"><a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a>            <span class="k">elif</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;update_note&#39;</span><span class="p">:</span>
</span><span id="__span-2-51"><a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a>                <span class="n">note</span> <span class="o">=</span> <span class="n">PWAManager</span><span class="o">.</span><span class="n">update_note</span><span class="p">(</span>
</span><span id="__span-2-52"><a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a>                    <span class="n">action</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span><span id="__span-2-53"><a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a>                    <span class="n">action</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
</span><span id="__span-2-54"><a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a>                    <span class="n">action</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span><span id="__span-2-55"><a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a>                <span class="p">)</span>
</span><span id="__span-2-56"><a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a>                <span class="k">if</span> <span class="n">note</span><span class="p">:</span>
</span><span id="__span-2-57"><a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a>                    <span class="n">synced_items</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
</span><span id="__span-2-58"><a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a>                        <span class="s1">&#39;local_id&#39;</span><span class="p">:</span> <span class="n">action</span><span class="p">[</span><span class="s1">&#39;local_id&#39;</span><span class="p">],</span>
</span><span id="__span-2-59"><a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a>                        <span class="s1">&#39;server_id&#39;</span><span class="p">:</span> <span class="n">note</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span><span id="__span-2-60"><a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a>                        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;note&#39;</span>
</span><span id="__span-2-61"><a id="__codelineno-2-61" name="__codelineno-2-61" href="#__codelineno-2-61"></a>                    <span class="p">})</span>
</span><span id="__span-2-62"><a id="__codelineno-2-62" name="__codelineno-2-62" href="#__codelineno-2-62"></a>
</span><span id="__span-2-63"><a id="__codelineno-2-63" name="__codelineno-2-63" href="#__codelineno-2-63"></a>        <span class="k">return</span> <span class="n">synced_items</span>
</span><span id="__span-2-64"><a id="__codelineno-2-64" name="__codelineno-2-64" href="#__codelineno-2-64"></a>
</span><span id="__span-2-65"><a id="__codelineno-2-65" name="__codelineno-2-65" href="#__codelineno-2-65"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-2-66"><a id="__codelineno-2-66" name="__codelineno-2-66" href="#__codelineno-2-66"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_note</span><span class="p">(</span><span class="n">note_id</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span>
</span><span id="__span-2-67"><a id="__codelineno-2-67" name="__codelineno-2-67" href="#__codelineno-2-67"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Update an existing note.&quot;&quot;&quot;</span>
</span><span id="__span-2-68"><a id="__codelineno-2-68" name="__codelineno-2-68" href="#__codelineno-2-68"></a>        <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes_db</span><span class="p">:</span>
</span><span id="__span-2-69"><a id="__codelineno-2-69" name="__codelineno-2-69" href="#__codelineno-2-69"></a>            <span class="k">if</span> <span class="n">note</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">note_id</span><span class="p">:</span>
</span><span id="__span-2-70"><a id="__codelineno-2-70" name="__codelineno-2-70" href="#__codelineno-2-70"></a>                <span class="n">note</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title</span>
</span><span id="__span-2-71"><a id="__codelineno-2-71" name="__codelineno-2-71" href="#__codelineno-2-71"></a>                <span class="n">note</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">content</span>
</span><span id="__span-2-72"><a id="__codelineno-2-72" name="__codelineno-2-72" href="#__codelineno-2-72"></a>                <span class="n">note</span><span class="p">[</span><span class="s1">&#39;updated_at&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-2-73"><a id="__codelineno-2-73" name="__codelineno-2-73" href="#__codelineno-2-73"></a>                <span class="n">note</span><span class="p">[</span><span class="s1">&#39;synced&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-2-74"><a id="__codelineno-2-74" name="__codelineno-2-74" href="#__codelineno-2-74"></a>                <span class="k">return</span> <span class="n">note</span>
</span><span id="__span-2-75"><a id="__codelineno-2-75" name="__codelineno-2-75" href="#__codelineno-2-75"></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-2-76"><a id="__codelineno-2-76" name="__codelineno-2-76" href="#__codelineno-2-76"></a>
</span><span id="__span-2-77"><a id="__codelineno-2-77" name="__codelineno-2-77" href="#__codelineno-2-77"></a><span class="c1"># PWA Shell and Manifest</span>
</span><span id="__span-2-78"><a id="__codelineno-2-78" name="__codelineno-2-78" href="#__codelineno-2-78"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
</span><span id="__span-2-79"><a id="__codelineno-2-79" name="__codelineno-2-79" href="#__codelineno-2-79"></a><span class="k">def</span><span class="w"> </span><span class="nf">home</span><span class="p">():</span>
</span><span id="__span-2-80"><a id="__codelineno-2-80" name="__codelineno-2-80" href="#__codelineno-2-80"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Serve the PWA shell.&quot;&quot;&quot;</span>
</span><span id="__span-2-81"><a id="__codelineno-2-81" name="__codelineno-2-81" href="#__codelineno-2-81"></a>    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;pwa_shell.html&#39;</span><span class="p">)</span>
</span><span id="__span-2-82"><a id="__codelineno-2-82" name="__codelineno-2-82" href="#__codelineno-2-82"></a>
</span><span id="__span-2-83"><a id="__codelineno-2-83" name="__codelineno-2-83" href="#__codelineno-2-83"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/manifest.json&#39;</span><span class="p">)</span>
</span><span id="__span-2-84"><a id="__codelineno-2-84" name="__codelineno-2-84" href="#__codelineno-2-84"></a><span class="k">def</span><span class="w"> </span><span class="nf">manifest</span><span class="p">():</span>
</span><span id="__span-2-85"><a id="__codelineno-2-85" name="__codelineno-2-85" href="#__codelineno-2-85"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Serve the Web App Manifest.&quot;&quot;&quot;</span>
</span><span id="__span-2-86"><a id="__codelineno-2-86" name="__codelineno-2-86" href="#__codelineno-2-86"></a>    <span class="n">manifest_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-2-87"><a id="__codelineno-2-87" name="__codelineno-2-87" href="#__codelineno-2-87"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Note Taking PWA&quot;</span><span class="p">,</span>
</span><span id="__span-2-88"><a id="__codelineno-2-88" name="__codelineno-2-88" href="#__codelineno-2-88"></a>        <span class="s2">&quot;short_name&quot;</span><span class="p">:</span> <span class="s2">&quot;NotePWA&quot;</span><span class="p">,</span>
</span><span id="__span-2-89"><a id="__codelineno-2-89" name="__codelineno-2-89" href="#__codelineno-2-89"></a>        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;A progressive web app for taking notes offline and online&quot;</span><span class="p">,</span>
</span><span id="__span-2-90"><a id="__codelineno-2-90" name="__codelineno-2-90" href="#__codelineno-2-90"></a>        <span class="s2">&quot;start_url&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
</span><span id="__span-2-91"><a id="__codelineno-2-91" name="__codelineno-2-91" href="#__codelineno-2-91"></a>        <span class="s2">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;standalone&quot;</span><span class="p">,</span>
</span><span id="__span-2-92"><a id="__codelineno-2-92" name="__codelineno-2-92" href="#__codelineno-2-92"></a>        <span class="s2">&quot;theme_color&quot;</span><span class="p">:</span> <span class="s2">&quot;#2196F3&quot;</span><span class="p">,</span>
</span><span id="__span-2-93"><a id="__codelineno-2-93" name="__codelineno-2-93" href="#__codelineno-2-93"></a>        <span class="s2">&quot;background_color&quot;</span><span class="p">:</span> <span class="s2">&quot;#ffffff&quot;</span><span class="p">,</span>
</span><span id="__span-2-94"><a id="__codelineno-2-94" name="__codelineno-2-94" href="#__codelineno-2-94"></a>        <span class="s2">&quot;icons&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-2-95"><a id="__codelineno-2-95" name="__codelineno-2-95" href="#__codelineno-2-95"></a>            <span class="p">{</span>
</span><span id="__span-2-96"><a id="__codelineno-2-96" name="__codelineno-2-96" href="#__codelineno-2-96"></a>                <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;/static/icons/icon-192x192.png&quot;</span><span class="p">,</span>
</span><span id="__span-2-97"><a id="__codelineno-2-97" name="__codelineno-2-97" href="#__codelineno-2-97"></a>                <span class="s2">&quot;sizes&quot;</span><span class="p">:</span> <span class="s2">&quot;192x192&quot;</span><span class="p">,</span>
</span><span id="__span-2-98"><a id="__codelineno-2-98" name="__codelineno-2-98" href="#__codelineno-2-98"></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span>
</span><span id="__span-2-99"><a id="__codelineno-2-99" name="__codelineno-2-99" href="#__codelineno-2-99"></a>            <span class="p">},</span>
</span><span id="__span-2-100"><a id="__codelineno-2-100" name="__codelineno-2-100" href="#__codelineno-2-100"></a>            <span class="p">{</span>
</span><span id="__span-2-101"><a id="__codelineno-2-101" name="__codelineno-2-101" href="#__codelineno-2-101"></a>                <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="s2">&quot;/static/icons/icon-512x512.png&quot;</span><span class="p">,</span>
</span><span id="__span-2-102"><a id="__codelineno-2-102" name="__codelineno-2-102" href="#__codelineno-2-102"></a>                <span class="s2">&quot;sizes&quot;</span><span class="p">:</span> <span class="s2">&quot;512x512&quot;</span><span class="p">,</span>
</span><span id="__span-2-103"><a id="__codelineno-2-103" name="__codelineno-2-103" href="#__codelineno-2-103"></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;image/png&quot;</span>
</span><span id="__span-2-104"><a id="__codelineno-2-104" name="__codelineno-2-104" href="#__codelineno-2-104"></a>            <span class="p">}</span>
</span><span id="__span-2-105"><a id="__codelineno-2-105" name="__codelineno-2-105" href="#__codelineno-2-105"></a>        <span class="p">]</span>
</span><span id="__span-2-106"><a id="__codelineno-2-106" name="__codelineno-2-106" href="#__codelineno-2-106"></a>    <span class="p">}</span>
</span><span id="__span-2-107"><a id="__codelineno-2-107" name="__codelineno-2-107" href="#__codelineno-2-107"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">manifest_data</span><span class="p">)</span>
</span><span id="__span-2-108"><a id="__codelineno-2-108" name="__codelineno-2-108" href="#__codelineno-2-108"></a>
</span><span id="__span-2-109"><a id="__codelineno-2-109" name="__codelineno-2-109" href="#__codelineno-2-109"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/sw.js&#39;</span><span class="p">)</span>
</span><span id="__span-2-110"><a id="__codelineno-2-110" name="__codelineno-2-110" href="#__codelineno-2-110"></a><span class="k">def</span><span class="w"> </span><span class="nf">service_worker</span><span class="p">():</span>
</span><span id="__span-2-111"><a id="__codelineno-2-111" name="__codelineno-2-111" href="#__codelineno-2-111"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Serve the service worker script.&quot;&quot;&quot;</span>
</span><span id="__span-2-112"><a id="__codelineno-2-112" name="__codelineno-2-112" href="#__codelineno-2-112"></a>    <span class="k">return</span> <span class="n">send_from_directory</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;sw.js&#39;</span><span class="p">,</span> <span class="n">mimetype</span><span class="o">=</span><span class="s1">&#39;application/javascript&#39;</span><span class="p">)</span>
</span><span id="__span-2-113"><a id="__codelineno-2-113" name="__codelineno-2-113" href="#__codelineno-2-113"></a>
</span><span id="__span-2-114"><a id="__codelineno-2-114" name="__codelineno-2-114" href="#__codelineno-2-114"></a><span class="c1"># API Endpoints</span>
</span><span id="__span-2-115"><a id="__codelineno-2-115" name="__codelineno-2-115" href="#__codelineno-2-115"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/notes&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
</span><span id="__span-2-116"><a id="__codelineno-2-116" name="__codelineno-2-116" href="#__codelineno-2-116"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_notes</span><span class="p">():</span>
</span><span id="__span-2-117"><a id="__codelineno-2-117" name="__codelineno-2-117" href="#__codelineno-2-117"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Handle notes CRUD operations.&quot;&quot;&quot;</span>
</span><span id="__span-2-118"><a id="__codelineno-2-118" name="__codelineno-2-118" href="#__codelineno-2-118"></a>    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
</span><span id="__span-2-119"><a id="__codelineno-2-119" name="__codelineno-2-119" href="#__codelineno-2-119"></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</span><span id="__span-2-120"><a id="__codelineno-2-120" name="__codelineno-2-120" href="#__codelineno-2-120"></a>        <span class="n">note</span> <span class="o">=</span> <span class="n">PWAManager</span><span class="o">.</span><span class="n">create_note</span><span class="p">(</span>
</span><span id="__span-2-121"><a id="__codelineno-2-121" name="__codelineno-2-121" href="#__codelineno-2-121"></a>            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
</span><span id="__span-2-122"><a id="__codelineno-2-122" name="__codelineno-2-122" href="#__codelineno-2-122"></a>            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span><span id="__span-2-123"><a id="__codelineno-2-123" name="__codelineno-2-123" href="#__codelineno-2-123"></a>        <span class="p">)</span>
</span><span id="__span-2-124"><a id="__codelineno-2-124" name="__codelineno-2-124" href="#__codelineno-2-124"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;note&#39;</span><span class="p">:</span> <span class="n">note</span><span class="p">})</span>
</span><span id="__span-2-125"><a id="__codelineno-2-125" name="__codelineno-2-125" href="#__codelineno-2-125"></a>
</span><span id="__span-2-126"><a id="__codelineno-2-126" name="__codelineno-2-126" href="#__codelineno-2-126"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-2-127"><a id="__codelineno-2-127" name="__codelineno-2-127" href="#__codelineno-2-127"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;notes&#39;</span><span class="p">:</span> <span class="n">notes_db</span><span class="p">})</span>
</span><span id="__span-2-128"><a id="__codelineno-2-128" name="__codelineno-2-128" href="#__codelineno-2-128"></a>
</span><span id="__span-2-129"><a id="__codelineno-2-129" name="__codelineno-2-129" href="#__codelineno-2-129"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/notes/&lt;note_id&gt;&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;PUT&#39;</span><span class="p">,</span> <span class="s1">&#39;DELETE&#39;</span><span class="p">])</span>
</span><span id="__span-2-130"><a id="__codelineno-2-130" name="__codelineno-2-130" href="#__codelineno-2-130"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_note</span><span class="p">(</span><span class="n">note_id</span><span class="p">):</span>
</span><span id="__span-2-131"><a id="__codelineno-2-131" name="__codelineno-2-131" href="#__codelineno-2-131"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Handle individual note operations.&quot;&quot;&quot;</span>
</span><span id="__span-2-132"><a id="__codelineno-2-132" name="__codelineno-2-132" href="#__codelineno-2-132"></a>    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;PUT&#39;</span><span class="p">:</span>
</span><span id="__span-2-133"><a id="__codelineno-2-133" name="__codelineno-2-133" href="#__codelineno-2-133"></a>        <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</span><span id="__span-2-134"><a id="__codelineno-2-134" name="__codelineno-2-134" href="#__codelineno-2-134"></a>        <span class="n">note</span> <span class="o">=</span> <span class="n">PWAManager</span><span class="o">.</span><span class="n">update_note</span><span class="p">(</span>
</span><span id="__span-2-135"><a id="__codelineno-2-135" name="__codelineno-2-135" href="#__codelineno-2-135"></a>            <span class="n">note_id</span><span class="p">,</span>
</span><span id="__span-2-136"><a id="__codelineno-2-136" name="__codelineno-2-136" href="#__codelineno-2-136"></a>            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
</span><span id="__span-2-137"><a id="__codelineno-2-137" name="__codelineno-2-137" href="#__codelineno-2-137"></a>            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span><span id="__span-2-138"><a id="__codelineno-2-138" name="__codelineno-2-138" href="#__codelineno-2-138"></a>        <span class="p">)</span>
</span><span id="__span-2-139"><a id="__codelineno-2-139" name="__codelineno-2-139" href="#__codelineno-2-139"></a>
</span><span id="__span-2-140"><a id="__codelineno-2-140" name="__codelineno-2-140" href="#__codelineno-2-140"></a>        <span class="k">if</span> <span class="n">note</span><span class="p">:</span>
</span><span id="__span-2-141"><a id="__codelineno-2-141" name="__codelineno-2-141" href="#__codelineno-2-141"></a>            <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;note&#39;</span><span class="p">:</span> <span class="n">note</span><span class="p">})</span>
</span><span id="__span-2-142"><a id="__codelineno-2-142" name="__codelineno-2-142" href="#__codelineno-2-142"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-2-143"><a id="__codelineno-2-143" name="__codelineno-2-143" href="#__codelineno-2-143"></a>            <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Note not found&#39;</span><span class="p">}),</span> <span class="mi">404</span>
</span><span id="__span-2-144"><a id="__codelineno-2-144" name="__codelineno-2-144" href="#__codelineno-2-144"></a>
</span><span id="__span-2-145"><a id="__codelineno-2-145" name="__codelineno-2-145" href="#__codelineno-2-145"></a>    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;DELETE&#39;</span><span class="p">:</span>
</span><span id="__span-2-146"><a id="__codelineno-2-146" name="__codelineno-2-146" href="#__codelineno-2-146"></a>        <span class="k">global</span> <span class="n">notes_db</span>
</span><span id="__span-2-147"><a id="__codelineno-2-147" name="__codelineno-2-147" href="#__codelineno-2-147"></a>        <span class="n">notes_db</span> <span class="o">=</span> <span class="p">[</span><span class="n">note</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">notes_db</span> <span class="k">if</span> <span class="n">note</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">note_id</span><span class="p">]</span>
</span><span id="__span-2-148"><a id="__codelineno-2-148" name="__codelineno-2-148" href="#__codelineno-2-148"></a>        <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span><span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
</span><span id="__span-2-149"><a id="__codelineno-2-149" name="__codelineno-2-149" href="#__codelineno-2-149"></a>
</span><span id="__span-2-150"><a id="__codelineno-2-150" name="__codelineno-2-150" href="#__codelineno-2-150"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/api/sync&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
</span><span id="__span-2-151"><a id="__codelineno-2-151" name="__codelineno-2-151" href="#__codelineno-2-151"></a><span class="k">def</span><span class="w"> </span><span class="nf">sync_data</span><span class="p">():</span>
</span><span id="__span-2-152"><a id="__codelineno-2-152" name="__codelineno-2-152" href="#__codelineno-2-152"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sync offline data when connection is restored.&quot;&quot;&quot;</span>
</span><span id="__span-2-153"><a id="__codelineno-2-153" name="__codelineno-2-153" href="#__codelineno-2-153"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">()</span>
</span><span id="__span-2-154"><a id="__codelineno-2-154" name="__codelineno-2-154" href="#__codelineno-2-154"></a>    <span class="n">offline_actions</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;actions&#39;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="__span-2-155"><a id="__codelineno-2-155" name="__codelineno-2-155" href="#__codelineno-2-155"></a>
</span><span id="__span-2-156"><a id="__codelineno-2-156" name="__codelineno-2-156" href="#__codelineno-2-156"></a>    <span class="n">synced_items</span> <span class="o">=</span> <span class="n">PWAManager</span><span class="o">.</span><span class="n">sync_offline_data</span><span class="p">(</span><span class="n">offline_actions</span><span class="p">)</span>
</span><span id="__span-2-157"><a id="__codelineno-2-157" name="__codelineno-2-157" href="#__codelineno-2-157"></a>
</span><span id="__span-2-158"><a id="__codelineno-2-158" name="__codelineno-2-158" href="#__codelineno-2-158"></a>    <span class="k">return</span> <span class="n">jsonify</span><span class="p">({</span>
</span><span id="__span-2-159"><a id="__codelineno-2-159" name="__codelineno-2-159" href="#__codelineno-2-159"></a>        <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-2-160"><a id="__codelineno-2-160" name="__codelineno-2-160" href="#__codelineno-2-160"></a>        <span class="s1">&#39;synced_items&#39;</span><span class="p">:</span> <span class="n">synced_items</span><span class="p">,</span>
</span><span id="__span-2-161"><a id="__codelineno-2-161" name="__codelineno-2-161" href="#__codelineno-2-161"></a>        <span class="s1">&#39;server_timestamp&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-2-162"><a id="__codelineno-2-162" name="__codelineno-2-162" href="#__codelineno-2-162"></a>    <span class="p">})</span>
</span><span id="__span-2-163"><a id="__codelineno-2-163" name="__codelineno-2-163" href="#__codelineno-2-163"></a>
</span><span id="__span-2-164"><a id="__codelineno-2-164" name="__codelineno-2-164" href="#__codelineno-2-164"></a><span class="c1"># Service Worker Content (would be in sw.js file)</span>
</span><span id="__span-2-165"><a id="__codelineno-2-165" name="__codelineno-2-165" href="#__codelineno-2-165"></a><span class="n">SERVICE_WORKER_JS</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
</span><span id="__span-2-166"><a id="__codelineno-2-166" name="__codelineno-2-166" href="#__codelineno-2-166"></a><span class="s1">const CACHE_NAME = &#39;note-pwa-v1&#39;;</span>
</span><span id="__span-2-167"><a id="__codelineno-2-167" name="__codelineno-2-167" href="#__codelineno-2-167"></a><span class="s1">const urlsToCache = [</span>
</span><span id="__span-2-168"><a id="__codelineno-2-168" name="__codelineno-2-168" href="#__codelineno-2-168"></a><span class="s1">  &#39;/&#39;,</span>
</span><span id="__span-2-169"><a id="__codelineno-2-169" name="__codelineno-2-169" href="#__codelineno-2-169"></a><span class="s1">  &#39;/static/css/style.css&#39;,</span>
</span><span id="__span-2-170"><a id="__codelineno-2-170" name="__codelineno-2-170" href="#__codelineno-2-170"></a><span class="s1">  &#39;/static/js/app.js&#39;,</span>
</span><span id="__span-2-171"><a id="__codelineno-2-171" name="__codelineno-2-171" href="#__codelineno-2-171"></a><span class="s1">  &#39;/static/icons/icon-192x192.png&#39;,</span>
</span><span id="__span-2-172"><a id="__codelineno-2-172" name="__codelineno-2-172" href="#__codelineno-2-172"></a><span class="s1">  &#39;/static/icons/icon-512x512.png&#39;</span>
</span><span id="__span-2-173"><a id="__codelineno-2-173" name="__codelineno-2-173" href="#__codelineno-2-173"></a><span class="s1">];</span>
</span><span id="__span-2-174"><a id="__codelineno-2-174" name="__codelineno-2-174" href="#__codelineno-2-174"></a>
</span><span id="__span-2-175"><a id="__codelineno-2-175" name="__codelineno-2-175" href="#__codelineno-2-175"></a><span class="s1">// Install event - cache resources</span>
</span><span id="__span-2-176"><a id="__codelineno-2-176" name="__codelineno-2-176" href="#__codelineno-2-176"></a><span class="s1">self.addEventListener(&#39;install&#39;, event =&gt; {</span>
</span><span id="__span-2-177"><a id="__codelineno-2-177" name="__codelineno-2-177" href="#__codelineno-2-177"></a><span class="s1">  event.waitUntil(</span>
</span><span id="__span-2-178"><a id="__codelineno-2-178" name="__codelineno-2-178" href="#__codelineno-2-178"></a><span class="s1">    caches.open(CACHE_NAME)</span>
</span><span id="__span-2-179"><a id="__codelineno-2-179" name="__codelineno-2-179" href="#__codelineno-2-179"></a><span class="s1">      .then(cache =&gt; {</span>
</span><span id="__span-2-180"><a id="__codelineno-2-180" name="__codelineno-2-180" href="#__codelineno-2-180"></a><span class="s1">        return cache.addAll(urlsToCache);</span>
</span><span id="__span-2-181"><a id="__codelineno-2-181" name="__codelineno-2-181" href="#__codelineno-2-181"></a><span class="s1">      })</span>
</span><span id="__span-2-182"><a id="__codelineno-2-182" name="__codelineno-2-182" href="#__codelineno-2-182"></a><span class="s1">  );</span>
</span><span id="__span-2-183"><a id="__codelineno-2-183" name="__codelineno-2-183" href="#__codelineno-2-183"></a><span class="s1">});</span>
</span><span id="__span-2-184"><a id="__codelineno-2-184" name="__codelineno-2-184" href="#__codelineno-2-184"></a>
</span><span id="__span-2-185"><a id="__codelineno-2-185" name="__codelineno-2-185" href="#__codelineno-2-185"></a><span class="s1">// Fetch event - serve from cache when offline</span>
</span><span id="__span-2-186"><a id="__codelineno-2-186" name="__codelineno-2-186" href="#__codelineno-2-186"></a><span class="s1">self.addEventListener(&#39;fetch&#39;, event =&gt; {</span>
</span><span id="__span-2-187"><a id="__codelineno-2-187" name="__codelineno-2-187" href="#__codelineno-2-187"></a><span class="s1">  event.respondWith(</span>
</span><span id="__span-2-188"><a id="__codelineno-2-188" name="__codelineno-2-188" href="#__codelineno-2-188"></a><span class="s1">    caches.match(event.request)</span>
</span><span id="__span-2-189"><a id="__codelineno-2-189" name="__codelineno-2-189" href="#__codelineno-2-189"></a><span class="s1">      .then(response =&gt; {</span>
</span><span id="__span-2-190"><a id="__codelineno-2-190" name="__codelineno-2-190" href="#__codelineno-2-190"></a><span class="s1">        // Return cached version or fetch from network</span>
</span><span id="__span-2-191"><a id="__codelineno-2-191" name="__codelineno-2-191" href="#__codelineno-2-191"></a><span class="s1">        if (response) {</span>
</span><span id="__span-2-192"><a id="__codelineno-2-192" name="__codelineno-2-192" href="#__codelineno-2-192"></a><span class="s1">          return response;</span>
</span><span id="__span-2-193"><a id="__codelineno-2-193" name="__codelineno-2-193" href="#__codelineno-2-193"></a><span class="s1">        }</span>
</span><span id="__span-2-194"><a id="__codelineno-2-194" name="__codelineno-2-194" href="#__codelineno-2-194"></a>
</span><span id="__span-2-195"><a id="__codelineno-2-195" name="__codelineno-2-195" href="#__codelineno-2-195"></a><span class="s1">        // Clone the request for network fetch</span>
</span><span id="__span-2-196"><a id="__codelineno-2-196" name="__codelineno-2-196" href="#__codelineno-2-196"></a><span class="s1">        const fetchRequest = event.request.clone();</span>
</span><span id="__span-2-197"><a id="__codelineno-2-197" name="__codelineno-2-197" href="#__codelineno-2-197"></a>
</span><span id="__span-2-198"><a id="__codelineno-2-198" name="__codelineno-2-198" href="#__codelineno-2-198"></a><span class="s1">        return fetch(fetchRequest).then(response =&gt; {</span>
</span><span id="__span-2-199"><a id="__codelineno-2-199" name="__codelineno-2-199" href="#__codelineno-2-199"></a><span class="s1">          // Check if valid response</span>
</span><span id="__span-2-200"><a id="__codelineno-2-200" name="__codelineno-2-200" href="#__codelineno-2-200"></a><span class="s1">          if (!response || response.status !== 200 || response.type !== &#39;basic&#39;) {</span>
</span><span id="__span-2-201"><a id="__codelineno-2-201" name="__codelineno-2-201" href="#__codelineno-2-201"></a><span class="s1">            return response;</span>
</span><span id="__span-2-202"><a id="__codelineno-2-202" name="__codelineno-2-202" href="#__codelineno-2-202"></a><span class="s1">          }</span>
</span><span id="__span-2-203"><a id="__codelineno-2-203" name="__codelineno-2-203" href="#__codelineno-2-203"></a>
</span><span id="__span-2-204"><a id="__codelineno-2-204" name="__codelineno-2-204" href="#__codelineno-2-204"></a><span class="s1">          // Clone response for caching</span>
</span><span id="__span-2-205"><a id="__codelineno-2-205" name="__codelineno-2-205" href="#__codelineno-2-205"></a><span class="s1">          const responseToCache = response.clone();</span>
</span><span id="__span-2-206"><a id="__codelineno-2-206" name="__codelineno-2-206" href="#__codelineno-2-206"></a>
</span><span id="__span-2-207"><a id="__codelineno-2-207" name="__codelineno-2-207" href="#__codelineno-2-207"></a><span class="s1">          caches.open(CACHE_NAME)</span>
</span><span id="__span-2-208"><a id="__codelineno-2-208" name="__codelineno-2-208" href="#__codelineno-2-208"></a><span class="s1">            .then(cache =&gt; {</span>
</span><span id="__span-2-209"><a id="__codelineno-2-209" name="__codelineno-2-209" href="#__codelineno-2-209"></a><span class="s1">              cache.put(event.request, responseToCache);</span>
</span><span id="__span-2-210"><a id="__codelineno-2-210" name="__codelineno-2-210" href="#__codelineno-2-210"></a><span class="s1">            });</span>
</span><span id="__span-2-211"><a id="__codelineno-2-211" name="__codelineno-2-211" href="#__codelineno-2-211"></a>
</span><span id="__span-2-212"><a id="__codelineno-2-212" name="__codelineno-2-212" href="#__codelineno-2-212"></a><span class="s1">          return response;</span>
</span><span id="__span-2-213"><a id="__codelineno-2-213" name="__codelineno-2-213" href="#__codelineno-2-213"></a><span class="s1">        }).catch(() =&gt; {</span>
</span><span id="__span-2-214"><a id="__codelineno-2-214" name="__codelineno-2-214" href="#__codelineno-2-214"></a><span class="s1">          // Return offline page or cached content</span>
</span><span id="__span-2-215"><a id="__codelineno-2-215" name="__codelineno-2-215" href="#__codelineno-2-215"></a><span class="s1">          if (event.request.destination === &#39;document&#39;) {</span>
</span><span id="__span-2-216"><a id="__codelineno-2-216" name="__codelineno-2-216" href="#__codelineno-2-216"></a><span class="s1">            return caches.match(&#39;/&#39;);</span>
</span><span id="__span-2-217"><a id="__codelineno-2-217" name="__codelineno-2-217" href="#__codelineno-2-217"></a><span class="s1">          }</span>
</span><span id="__span-2-218"><a id="__codelineno-2-218" name="__codelineno-2-218" href="#__codelineno-2-218"></a><span class="s1">        });</span>
</span><span id="__span-2-219"><a id="__codelineno-2-219" name="__codelineno-2-219" href="#__codelineno-2-219"></a><span class="s1">      })</span>
</span><span id="__span-2-220"><a id="__codelineno-2-220" name="__codelineno-2-220" href="#__codelineno-2-220"></a><span class="s1">  );</span>
</span><span id="__span-2-221"><a id="__codelineno-2-221" name="__codelineno-2-221" href="#__codelineno-2-221"></a><span class="s1">});</span>
</span><span id="__span-2-222"><a id="__codelineno-2-222" name="__codelineno-2-222" href="#__codelineno-2-222"></a>
</span><span id="__span-2-223"><a id="__codelineno-2-223" name="__codelineno-2-223" href="#__codelineno-2-223"></a><span class="s1">// Background sync event</span>
</span><span id="__span-2-224"><a id="__codelineno-2-224" name="__codelineno-2-224" href="#__codelineno-2-224"></a><span class="s1">self.addEventListener(&#39;sync&#39;, event =&gt; {</span>
</span><span id="__span-2-225"><a id="__codelineno-2-225" name="__codelineno-2-225" href="#__codelineno-2-225"></a><span class="s1">  if (event.tag === &#39;background-sync&#39;) {</span>
</span><span id="__span-2-226"><a id="__codelineno-2-226" name="__codelineno-2-226" href="#__codelineno-2-226"></a><span class="s1">    event.waitUntil(syncData());</span>
</span><span id="__span-2-227"><a id="__codelineno-2-227" name="__codelineno-2-227" href="#__codelineno-2-227"></a><span class="s1">  }</span>
</span><span id="__span-2-228"><a id="__codelineno-2-228" name="__codelineno-2-228" href="#__codelineno-2-228"></a><span class="s1">});</span>
</span><span id="__span-2-229"><a id="__codelineno-2-229" name="__codelineno-2-229" href="#__codelineno-2-229"></a>
</span><span id="__span-2-230"><a id="__codelineno-2-230" name="__codelineno-2-230" href="#__codelineno-2-230"></a><span class="s1">// Push notification event</span>
</span><span id="__span-2-231"><a id="__codelineno-2-231" name="__codelineno-2-231" href="#__codelineno-2-231"></a><span class="s1">self.addEventListener(&#39;push&#39;, event =&gt; {</span>
</span><span id="__span-2-232"><a id="__codelineno-2-232" name="__codelineno-2-232" href="#__codelineno-2-232"></a><span class="s1">  const options = {</span>
</span><span id="__span-2-233"><a id="__codelineno-2-233" name="__codelineno-2-233" href="#__codelineno-2-233"></a><span class="s1">    body: event.data ? event.data.text() : &#39;New notification&#39;,</span>
</span><span id="__span-2-234"><a id="__codelineno-2-234" name="__codelineno-2-234" href="#__codelineno-2-234"></a><span class="s1">    icon: &#39;/static/icons/icon-192x192.png&#39;,</span>
</span><span id="__span-2-235"><a id="__codelineno-2-235" name="__codelineno-2-235" href="#__codelineno-2-235"></a><span class="s1">    badge: &#39;/static/icons/icon-192x192.png&#39;</span>
</span><span id="__span-2-236"><a id="__codelineno-2-236" name="__codelineno-2-236" href="#__codelineno-2-236"></a><span class="s1">  };</span>
</span><span id="__span-2-237"><a id="__codelineno-2-237" name="__codelineno-2-237" href="#__codelineno-2-237"></a>
</span><span id="__span-2-238"><a id="__codelineno-2-238" name="__codelineno-2-238" href="#__codelineno-2-238"></a><span class="s1">  event.waitUntil(</span>
</span><span id="__span-2-239"><a id="__codelineno-2-239" name="__codelineno-2-239" href="#__codelineno-2-239"></a><span class="s1">    self.registration.showNotification(&#39;Note PWA&#39;, options)</span>
</span><span id="__span-2-240"><a id="__codelineno-2-240" name="__codelineno-2-240" href="#__codelineno-2-240"></a><span class="s1">  );</span>
</span><span id="__span-2-241"><a id="__codelineno-2-241" name="__codelineno-2-241" href="#__codelineno-2-241"></a><span class="s1">});</span>
</span><span id="__span-2-242"><a id="__codelineno-2-242" name="__codelineno-2-242" href="#__codelineno-2-242"></a>
</span><span id="__span-2-243"><a id="__codelineno-2-243" name="__codelineno-2-243" href="#__codelineno-2-243"></a><span class="s1">async function syncData() {</span>
</span><span id="__span-2-244"><a id="__codelineno-2-244" name="__codelineno-2-244" href="#__codelineno-2-244"></a><span class="s1">  try {</span>
</span><span id="__span-2-245"><a id="__codelineno-2-245" name="__codelineno-2-245" href="#__codelineno-2-245"></a><span class="s1">    // Get offline actions from IndexedDB</span>
</span><span id="__span-2-246"><a id="__codelineno-2-246" name="__codelineno-2-246" href="#__codelineno-2-246"></a><span class="s1">    const offlineActions = await getOfflineActions();</span>
</span><span id="__span-2-247"><a id="__codelineno-2-247" name="__codelineno-2-247" href="#__codelineno-2-247"></a>
</span><span id="__span-2-248"><a id="__codelineno-2-248" name="__codelineno-2-248" href="#__codelineno-2-248"></a><span class="s1">    if (offlineActions.length &gt; 0) {</span>
</span><span id="__span-2-249"><a id="__codelineno-2-249" name="__codelineno-2-249" href="#__codelineno-2-249"></a><span class="s1">      const response = await fetch(&#39;/api/sync&#39;, {</span>
</span><span id="__span-2-250"><a id="__codelineno-2-250" name="__codelineno-2-250" href="#__codelineno-2-250"></a><span class="s1">        method: &#39;POST&#39;,</span>
</span><span id="__span-2-251"><a id="__codelineno-2-251" name="__codelineno-2-251" href="#__codelineno-2-251"></a><span class="s1">        headers: {</span>
</span><span id="__span-2-252"><a id="__codelineno-2-252" name="__codelineno-2-252" href="#__codelineno-2-252"></a><span class="s1">          &#39;Content-Type&#39;: &#39;application/json&#39;</span>
</span><span id="__span-2-253"><a id="__codelineno-2-253" name="__codelineno-2-253" href="#__codelineno-2-253"></a><span class="s1">        },</span>
</span><span id="__span-2-254"><a id="__codelineno-2-254" name="__codelineno-2-254" href="#__codelineno-2-254"></a><span class="s1">        body: JSON.stringify({ actions: offlineActions })</span>
</span><span id="__span-2-255"><a id="__codelineno-2-255" name="__codelineno-2-255" href="#__codelineno-2-255"></a><span class="s1">      });</span>
</span><span id="__span-2-256"><a id="__codelineno-2-256" name="__codelineno-2-256" href="#__codelineno-2-256"></a>
</span><span id="__span-2-257"><a id="__codelineno-2-257" name="__codelineno-2-257" href="#__codelineno-2-257"></a><span class="s1">      if (response.ok) {</span>
</span><span id="__span-2-258"><a id="__codelineno-2-258" name="__codelineno-2-258" href="#__codelineno-2-258"></a><span class="s1">        // Clear synced actions from local storage</span>
</span><span id="__span-2-259"><a id="__codelineno-2-259" name="__codelineno-2-259" href="#__codelineno-2-259"></a><span class="s1">        await clearOfflineActions();</span>
</span><span id="__span-2-260"><a id="__codelineno-2-260" name="__codelineno-2-260" href="#__codelineno-2-260"></a><span class="s1">      }</span>
</span><span id="__span-2-261"><a id="__codelineno-2-261" name="__codelineno-2-261" href="#__codelineno-2-261"></a><span class="s1">    }</span>
</span><span id="__span-2-262"><a id="__codelineno-2-262" name="__codelineno-2-262" href="#__codelineno-2-262"></a><span class="s1">  } catch (error) {</span>
</span><span id="__span-2-263"><a id="__codelineno-2-263" name="__codelineno-2-263" href="#__codelineno-2-263"></a><span class="s1">    console.error(&#39;Sync failed:&#39;, error);</span>
</span><span id="__span-2-264"><a id="__codelineno-2-264" name="__codelineno-2-264" href="#__codelineno-2-264"></a><span class="s1">  }</span>
</span><span id="__span-2-265"><a id="__codelineno-2-265" name="__codelineno-2-265" href="#__codelineno-2-265"></a><span class="s1">}</span>
</span><span id="__span-2-266"><a id="__codelineno-2-266" name="__codelineno-2-266" href="#__codelineno-2-266"></a><span class="s1">&#39;&#39;&#39;</span>
</span><span id="__span-2-267"><a id="__codelineno-2-267" name="__codelineno-2-267" href="#__codelineno-2-267"></a>
</span><span id="__span-2-268"><a id="__codelineno-2-268" name="__codelineno-2-268" href="#__codelineno-2-268"></a><span class="c1"># Example PWA shell template (would be in templates/pwa_shell.html)</span>
</span><span id="__span-2-269"><a id="__codelineno-2-269" name="__codelineno-2-269" href="#__codelineno-2-269"></a><span class="n">PWA_SHELL_HTML</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
</span><span id="__span-2-270"><a id="__codelineno-2-270" name="__codelineno-2-270" href="#__codelineno-2-270"></a><span class="s1">&lt;!DOCTYPE html&gt;</span>
</span><span id="__span-2-271"><a id="__codelineno-2-271" name="__codelineno-2-271" href="#__codelineno-2-271"></a><span class="s1">&lt;html lang=&quot;en&quot;&gt;</span>
</span><span id="__span-2-272"><a id="__codelineno-2-272" name="__codelineno-2-272" href="#__codelineno-2-272"></a><span class="s1">&lt;head&gt;</span>
</span><span id="__span-2-273"><a id="__codelineno-2-273" name="__codelineno-2-273" href="#__codelineno-2-273"></a><span class="s1">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
</span><span id="__span-2-274"><a id="__codelineno-2-274" name="__codelineno-2-274" href="#__codelineno-2-274"></a><span class="s1">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span>
</span><span id="__span-2-275"><a id="__codelineno-2-275" name="__codelineno-2-275" href="#__codelineno-2-275"></a><span class="s1">    &lt;title&gt;Note Taking PWA&lt;/title&gt;</span>
</span><span id="__span-2-276"><a id="__codelineno-2-276" name="__codelineno-2-276" href="#__codelineno-2-276"></a><span class="s1">    &lt;link rel=&quot;manifest&quot; href=&quot;/manifest.json&quot;&gt;</span>
</span><span id="__span-2-277"><a id="__codelineno-2-277" name="__codelineno-2-277" href="#__codelineno-2-277"></a><span class="s1">    &lt;meta name=&quot;theme-color&quot; content=&quot;#2196F3&quot;&gt;</span>
</span><span id="__span-2-278"><a id="__codelineno-2-278" name="__codelineno-2-278" href="#__codelineno-2-278"></a><span class="s1">    &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;</span>
</span><span id="__span-2-279"><a id="__codelineno-2-279" name="__codelineno-2-279" href="#__codelineno-2-279"></a><span class="s1">    &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;default&quot;&gt;</span>
</span><span id="__span-2-280"><a id="__codelineno-2-280" name="__codelineno-2-280" href="#__codelineno-2-280"></a><span class="s1">    &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;NotePWA&quot;&gt;</span>
</span><span id="__span-2-281"><a id="__codelineno-2-281" name="__codelineno-2-281" href="#__codelineno-2-281"></a><span class="s1">    &lt;style&gt;</span>
</span><span id="__span-2-282"><a id="__codelineno-2-282" name="__codelineno-2-282" href="#__codelineno-2-282"></a><span class="s1">        body {</span>
</span><span id="__span-2-283"><a id="__codelineno-2-283" name="__codelineno-2-283" href="#__codelineno-2-283"></a><span class="s1">            font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, sans-serif;</span>
</span><span id="__span-2-284"><a id="__codelineno-2-284" name="__codelineno-2-284" href="#__codelineno-2-284"></a><span class="s1">            margin: 0;</span>
</span><span id="__span-2-285"><a id="__codelineno-2-285" name="__codelineno-2-285" href="#__codelineno-2-285"></a><span class="s1">            padding: 20px;</span>
</span><span id="__span-2-286"><a id="__codelineno-2-286" name="__codelineno-2-286" href="#__codelineno-2-286"></a><span class="s1">            background-color: #f5f5f5;</span>
</span><span id="__span-2-287"><a id="__codelineno-2-287" name="__codelineno-2-287" href="#__codelineno-2-287"></a><span class="s1">        }</span>
</span><span id="__span-2-288"><a id="__codelineno-2-288" name="__codelineno-2-288" href="#__codelineno-2-288"></a><span class="s1">        .app-header {</span>
</span><span id="__span-2-289"><a id="__codelineno-2-289" name="__codelineno-2-289" href="#__codelineno-2-289"></a><span class="s1">            background: #2196F3;</span>
</span><span id="__span-2-290"><a id="__codelineno-2-290" name="__codelineno-2-290" href="#__codelineno-2-290"></a><span class="s1">            color: white;</span>
</span><span id="__span-2-291"><a id="__codelineno-2-291" name="__codelineno-2-291" href="#__codelineno-2-291"></a><span class="s1">            padding: 20px;</span>
</span><span id="__span-2-292"><a id="__codelineno-2-292" name="__codelineno-2-292" href="#__codelineno-2-292"></a><span class="s1">            margin: -20px -20px 20px -20px;</span>
</span><span id="__span-2-293"><a id="__codelineno-2-293" name="__codelineno-2-293" href="#__codelineno-2-293"></a><span class="s1">            text-align: center;</span>
</span><span id="__span-2-294"><a id="__codelineno-2-294" name="__codelineno-2-294" href="#__codelineno-2-294"></a><span class="s1">        }</span>
</span><span id="__span-2-295"><a id="__codelineno-2-295" name="__codelineno-2-295" href="#__codelineno-2-295"></a><span class="s1">        .offline-indicator {</span>
</span><span id="__span-2-296"><a id="__codelineno-2-296" name="__codelineno-2-296" href="#__codelineno-2-296"></a><span class="s1">            background: #ff9800;</span>
</span><span id="__span-2-297"><a id="__codelineno-2-297" name="__codelineno-2-297" href="#__codelineno-2-297"></a><span class="s1">            color: white;</span>
</span><span id="__span-2-298"><a id="__codelineno-2-298" name="__codelineno-2-298" href="#__codelineno-2-298"></a><span class="s1">            padding: 10px;</span>
</span><span id="__span-2-299"><a id="__codelineno-2-299" name="__codelineno-2-299" href="#__codelineno-2-299"></a><span class="s1">            text-align: center;</span>
</span><span id="__span-2-300"><a id="__codelineno-2-300" name="__codelineno-2-300" href="#__codelineno-2-300"></a><span class="s1">            display: none;</span>
</span><span id="__span-2-301"><a id="__codelineno-2-301" name="__codelineno-2-301" href="#__codelineno-2-301"></a><span class="s1">        }</span>
</span><span id="__span-2-302"><a id="__codelineno-2-302" name="__codelineno-2-302" href="#__codelineno-2-302"></a><span class="s1">        .note-form {</span>
</span><span id="__span-2-303"><a id="__codelineno-2-303" name="__codelineno-2-303" href="#__codelineno-2-303"></a><span class="s1">            background: white;</span>
</span><span id="__span-2-304"><a id="__codelineno-2-304" name="__codelineno-2-304" href="#__codelineno-2-304"></a><span class="s1">            padding: 20px;</span>
</span><span id="__span-2-305"><a id="__codelineno-2-305" name="__codelineno-2-305" href="#__codelineno-2-305"></a><span class="s1">            border-radius: 8px;</span>
</span><span id="__span-2-306"><a id="__codelineno-2-306" name="__codelineno-2-306" href="#__codelineno-2-306"></a><span class="s1">            margin-bottom: 20px;</span>
</span><span id="__span-2-307"><a id="__codelineno-2-307" name="__codelineno-2-307" href="#__codelineno-2-307"></a><span class="s1">            box-shadow: 0 2px 4px rgba(0,0,0,0.1);</span>
</span><span id="__span-2-308"><a id="__codelineno-2-308" name="__codelineno-2-308" href="#__codelineno-2-308"></a><span class="s1">        }</span>
</span><span id="__span-2-309"><a id="__codelineno-2-309" name="__codelineno-2-309" href="#__codelineno-2-309"></a><span class="s1">        .note {</span>
</span><span id="__span-2-310"><a id="__codelineno-2-310" name="__codelineno-2-310" href="#__codelineno-2-310"></a><span class="s1">            background: white;</span>
</span><span id="__span-2-311"><a id="__codelineno-2-311" name="__codelineno-2-311" href="#__codelineno-2-311"></a><span class="s1">            padding: 15px;</span>
</span><span id="__span-2-312"><a id="__codelineno-2-312" name="__codelineno-2-312" href="#__codelineno-2-312"></a><span class="s1">            margin-bottom: 10px;</span>
</span><span id="__span-2-313"><a id="__codelineno-2-313" name="__codelineno-2-313" href="#__codelineno-2-313"></a><span class="s1">            border-radius: 8px;</span>
</span><span id="__span-2-314"><a id="__codelineno-2-314" name="__codelineno-2-314" href="#__codelineno-2-314"></a><span class="s1">            box-shadow: 0 2px 4px rgba(0,0,0,0.1);</span>
</span><span id="__span-2-315"><a id="__codelineno-2-315" name="__codelineno-2-315" href="#__codelineno-2-315"></a><span class="s1">        }</span>
</span><span id="__span-2-316"><a id="__codelineno-2-316" name="__codelineno-2-316" href="#__codelineno-2-316"></a><span class="s1">        input, textarea {</span>
</span><span id="__span-2-317"><a id="__codelineno-2-317" name="__codelineno-2-317" href="#__codelineno-2-317"></a><span class="s1">            width: 100%;</span>
</span><span id="__span-2-318"><a id="__codelineno-2-318" name="__codelineno-2-318" href="#__codelineno-2-318"></a><span class="s1">            padding: 10px;</span>
</span><span id="__span-2-319"><a id="__codelineno-2-319" name="__codelineno-2-319" href="#__codelineno-2-319"></a><span class="s1">            border: 1px solid #ddd;</span>
</span><span id="__span-2-320"><a id="__codelineno-2-320" name="__codelineno-2-320" href="#__codelineno-2-320"></a><span class="s1">            border-radius: 4px;</span>
</span><span id="__span-2-321"><a id="__codelineno-2-321" name="__codelineno-2-321" href="#__codelineno-2-321"></a><span class="s1">            margin-bottom: 10px;</span>
</span><span id="__span-2-322"><a id="__codelineno-2-322" name="__codelineno-2-322" href="#__codelineno-2-322"></a><span class="s1">            box-sizing: border-box;</span>
</span><span id="__span-2-323"><a id="__codelineno-2-323" name="__codelineno-2-323" href="#__codelineno-2-323"></a><span class="s1">        }</span>
</span><span id="__span-2-324"><a id="__codelineno-2-324" name="__codelineno-2-324" href="#__codelineno-2-324"></a><span class="s1">        button {</span>
</span><span id="__span-2-325"><a id="__codelineno-2-325" name="__codelineno-2-325" href="#__codelineno-2-325"></a><span class="s1">            background: #2196F3;</span>
</span><span id="__span-2-326"><a id="__codelineno-2-326" name="__codelineno-2-326" href="#__codelineno-2-326"></a><span class="s1">            color: white;</span>
</span><span id="__span-2-327"><a id="__codelineno-2-327" name="__codelineno-2-327" href="#__codelineno-2-327"></a><span class="s1">            border: none;</span>
</span><span id="__span-2-328"><a id="__codelineno-2-328" name="__codelineno-2-328" href="#__codelineno-2-328"></a><span class="s1">            padding: 10px 20px;</span>
</span><span id="__span-2-329"><a id="__codelineno-2-329" name="__codelineno-2-329" href="#__codelineno-2-329"></a><span class="s1">            border-radius: 4px;</span>
</span><span id="__span-2-330"><a id="__codelineno-2-330" name="__codelineno-2-330" href="#__codelineno-2-330"></a><span class="s1">            cursor: pointer;</span>
</span><span id="__span-2-331"><a id="__codelineno-2-331" name="__codelineno-2-331" href="#__codelineno-2-331"></a><span class="s1">        }</span>
</span><span id="__span-2-332"><a id="__codelineno-2-332" name="__codelineno-2-332" href="#__codelineno-2-332"></a><span class="s1">        button:hover {</span>
</span><span id="__span-2-333"><a id="__codelineno-2-333" name="__codelineno-2-333" href="#__codelineno-2-333"></a><span class="s1">            background: #1976D2;</span>
</span><span id="__span-2-334"><a id="__codelineno-2-334" name="__codelineno-2-334" href="#__codelineno-2-334"></a><span class="s1">        }</span>
</span><span id="__span-2-335"><a id="__codelineno-2-335" name="__codelineno-2-335" href="#__codelineno-2-335"></a><span class="s1">        .sync-status {</span>
</span><span id="__span-2-336"><a id="__codelineno-2-336" name="__codelineno-2-336" href="#__codelineno-2-336"></a><span class="s1">            font-size: 12px;</span>
</span><span id="__span-2-337"><a id="__codelineno-2-337" name="__codelineno-2-337" href="#__codelineno-2-337"></a><span class="s1">            color: #666;</span>
</span><span id="__span-2-338"><a id="__codelineno-2-338" name="__codelineno-2-338" href="#__codelineno-2-338"></a><span class="s1">            margin-top: 5px;</span>
</span><span id="__span-2-339"><a id="__codelineno-2-339" name="__codelineno-2-339" href="#__codelineno-2-339"></a><span class="s1">        }</span>
</span><span id="__span-2-340"><a id="__codelineno-2-340" name="__codelineno-2-340" href="#__codelineno-2-340"></a><span class="s1">    &lt;/style&gt;</span>
</span><span id="__span-2-341"><a id="__codelineno-2-341" name="__codelineno-2-341" href="#__codelineno-2-341"></a><span class="s1">&lt;/head&gt;</span>
</span><span id="__span-2-342"><a id="__codelineno-2-342" name="__codelineno-2-342" href="#__codelineno-2-342"></a><span class="s1">&lt;body&gt;</span>
</span><span id="__span-2-343"><a id="__codelineno-2-343" name="__codelineno-2-343" href="#__codelineno-2-343"></a><span class="s1">    &lt;div class=&quot;app-header&quot;&gt;</span>
</span><span id="__span-2-344"><a id="__codelineno-2-344" name="__codelineno-2-344" href="#__codelineno-2-344"></a><span class="s1">        &lt;h1&gt;📝 Note Taking PWA&lt;/h1&gt;</span>
</span><span id="__span-2-345"><a id="__codelineno-2-345" name="__codelineno-2-345" href="#__codelineno-2-345"></a><span class="s1">    &lt;/div&gt;</span>
</span><span id="__span-2-346"><a id="__codelineno-2-346" name="__codelineno-2-346" href="#__codelineno-2-346"></a>
</span><span id="__span-2-347"><a id="__codelineno-2-347" name="__codelineno-2-347" href="#__codelineno-2-347"></a><span class="s1">    &lt;div class=&quot;offline-indicator&quot; id=&quot;offline-indicator&quot;&gt;</span>
</span><span id="__span-2-348"><a id="__codelineno-2-348" name="__codelineno-2-348" href="#__codelineno-2-348"></a><span class="s1">        You&#39;re offline. Your changes will sync when connection is restored.</span>
</span><span id="__span-2-349"><a id="__codelineno-2-349" name="__codelineno-2-349" href="#__codelineno-2-349"></a><span class="s1">    &lt;/div&gt;</span>
</span><span id="__span-2-350"><a id="__codelineno-2-350" name="__codelineno-2-350" href="#__codelineno-2-350"></a>
</span><span id="__span-2-351"><a id="__codelineno-2-351" name="__codelineno-2-351" href="#__codelineno-2-351"></a><span class="s1">    &lt;div class=&quot;note-form&quot;&gt;</span>
</span><span id="__span-2-352"><a id="__codelineno-2-352" name="__codelineno-2-352" href="#__codelineno-2-352"></a><span class="s1">        &lt;input type=&quot;text&quot; id=&quot;note-title&quot; placeholder=&quot;Note title&quot;&gt;</span>
</span><span id="__span-2-353"><a id="__codelineno-2-353" name="__codelineno-2-353" href="#__codelineno-2-353"></a><span class="s1">        &lt;textarea id=&quot;note-content&quot; placeholder=&quot;Note content&quot; rows=&quot;4&quot;&gt;&lt;/textarea&gt;</span>
</span><span id="__span-2-354"><a id="__codelineno-2-354" name="__codelineno-2-354" href="#__codelineno-2-354"></a><span class="s1">        &lt;button onclick=&quot;addNote()&quot;&gt;Add Note&lt;/button&gt;</span>
</span><span id="__span-2-355"><a id="__codelineno-2-355" name="__codelineno-2-355" href="#__codelineno-2-355"></a><span class="s1">    &lt;/div&gt;</span>
</span><span id="__span-2-356"><a id="__codelineno-2-356" name="__codelineno-2-356" href="#__codelineno-2-356"></a>
</span><span id="__span-2-357"><a id="__codelineno-2-357" name="__codelineno-2-357" href="#__codelineno-2-357"></a><span class="s1">    &lt;div id=&quot;notes-container&quot;&gt;</span>
</span><span id="__span-2-358"><a id="__codelineno-2-358" name="__codelineno-2-358" href="#__codelineno-2-358"></a><span class="s1">        &lt;!-- Notes will be loaded here --&gt;</span>
</span><span id="__span-2-359"><a id="__codelineno-2-359" name="__codelineno-2-359" href="#__codelineno-2-359"></a><span class="s1">    &lt;/div&gt;</span>
</span><span id="__span-2-360"><a id="__codelineno-2-360" name="__codelineno-2-360" href="#__codelineno-2-360"></a>
</span><span id="__span-2-361"><a id="__codelineno-2-361" name="__codelineno-2-361" href="#__codelineno-2-361"></a><span class="s1">    &lt;script&gt;</span>
</span><span id="__span-2-362"><a id="__codelineno-2-362" name="__codelineno-2-362" href="#__codelineno-2-362"></a><span class="s1">        // PWA functionality</span>
</span><span id="__span-2-363"><a id="__codelineno-2-363" name="__codelineno-2-363" href="#__codelineno-2-363"></a><span class="s1">        let isOnline = navigator.onLine;</span>
</span><span id="__span-2-364"><a id="__codelineno-2-364" name="__codelineno-2-364" href="#__codelineno-2-364"></a><span class="s1">        let offlineActions = JSON.parse(localStorage.getItem(&#39;offlineActions&#39;) || &#39;[]&#39;);</span>
</span><span id="__span-2-365"><a id="__codelineno-2-365" name="__codelineno-2-365" href="#__codelineno-2-365"></a>
</span><span id="__span-2-366"><a id="__codelineno-2-366" name="__codelineno-2-366" href="#__codelineno-2-366"></a><span class="s1">        // Register service worker</span>
</span><span id="__span-2-367"><a id="__codelineno-2-367" name="__codelineno-2-367" href="#__codelineno-2-367"></a><span class="s1">        if (&#39;serviceWorker&#39; in navigator) {</span>
</span><span id="__span-2-368"><a id="__codelineno-2-368" name="__codelineno-2-368" href="#__codelineno-2-368"></a><span class="s1">            navigator.serviceWorker.register(&#39;/sw.js&#39;)</span>
</span><span id="__span-2-369"><a id="__codelineno-2-369" name="__codelineno-2-369" href="#__codelineno-2-369"></a><span class="s1">                .then(registration =&gt; {</span>
</span><span id="__span-2-370"><a id="__codelineno-2-370" name="__codelineno-2-370" href="#__codelineno-2-370"></a><span class="s1">                    console.log(&#39;SW registered:&#39;, registration);</span>
</span><span id="__span-2-371"><a id="__codelineno-2-371" name="__codelineno-2-371" href="#__codelineno-2-371"></a><span class="s1">                })</span>
</span><span id="__span-2-372"><a id="__codelineno-2-372" name="__codelineno-2-372" href="#__codelineno-2-372"></a><span class="s1">                .catch(error =&gt; {</span>
</span><span id="__span-2-373"><a id="__codelineno-2-373" name="__codelineno-2-373" href="#__codelineno-2-373"></a><span class="s1">                    console.log(&#39;SW registration failed:&#39;, error);</span>
</span><span id="__span-2-374"><a id="__codelineno-2-374" name="__codelineno-2-374" href="#__codelineno-2-374"></a><span class="s1">                });</span>
</span><span id="__span-2-375"><a id="__codelineno-2-375" name="__codelineno-2-375" href="#__codelineno-2-375"></a><span class="s1">        }</span>
</span><span id="__span-2-376"><a id="__codelineno-2-376" name="__codelineno-2-376" href="#__codelineno-2-376"></a>
</span><span id="__span-2-377"><a id="__codelineno-2-377" name="__codelineno-2-377" href="#__codelineno-2-377"></a><span class="s1">        // Handle online/offline status</span>
</span><span id="__span-2-378"><a id="__codelineno-2-378" name="__codelineno-2-378" href="#__codelineno-2-378"></a><span class="s1">        window.addEventListener(&#39;online&#39;, () =&gt; {</span>
</span><span id="__span-2-379"><a id="__codelineno-2-379" name="__codelineno-2-379" href="#__codelineno-2-379"></a><span class="s1">            isOnline = true;</span>
</span><span id="__span-2-380"><a id="__codelineno-2-380" name="__codelineno-2-380" href="#__codelineno-2-380"></a><span class="s1">            document.getElementById(&#39;offline-indicator&#39;).style.display = &#39;none&#39;;</span>
</span><span id="__span-2-381"><a id="__codelineno-2-381" name="__codelineno-2-381" href="#__codelineno-2-381"></a><span class="s1">            syncOfflineActions();</span>
</span><span id="__span-2-382"><a id="__codelineno-2-382" name="__codelineno-2-382" href="#__codelineno-2-382"></a><span class="s1">        });</span>
</span><span id="__span-2-383"><a id="__codelineno-2-383" name="__codelineno-2-383" href="#__codelineno-2-383"></a>
</span><span id="__span-2-384"><a id="__codelineno-2-384" name="__codelineno-2-384" href="#__codelineno-2-384"></a><span class="s1">        window.addEventListener(&#39;offline&#39;, () =&gt; {</span>
</span><span id="__span-2-385"><a id="__codelineno-2-385" name="__codelineno-2-385" href="#__codelineno-2-385"></a><span class="s1">            isOnline = false;</span>
</span><span id="__span-2-386"><a id="__codelineno-2-386" name="__codelineno-2-386" href="#__codelineno-2-386"></a><span class="s1">            document.getElementById(&#39;offline-indicator&#39;).style.display = &#39;block&#39;;</span>
</span><span id="__span-2-387"><a id="__codelineno-2-387" name="__codelineno-2-387" href="#__codelineno-2-387"></a><span class="s1">        });</span>
</span><span id="__span-2-388"><a id="__codelineno-2-388" name="__codelineno-2-388" href="#__codelineno-2-388"></a>
</span><span id="__span-2-389"><a id="__codelineno-2-389" name="__codelineno-2-389" href="#__codelineno-2-389"></a><span class="s1">        // Load notes on page load</span>
</span><span id="__span-2-390"><a id="__codelineno-2-390" name="__codelineno-2-390" href="#__codelineno-2-390"></a><span class="s1">        document.addEventListener(&#39;DOMContentLoaded&#39;, loadNotes);</span>
</span><span id="__span-2-391"><a id="__codelineno-2-391" name="__codelineno-2-391" href="#__codelineno-2-391"></a>
</span><span id="__span-2-392"><a id="__codelineno-2-392" name="__codelineno-2-392" href="#__codelineno-2-392"></a><span class="s1">        async function addNote() {</span>
</span><span id="__span-2-393"><a id="__codelineno-2-393" name="__codelineno-2-393" href="#__codelineno-2-393"></a><span class="s1">            const title = document.getElementById(&#39;note-title&#39;).value;</span>
</span><span id="__span-2-394"><a id="__codelineno-2-394" name="__codelineno-2-394" href="#__codelineno-2-394"></a><span class="s1">            const content = document.getElementById(&#39;note-content&#39;).value;</span>
</span><span id="__span-2-395"><a id="__codelineno-2-395" name="__codelineno-2-395" href="#__codelineno-2-395"></a>
</span><span id="__span-2-396"><a id="__codelineno-2-396" name="__codelineno-2-396" href="#__codelineno-2-396"></a><span class="s1">            if (!title || !content) {</span>
</span><span id="__span-2-397"><a id="__codelineno-2-397" name="__codelineno-2-397" href="#__codelineno-2-397"></a><span class="s1">                alert(&#39;Please fill in both title and content&#39;);</span>
</span><span id="__span-2-398"><a id="__codelineno-2-398" name="__codelineno-2-398" href="#__codelineno-2-398"></a><span class="s1">                return;</span>
</span><span id="__span-2-399"><a id="__codelineno-2-399" name="__codelineno-2-399" href="#__codelineno-2-399"></a><span class="s1">            }</span>
</span><span id="__span-2-400"><a id="__codelineno-2-400" name="__codelineno-2-400" href="#__codelineno-2-400"></a>
</span><span id="__span-2-401"><a id="__codelineno-2-401" name="__codelineno-2-401" href="#__codelineno-2-401"></a><span class="s1">            const noteData = { title, content };</span>
</span><span id="__span-2-402"><a id="__codelineno-2-402" name="__codelineno-2-402" href="#__codelineno-2-402"></a>
</span><span id="__span-2-403"><a id="__codelineno-2-403" name="__codelineno-2-403" href="#__codelineno-2-403"></a><span class="s1">            if (isOnline) {</span>
</span><span id="__span-2-404"><a id="__codelineno-2-404" name="__codelineno-2-404" href="#__codelineno-2-404"></a><span class="s1">                try {</span>
</span><span id="__span-2-405"><a id="__codelineno-2-405" name="__codelineno-2-405" href="#__codelineno-2-405"></a><span class="s1">                    const response = await fetch(&#39;/api/notes&#39;, {</span>
</span><span id="__span-2-406"><a id="__codelineno-2-406" name="__codelineno-2-406" href="#__codelineno-2-406"></a><span class="s1">                        method: &#39;POST&#39;,</span>
</span><span id="__span-2-407"><a id="__codelineno-2-407" name="__codelineno-2-407" href="#__codelineno-2-407"></a><span class="s1">                        headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },</span>
</span><span id="__span-2-408"><a id="__codelineno-2-408" name="__codelineno-2-408" href="#__codelineno-2-408"></a><span class="s1">                        body: JSON.stringify(noteData)</span>
</span><span id="__span-2-409"><a id="__codelineno-2-409" name="__codelineno-2-409" href="#__codelineno-2-409"></a><span class="s1">                    });</span>
</span><span id="__span-2-410"><a id="__codelineno-2-410" name="__codelineno-2-410" href="#__codelineno-2-410"></a>
</span><span id="__span-2-411"><a id="__codelineno-2-411" name="__codelineno-2-411" href="#__codelineno-2-411"></a><span class="s1">                    if (response.ok) {</span>
</span><span id="__span-2-412"><a id="__codelineno-2-412" name="__codelineno-2-412" href="#__codelineno-2-412"></a><span class="s1">                        document.getElementById(&#39;note-title&#39;).value = &#39;&#39;;</span>
</span><span id="__span-2-413"><a id="__codelineno-2-413" name="__codelineno-2-413" href="#__codelineno-2-413"></a><span class="s1">                        document.getElementById(&#39;note-content&#39;).value = &#39;&#39;;</span>
</span><span id="__span-2-414"><a id="__codelineno-2-414" name="__codelineno-2-414" href="#__codelineno-2-414"></a><span class="s1">                        loadNotes();</span>
</span><span id="__span-2-415"><a id="__codelineno-2-415" name="__codelineno-2-415" href="#__codelineno-2-415"></a><span class="s1">                    }</span>
</span><span id="__span-2-416"><a id="__codelineno-2-416" name="__codelineno-2-416" href="#__codelineno-2-416"></a><span class="s1">                } catch (error) {</span>
</span><span id="__span-2-417"><a id="__codelineno-2-417" name="__codelineno-2-417" href="#__codelineno-2-417"></a><span class="s1">                    // Handle as offline</span>
</span><span id="__span-2-418"><a id="__codelineno-2-418" name="__codelineno-2-418" href="#__codelineno-2-418"></a><span class="s1">                    addOfflineAction(&#39;create_note&#39;, noteData);</span>
</span><span id="__span-2-419"><a id="__codelineno-2-419" name="__codelineno-2-419" href="#__codelineno-2-419"></a><span class="s1">                }</span>
</span><span id="__span-2-420"><a id="__codelineno-2-420" name="__codelineno-2-420" href="#__codelineno-2-420"></a><span class="s1">            } else {</span>
</span><span id="__span-2-421"><a id="__codelineno-2-421" name="__codelineno-2-421" href="#__codelineno-2-421"></a><span class="s1">                // Store for later sync</span>
</span><span id="__span-2-422"><a id="__codelineno-2-422" name="__codelineno-2-422" href="#__codelineno-2-422"></a><span class="s1">                addOfflineAction(&#39;create_note&#39;, noteData);</span>
</span><span id="__span-2-423"><a id="__codelineno-2-423" name="__codelineno-2-423" href="#__codelineno-2-423"></a><span class="s1">                addNoteToLocalStorage(noteData);</span>
</span><span id="__span-2-424"><a id="__codelineno-2-424" name="__codelineno-2-424" href="#__codelineno-2-424"></a><span class="s1">                displayNotes();</span>
</span><span id="__span-2-425"><a id="__codelineno-2-425" name="__codelineno-2-425" href="#__codelineno-2-425"></a>
</span><span id="__span-2-426"><a id="__codelineno-2-426" name="__codelineno-2-426" href="#__codelineno-2-426"></a><span class="s1">                document.getElementById(&#39;note-title&#39;).value = &#39;&#39;;</span>
</span><span id="__span-2-427"><a id="__codelineno-2-427" name="__codelineno-2-427" href="#__codelineno-2-427"></a><span class="s1">                document.getElementById(&#39;note-content&#39;).value = &#39;&#39;;</span>
</span><span id="__span-2-428"><a id="__codelineno-2-428" name="__codelineno-2-428" href="#__codelineno-2-428"></a><span class="s1">            }</span>
</span><span id="__span-2-429"><a id="__codelineno-2-429" name="__codelineno-2-429" href="#__codelineno-2-429"></a><span class="s1">        }</span>
</span><span id="__span-2-430"><a id="__codelineno-2-430" name="__codelineno-2-430" href="#__codelineno-2-430"></a>
</span><span id="__span-2-431"><a id="__codelineno-2-431" name="__codelineno-2-431" href="#__codelineno-2-431"></a><span class="s1">        function addOfflineAction(type, data) {</span>
</span><span id="__span-2-432"><a id="__codelineno-2-432" name="__codelineno-2-432" href="#__codelineno-2-432"></a><span class="s1">            const action = {</span>
</span><span id="__span-2-433"><a id="__codelineno-2-433" name="__codelineno-2-433" href="#__codelineno-2-433"></a><span class="s1">                type,</span>
</span><span id="__span-2-434"><a id="__codelineno-2-434" name="__codelineno-2-434" href="#__codelineno-2-434"></a><span class="s1">                data,</span>
</span><span id="__span-2-435"><a id="__codelineno-2-435" name="__codelineno-2-435" href="#__codelineno-2-435"></a><span class="s1">                local_id: Date.now().toString(),</span>
</span><span id="__span-2-436"><a id="__codelineno-2-436" name="__codelineno-2-436" href="#__codelineno-2-436"></a><span class="s1">                timestamp: new Date().toISOString()</span>
</span><span id="__span-2-437"><a id="__codelineno-2-437" name="__codelineno-2-437" href="#__codelineno-2-437"></a><span class="s1">            };</span>
</span><span id="__span-2-438"><a id="__codelineno-2-438" name="__codelineno-2-438" href="#__codelineno-2-438"></a>
</span><span id="__span-2-439"><a id="__codelineno-2-439" name="__codelineno-2-439" href="#__codelineno-2-439"></a><span class="s1">            offlineActions.push(action);</span>
</span><span id="__span-2-440"><a id="__codelineno-2-440" name="__codelineno-2-440" href="#__codelineno-2-440"></a><span class="s1">            localStorage.setItem(&#39;offlineActions&#39;, JSON.stringify(offlineActions));</span>
</span><span id="__span-2-441"><a id="__codelineno-2-441" name="__codelineno-2-441" href="#__codelineno-2-441"></a><span class="s1">        }</span>
</span><span id="__span-2-442"><a id="__codelineno-2-442" name="__codelineno-2-442" href="#__codelineno-2-442"></a>
</span><span id="__span-2-443"><a id="__codelineno-2-443" name="__codelineno-2-443" href="#__codelineno-2-443"></a><span class="s1">        function addNoteToLocalStorage(noteData) {</span>
</span><span id="__span-2-444"><a id="__codelineno-2-444" name="__codelineno-2-444" href="#__codelineno-2-444"></a><span class="s1">            const localNotes = JSON.parse(localStorage.getItem(&#39;localNotes&#39;) || &#39;[]&#39;);</span>
</span><span id="__span-2-445"><a id="__codelineno-2-445" name="__codelineno-2-445" href="#__codelineno-2-445"></a><span class="s1">            const note = {</span>
</span><span id="__span-2-446"><a id="__codelineno-2-446" name="__codelineno-2-446" href="#__codelineno-2-446"></a><span class="s1">                ...noteData,</span>
</span><span id="__span-2-447"><a id="__codelineno-2-447" name="__codelineno-2-447" href="#__codelineno-2-447"></a><span class="s1">                id: &#39;local_&#39; + Date.now(),</span>
</span><span id="__span-2-448"><a id="__codelineno-2-448" name="__codelineno-2-448" href="#__codelineno-2-448"></a><span class="s1">                created_at: new Date().toISOString(),</span>
</span><span id="__span-2-449"><a id="__codelineno-2-449" name="__codelineno-2-449" href="#__codelineno-2-449"></a><span class="s1">                isLocal: true</span>
</span><span id="__span-2-450"><a id="__codelineno-2-450" name="__codelineno-2-450" href="#__codelineno-2-450"></a><span class="s1">            };</span>
</span><span id="__span-2-451"><a id="__codelineno-2-451" name="__codelineno-2-451" href="#__codelineno-2-451"></a><span class="s1">            localNotes.push(note);</span>
</span><span id="__span-2-452"><a id="__codelineno-2-452" name="__codelineno-2-452" href="#__codelineno-2-452"></a><span class="s1">            localStorage.setItem(&#39;localNotes&#39;, JSON.stringify(localNotes));</span>
</span><span id="__span-2-453"><a id="__codelineno-2-453" name="__codelineno-2-453" href="#__codelineno-2-453"></a><span class="s1">        }</span>
</span><span id="__span-2-454"><a id="__codelineno-2-454" name="__codelineno-2-454" href="#__codelineno-2-454"></a>
</span><span id="__span-2-455"><a id="__codelineno-2-455" name="__codelineno-2-455" href="#__codelineno-2-455"></a><span class="s1">        async function loadNotes() {</span>
</span><span id="__span-2-456"><a id="__codelineno-2-456" name="__codelineno-2-456" href="#__codelineno-2-456"></a><span class="s1">            let notes = [];</span>
</span><span id="__span-2-457"><a id="__codelineno-2-457" name="__codelineno-2-457" href="#__codelineno-2-457"></a>
</span><span id="__span-2-458"><a id="__codelineno-2-458" name="__codelineno-2-458" href="#__codelineno-2-458"></a><span class="s1">            if (isOnline) {</span>
</span><span id="__span-2-459"><a id="__codelineno-2-459" name="__codelineno-2-459" href="#__codelineno-2-459"></a><span class="s1">                try {</span>
</span><span id="__span-2-460"><a id="__codelineno-2-460" name="__codelineno-2-460" href="#__codelineno-2-460"></a><span class="s1">                    const response = await fetch(&#39;/api/notes&#39;);</span>
</span><span id="__span-2-461"><a id="__codelineno-2-461" name="__codelineno-2-461" href="#__codelineno-2-461"></a><span class="s1">                    const data = await response.json();</span>
</span><span id="__span-2-462"><a id="__codelineno-2-462" name="__codelineno-2-462" href="#__codelineno-2-462"></a><span class="s1">                    notes = data.notes || [];</span>
</span><span id="__span-2-463"><a id="__codelineno-2-463" name="__codelineno-2-463" href="#__codelineno-2-463"></a><span class="s1">                } catch (error) {</span>
</span><span id="__span-2-464"><a id="__codelineno-2-464" name="__codelineno-2-464" href="#__codelineno-2-464"></a><span class="s1">                    console.error(&#39;Failed to load notes:&#39;, error);</span>
</span><span id="__span-2-465"><a id="__codelineno-2-465" name="__codelineno-2-465" href="#__codelineno-2-465"></a><span class="s1">                }</span>
</span><span id="__span-2-466"><a id="__codelineno-2-466" name="__codelineno-2-466" href="#__codelineno-2-466"></a><span class="s1">            }</span>
</span><span id="__span-2-467"><a id="__codelineno-2-467" name="__codelineno-2-467" href="#__codelineno-2-467"></a>
</span><span id="__span-2-468"><a id="__codelineno-2-468" name="__codelineno-2-468" href="#__codelineno-2-468"></a><span class="s1">            // Add local notes</span>
</span><span id="__span-2-469"><a id="__codelineno-2-469" name="__codelineno-2-469" href="#__codelineno-2-469"></a><span class="s1">            const localNotes = JSON.parse(localStorage.getItem(&#39;localNotes&#39;) || &#39;[]&#39;);</span>
</span><span id="__span-2-470"><a id="__codelineno-2-470" name="__codelineno-2-470" href="#__codelineno-2-470"></a><span class="s1">            notes = notes.concat(localNotes);</span>
</span><span id="__span-2-471"><a id="__codelineno-2-471" name="__codelineno-2-471" href="#__codelineno-2-471"></a>
</span><span id="__span-2-472"><a id="__codelineno-2-472" name="__codelineno-2-472" href="#__codelineno-2-472"></a><span class="s1">            displayNotes(notes);</span>
</span><span id="__span-2-473"><a id="__codelineno-2-473" name="__codelineno-2-473" href="#__codelineno-2-473"></a><span class="s1">        }</span>
</span><span id="__span-2-474"><a id="__codelineno-2-474" name="__codelineno-2-474" href="#__codelineno-2-474"></a>
</span><span id="__span-2-475"><a id="__codelineno-2-475" name="__codelineno-2-475" href="#__codelineno-2-475"></a><span class="s1">        function displayNotes(notes = []) {</span>
</span><span id="__span-2-476"><a id="__codelineno-2-476" name="__codelineno-2-476" href="#__codelineno-2-476"></a><span class="s1">            const container = document.getElementById(&#39;notes-container&#39;);</span>
</span><span id="__span-2-477"><a id="__codelineno-2-477" name="__codelineno-2-477" href="#__codelineno-2-477"></a><span class="s1">            container.innerHTML = &#39;&#39;;</span>
</span><span id="__span-2-478"><a id="__codelineno-2-478" name="__codelineno-2-478" href="#__codelineno-2-478"></a>
</span><span id="__span-2-479"><a id="__codelineno-2-479" name="__codelineno-2-479" href="#__codelineno-2-479"></a><span class="s1">            if (notes.length === 0) {</span>
</span><span id="__span-2-480"><a id="__codelineno-2-480" name="__codelineno-2-480" href="#__codelineno-2-480"></a><span class="s1">                container.innerHTML = &#39;&lt;p&gt;No notes yet. Add your first note above!&lt;/p&gt;&#39;;</span>
</span><span id="__span-2-481"><a id="__codelineno-2-481" name="__codelineno-2-481" href="#__codelineno-2-481"></a><span class="s1">                return;</span>
</span><span id="__span-2-482"><a id="__codelineno-2-482" name="__codelineno-2-482" href="#__codelineno-2-482"></a><span class="s1">            }</span>
</span><span id="__span-2-483"><a id="__codelineno-2-483" name="__codelineno-2-483" href="#__codelineno-2-483"></a>
</span><span id="__span-2-484"><a id="__codelineno-2-484" name="__codelineno-2-484" href="#__codelineno-2-484"></a><span class="s1">            notes.forEach(note =&gt; {</span>
</span><span id="__span-2-485"><a id="__codelineno-2-485" name="__codelineno-2-485" href="#__codelineno-2-485"></a><span class="s1">                const noteDiv = document.createElement(&#39;div&#39;);</span>
</span><span id="__span-2-486"><a id="__codelineno-2-486" name="__codelineno-2-486" href="#__codelineno-2-486"></a><span class="s1">                noteDiv.className = &#39;note&#39;;</span>
</span><span id="__span-2-487"><a id="__codelineno-2-487" name="__codelineno-2-487" href="#__codelineno-2-487"></a><span class="s1">                noteDiv.innerHTML = `</span>
</span><span id="__span-2-488"><a id="__codelineno-2-488" name="__codelineno-2-488" href="#__codelineno-2-488"></a><span class="s1">                    &lt;h3&gt;$</span><span class="si">{note.title}</span><span class="s1">&lt;/h3&gt;</span>
</span><span id="__span-2-489"><a id="__codelineno-2-489" name="__codelineno-2-489" href="#__codelineno-2-489"></a><span class="s1">                    &lt;p&gt;$</span><span class="si">{note.content}</span><span class="s1">&lt;/p&gt;</span>
</span><span id="__span-2-490"><a id="__codelineno-2-490" name="__codelineno-2-490" href="#__codelineno-2-490"></a><span class="s1">                    &lt;div class=&quot;sync-status&quot;&gt;</span>
</span><span id="__span-2-491"><a id="__codelineno-2-491" name="__codelineno-2-491" href="#__codelineno-2-491"></a><span class="s1">                        ${note.isLocal ? &#39;⏳ Waiting to sync&#39; : &#39;✅ Synced&#39;}</span>
</span><span id="__span-2-492"><a id="__codelineno-2-492" name="__codelineno-2-492" href="#__codelineno-2-492"></a><span class="s1">                        • ${new Date(note.created_at).toLocaleDateString()}</span>
</span><span id="__span-2-493"><a id="__codelineno-2-493" name="__codelineno-2-493" href="#__codelineno-2-493"></a><span class="s1">                    &lt;/div&gt;</span>
</span><span id="__span-2-494"><a id="__codelineno-2-494" name="__codelineno-2-494" href="#__codelineno-2-494"></a><span class="s1">                `;</span>
</span><span id="__span-2-495"><a id="__codelineno-2-495" name="__codelineno-2-495" href="#__codelineno-2-495"></a><span class="s1">                container.appendChild(noteDiv);</span>
</span><span id="__span-2-496"><a id="__codelineno-2-496" name="__codelineno-2-496" href="#__codelineno-2-496"></a><span class="s1">            });</span>
</span><span id="__span-2-497"><a id="__codelineno-2-497" name="__codelineno-2-497" href="#__codelineno-2-497"></a><span class="s1">        }</span>
</span><span id="__span-2-498"><a id="__codelineno-2-498" name="__codelineno-2-498" href="#__codelineno-2-498"></a>
</span><span id="__span-2-499"><a id="__codelineno-2-499" name="__codelineno-2-499" href="#__codelineno-2-499"></a><span class="s1">        async function syncOfflineActions() {</span>
</span><span id="__span-2-500"><a id="__codelineno-2-500" name="__codelineno-2-500" href="#__codelineno-2-500"></a><span class="s1">            if (offlineActions.length === 0) return;</span>
</span><span id="__span-2-501"><a id="__codelineno-2-501" name="__codelineno-2-501" href="#__codelineno-2-501"></a>
</span><span id="__span-2-502"><a id="__codelineno-2-502" name="__codelineno-2-502" href="#__codelineno-2-502"></a><span class="s1">            try {</span>
</span><span id="__span-2-503"><a id="__codelineno-2-503" name="__codelineno-2-503" href="#__codelineno-2-503"></a><span class="s1">                const response = await fetch(&#39;/api/sync&#39;, {</span>
</span><span id="__span-2-504"><a id="__codelineno-2-504" name="__codelineno-2-504" href="#__codelineno-2-504"></a><span class="s1">                    method: &#39;POST&#39;,</span>
</span><span id="__span-2-505"><a id="__codelineno-2-505" name="__codelineno-2-505" href="#__codelineno-2-505"></a><span class="s1">                    headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },</span>
</span><span id="__span-2-506"><a id="__codelineno-2-506" name="__codelineno-2-506" href="#__codelineno-2-506"></a><span class="s1">                    body: JSON.stringify({ actions: offlineActions })</span>
</span><span id="__span-2-507"><a id="__codelineno-2-507" name="__codelineno-2-507" href="#__codelineno-2-507"></a><span class="s1">                });</span>
</span><span id="__span-2-508"><a id="__codelineno-2-508" name="__codelineno-2-508" href="#__codelineno-2-508"></a>
</span><span id="__span-2-509"><a id="__codelineno-2-509" name="__codelineno-2-509" href="#__codelineno-2-509"></a><span class="s1">                if (response.ok) {</span>
</span><span id="__span-2-510"><a id="__codelineno-2-510" name="__codelineno-2-510" href="#__codelineno-2-510"></a><span class="s1">                    // Clear offline actions and reload</span>
</span><span id="__span-2-511"><a id="__codelineno-2-511" name="__codelineno-2-511" href="#__codelineno-2-511"></a><span class="s1">                    offlineActions = [];</span>
</span><span id="__span-2-512"><a id="__codelineno-2-512" name="__codelineno-2-512" href="#__codelineno-2-512"></a><span class="s1">                    localStorage.removeItem(&#39;offlineActions&#39;);</span>
</span><span id="__span-2-513"><a id="__codelineno-2-513" name="__codelineno-2-513" href="#__codelineno-2-513"></a><span class="s1">                    localStorage.removeItem(&#39;localNotes&#39;);</span>
</span><span id="__span-2-514"><a id="__codelineno-2-514" name="__codelineno-2-514" href="#__codelineno-2-514"></a><span class="s1">                    loadNotes();</span>
</span><span id="__span-2-515"><a id="__codelineno-2-515" name="__codelineno-2-515" href="#__codelineno-2-515"></a><span class="s1">                }</span>
</span><span id="__span-2-516"><a id="__codelineno-2-516" name="__codelineno-2-516" href="#__codelineno-2-516"></a><span class="s1">            } catch (error) {</span>
</span><span id="__span-2-517"><a id="__codelineno-2-517" name="__codelineno-2-517" href="#__codelineno-2-517"></a><span class="s1">                console.error(&#39;Sync failed:&#39;, error);</span>
</span><span id="__span-2-518"><a id="__codelineno-2-518" name="__codelineno-2-518" href="#__codelineno-2-518"></a><span class="s1">            }</span>
</span><span id="__span-2-519"><a id="__codelineno-2-519" name="__codelineno-2-519" href="#__codelineno-2-519"></a><span class="s1">        }</span>
</span><span id="__span-2-520"><a id="__codelineno-2-520" name="__codelineno-2-520" href="#__codelineno-2-520"></a>
</span><span id="__span-2-521"><a id="__codelineno-2-521" name="__codelineno-2-521" href="#__codelineno-2-521"></a><span class="s1">        // Initial offline check</span>
</span><span id="__span-2-522"><a id="__codelineno-2-522" name="__codelineno-2-522" href="#__codelineno-2-522"></a><span class="s1">        if (!isOnline) {</span>
</span><span id="__span-2-523"><a id="__codelineno-2-523" name="__codelineno-2-523" href="#__codelineno-2-523"></a><span class="s1">            document.getElementById(&#39;offline-indicator&#39;).style.display = &#39;block&#39;;</span>
</span><span id="__span-2-524"><a id="__codelineno-2-524" name="__codelineno-2-524" href="#__codelineno-2-524"></a><span class="s1">        }</span>
</span><span id="__span-2-525"><a id="__codelineno-2-525" name="__codelineno-2-525" href="#__codelineno-2-525"></a><span class="s1">    &lt;/script&gt;</span>
</span><span id="__span-2-526"><a id="__codelineno-2-526" name="__codelineno-2-526" href="#__codelineno-2-526"></a><span class="s1">&lt;/body&gt;</span>
</span><span id="__span-2-527"><a id="__codelineno-2-527" name="__codelineno-2-527" href="#__codelineno-2-527"></a><span class="s1">&lt;/html&gt;</span>
</span><span id="__span-2-528"><a id="__codelineno-2-528" name="__codelineno-2-528" href="#__codelineno-2-528"></a><span class="s1">&#39;&#39;&#39;</span>
</span><span id="__span-2-529"><a id="__codelineno-2-529" name="__codelineno-2-529" href="#__codelineno-2-529"></a>
</span><span id="__span-2-530"><a id="__codelineno-2-530" name="__codelineno-2-530" href="#__codelineno-2-530"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span><span id="__span-2-531"><a id="__codelineno-2-531" name="__codelineno-2-531" href="#__codelineno-2-531"></a>    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5002</span><span class="p">)</span>
</span></code></pre></div>
<p><strong><span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWA</span> Key Features and Trade-offs:</strong></p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Benefits</th>
<th>Implementation Challenges</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Offline Functionality</strong></td>
<td>Works without internet, improved UX</td>
<td>Complex <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A hardware or software component that stores data for faster retrieval on future requests, improving performance." data-glossary-term="Cache">caching</span> strategies, data synchronization</td>
</tr>
<tr>
<td><strong>Installability</strong></td>
<td>Native app-like experience</td>
<td>Limited OS integration compared to native apps</td>
</tr>
<tr>
<td><strong>Push Notifications</strong></td>
<td>User engagement and retention</td>
<td>Browser permission requirements, battery usage</td>
</tr>
<tr>
<td><strong>Background Sync</strong></td>
<td>Seamless data updates</td>
<td>Complex conflict resolution, storage limitations</td>
</tr>
</tbody>
</table>
<h2 id="comparative-analysis-of-web-application-types">Comparative Analysis of Web Application Types<a class="headerlink" href="#comparative-analysis-of-web-application-types" title="Permanent link">&para;</a></h2>
<div class="diagram-container" data-container-id="kroki-diagram-3"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-3')">🔍 View Larger</button><div id="kroki-diagram-3" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="343.75px" preserveAspectRatio="xMaxYMax meet" style="width:735px;height:343px;" version="1.1" viewBox="0 0 735 343" width="735.4167px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-3"><defs><linearGradient id="g1xh5nfm6wz3io0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#F18E3E" /><stop offset="100%" stop-color="#EC7211" /></linearGradient></defs><g><g class="cluster" data-entity="Web Application Comparison" data-source-line="3" data-uid="ent0002" id="cluster_Web Application Comparison"><path d="M10.4167,6.25 L221.9421,6.25 A6.25,6.25 0 0 1 226.1088,10.4167 L233.4005,37.4674 L723.9583,37.4674 A4.1667,4.1667 0 0 1 728.125,41.6341 L728.125,333.0104 A4.1667,4.1667 0 0 1 723.9583,337.1771 L10.4167,337.1771 A4.1667,4.1667 0 0 1 6.25,333.0104 L6.25,10.4167 A4.1667,4.1667 0 0 1 10.4167,6.25" fill="none" style="stroke:#4E5D6C;stroke-width:2.0833;" /><line style="stroke:#4E5D6C;stroke-width:2.0833;" x1="6.25" x2="233.4005" y1="37.4674" y2="37.4674" /><text fill="#4E5D6C" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="203.1921" x="15.625" y="25.1444">Web Application Comparison</text></g><g class="entity" data-entity="interactive" data-source-line="4" data-uid="ent0003" id="entity_interactive"><rect fill="url(#g1xh5nfm6wz3io0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="180.4647" x="526.4375" y="264.2917" /><rect fill="url(#g1xh5nfm6wz3io0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="686.0688" y="269.5" /><rect fill="url(#g1xh5nfm6wz3io0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="683.9855" y="271.5833" /><rect fill="url(#g1xh5nfm6wz3io0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="683.9855" y="275.75" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="128.3813" x="547.2708" y="301.9361">Interactive Websites</text></g><g class="entity" data-entity="ecommerce" data-source-line="5" data-uid="ent0004" id="entity_ecommerce"><rect fill="url(#g1xh5nfm6wz3io0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="194.1793" x="267.4896" y="264.2917" /><rect fill="url(#g1xh5nfm6wz3io0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="440.8355" y="269.5" /><rect fill="url(#g1xh5nfm6wz3io0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="438.7522" y="271.5833" /><rect fill="url(#g1xh5nfm6wz3io0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="438.7522" y="275.75" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="142.0959" x="288.3229" y="301.9361">E-commerce Platforms</text></g><g class="entity" data-entity="pwa" data-source-line="6" data-uid="ent0005" id="entity_pwa"><rect fill="url(#g1xh5nfm6wz3io0)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0417;" width="191.6219" x="22.9375" y="264.2917" /><rect fill="url(#g1xh5nfm6wz3io0)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0417;" width="15.625" x="193.7261" y="269.5" /><rect fill="url(#g1xh5nfm6wz3io0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="191.6427" y="271.5833" /><rect fill="url(#g1xh5nfm6wz3io0)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0417;" width="4.1667" x="191.6427" y="275.75" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="139.5386" x="43.7708" y="301.9361">Progressive Web Apps</text></g><g class="entity" data-entity="GMN6" data-source-line="9" data-uid="ent0007" id="entity_GMN6"><path d="M521.5417,54.1667 L521.5417,197.6237 A4.1667,4.1667 0 0 0 525.7083,201.7904 L612.5,201.7904 L616.6667,264.0938 L620.8333,201.7904 L707.6257,201.7904 A4.1667,4.1667 0 0 0 711.7923,197.6237 L711.7923,60.4167 L701.3757,50 L525.7083,50 A4.1667,4.1667 0 0 0 521.5417,54.1667" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;" /><path d="M701.3757,50 L701.3757,58.3333 A2.0833,2.0833 0 0 0 703.459,60.4167 L711.7923,60.4167 L701.3757,50" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="74.7803" x="533" y="72.0194">Strengths:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="133.1238" x="533" y="86.5702">&#8226; Quick development</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="101.1353" x="533" y="101.121">&#8226; High flexibility</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="147.6257" x="533" y="115.6718">&#8226; Rich user interactions</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="533" y="130.2226">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="86.2732" x="533" y="144.7734">Constraints:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="144.5007" x="533" y="159.3241">&#8226; Network dependency</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="147.5647" x="533" y="173.8749">&#8226; Browser compatibility</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="157.959" x="533" y="188.4257">&#8226; Security considerations</text></g><g class="entity" data-entity="GMN9" data-source-line="21" data-uid="ent0010" id="entity_GMN9"><path d="M244.2188,54.1667 L244.2188,197.6237 A4.1667,4.1667 0 0 0 248.3854,201.7904 L360.4167,201.7904 L364.5833,264.0938 L368.75,201.7904 L480.7849,201.7904 A4.1667,4.1667 0 0 0 484.9516,197.6237 L484.9516,60.4167 L474.5349,50 L248.3854,50 A4.1667,4.1667 0 0 0 244.2188,54.1667" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;" /><path d="M474.5349,50 L474.5349,58.3333 A2.0833,2.0833 0 0 0 476.6182,60.4167 L484.9516,60.4167 L474.5349,50" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="74.7803" x="255.6771" y="72.0194">Strengths:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="156.0303" x="255.6771" y="86.5702">&#8226; Proven business model</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="109.6741" x="255.6771" y="101.121">&#8226; Rich ecosystem</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="144.2017" x="255.6771" y="115.6718">&#8226; Scalable architecture</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="255.6771" y="130.2226">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="86.2732" x="255.6771" y="144.7734">Constraints:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="208.4412" x="255.6771" y="159.3241">&#8226; Complex security requirements</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="162.9272" x="255.6771" y="173.8749">&#8226; High development costs</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="155.4932" x="255.6771" y="188.4257">&#8226; Regulatory compliance</text></g><g class="entity" data-entity="GMN12" data-source-line="33" data-uid="ent0013" id="entity_GMN12"><path d="M23.0833,54.1667 L23.0833,197.6237 A4.1667,4.1667 0 0 0 27.25,201.7904 L112.8854,201.7904 L118.2292,264.0938 L121.2188,201.7904 L204.0037,201.7904 A4.1667,4.1667 0 0 0 208.1704,197.6237 L208.1704,60.4167 L197.7537,50 L27.25,50 A4.1667,4.1667 0 0 0 23.0833,54.1667" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;" /><path d="M197.7537,50 L197.7537,58.3333 A2.0833,2.0833 0 0 0 199.8371,60.4167 L208.1704,60.4167 L197.7537,50" fill="#0073BB" style="stroke:#005C96;stroke-width:1.0417;" /><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="74.7803" x="34.5417" y="72.0194">Strengths:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="152.7954" x="34.5417" y="86.5702">&#8226; Native app experience</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="134.4849" x="34.5417" y="101.121">&#8226; Offline functionality</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="103.7292" x="34.5417" y="115.6718">&#8226; Cross-platform</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="3.9734" x="34.5417" y="130.2226">&#160;</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="86.2732" x="34.5417" y="144.7734">Constraints:</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="102.179" x="34.5417" y="159.3241">&#8226; iOS limitations</text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="119.0247" x="34.5417" y="173.8749">&#8226; Complex <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A hardware or software component that stores data for faster retrieval on future requests, improving performance." data-glossary-term="Cache">caching</span></text><text fill="#FFFFFF" font-family="Verdana" font-size="12.5" lengthAdjust="spacing" textLength="99.3042" x="34.5417" y="188.4257">&#8226; Battery usage</text></g></g></svg></p></div></div>
<h2 id="decision-framework-for-web-application-types">Decision <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A pre-built structure providing a foundation and tools for developing software applications more efficiently." data-glossary-term="Framework">Framework</span> for Web Application Types<a class="headerlink" href="#decision-framework-for-web-application-types" title="Permanent link">&para;</a></h2>
<p>When choosing the appropriate web application type, consider these factors:</p>
<h3 id="1-user-requirements-analysis">1. User Requirements Analysis<a class="headerlink" href="#1-user-requirements-analysis" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Connectivity</strong>: Always online vs. intermittent connectivity</p>
</li>
<li>
<p><strong>Device Usage</strong>: Desktop vs. mobile vs. cross-platform</p>
</li>
<li>
<p><strong>Interaction Complexity</strong>: Simple browsing vs. complex workflows</p>
</li>
</ul>
<h3 id="2-business-constraints">2. Business Constraints<a class="headerlink" href="#2-business-constraints" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Development Timeline</strong>: Rapid <span class="glossary-term" data-glossary-category="Project Management" data-glossary-definition="An early sample or model of a product built to test a concept, design, or functionality before full-scale production." data-glossary-term="Prototype">prototyping</span> vs. long-term platform</p>
</li>
<li>
<p><strong>Budget</strong>: Initial development vs. ongoing <span class="glossary-term" data-glossary-category="Project Management" data-glossary-definition="The ease with which software can be modified to correct faults, improve performance, or adapt to a changed environment." data-glossary-term="Maintainability">maintenance</span> costs</p>
</li>
<li>
<p><strong>Scalability</strong>: Current user base vs. projected growth</p>
</li>
</ul>
<h3 id="3-technical-considerations">3. Technical Considerations<a class="headerlink" href="#3-technical-considerations" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Performance Requirements</strong>: Response time expectations</p>
</li>
<li>
<p><strong>Security Needs</strong>: Data sensitivity and compliance requirements</p>
</li>
<li>
<p><strong>Integration</strong>: Existing systems and third-party services</p>
</li>
</ul>
<h2 id="practice-exercises">Practice Exercises<a class="headerlink" href="#practice-exercises" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>Exercise 1: Application Type Selection</summary>
<p>Given these scenarios, recommend the most appropriate web application type and justify your choice:</p>
<ol>
<li>
<p><strong>Local News Website</strong>: Community news with comments and local event listings</p>
</li>
<li>
<p><strong>Online Banking Platform</strong>: Secure financial transactions and account management</p>
</li>
<li>
<p><strong>Field Data Collection App</strong>: Scientists collecting data in remote locations with limited connectivity</p>
</li>
</ol>
<details class="success">
<summary>Sample Solution</summary>
<ol>
<li>
<p><strong>Local News Website - Interactive Website</strong>: Requires dynamic content updates, user comments, and community engagement. Interactive websites excel at content management and user interaction without the complexity of e-commerce or offline requirements.</p>
</li>
<li>
<p><strong>Online Banking Platform - E-commerce Platform</strong>: Needs secure transaction processing, complex business logic for financial operations, and high security standards. E-commerce platforms provide the necessary infrastructure for secure financial transactions and account management.</p>
</li>
<li>
<p><strong>Field Data Collection App - Progressive Web App</strong>: Must work offline in remote locations, sync data when connectivity returns, and provide app-like experience on mobile devices. <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWAs</span> offer offline functionality and native app features while maintaining web accessibility.</p>
</li>
</ol>
</details>
</details>
<details class="question">
<summary>Exercise 2: Trade-off Analysis</summary>
<p>For each web application type, identify three major trade-offs and propose mitigation strategies.</p>
<details class="success">
<summary>Sample Solution</summary>
<p><strong>Interactive Websites:</strong></p>
<ul>
<li>
<p><em>Trade-off 1</em>: Rich client-side functionality vs. initial load time
  <em>Mitigation</em>: Code splitting, lazy loading, and <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A geographically distributed network of servers that work together to provide fast delivery of internet content." data-glossary-full-form="Content Delivery Network" data-glossary-term="CDN">CDN</span> optimization</p>
</li>
<li>
<p><em>Trade-off 2</em>: Dynamic content vs. SEO challenges
  <em>Mitigation</em>: Server-side rendering (SSR) or static generation for key pages</p>
</li>
<li>
<p><em>Trade-off 3</em>: User engagement features vs. development complexity
  <em>Mitigation</em>: Use established <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A pre-built structure providing a foundation and tools for developing software applications more efficiently." data-glossary-term="Framework">frameworks</span> and component libraries</p>
</li>
</ul>
<p><strong>E-commerce Platforms:</strong></p>
<ul>
<li>
<p><em>Trade-off 1</em>: Security requirements vs. user experience
  <em>Mitigation</em>: Multi-factor authentication with streamlined UX flows</p>
</li>
<li>
<p><em>Trade-off 2</em>: Complex business logic vs. performance
  <em>Mitigation</em>: Microservices architecture and <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A hardware or software component that stores data for faster retrieval on future requests, improving performance." data-glossary-term="Cache">caching</span> strategies</p>
</li>
<li>
<p><em>Trade-off 3</em>: Scalability needs vs. development cost
  <em>Mitigation</em>: Cloud-native architecture with auto-scaling</p>
</li>
</ul>
<p><strong>Progressive Web Apps:</strong></p>
<ul>
<li>
<p><em>Trade-off 1</em>: Offline functionality vs. storage limitations
  <em>Mitigation</em>: Intelligent <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A hardware or software component that stores data for faster retrieval on future requests, improving performance." data-glossary-term="Cache">caching</span> and data synchronization strategies</p>
</li>
<li>
<p><em>Trade-off 2</em>: Native app features vs. platform compatibility
  <em>Mitigation</em>: Progressive enhancement and feature detection</p>
</li>
<li>
<p><em>Trade-off 3</em>: App-like experience vs. web deployment simplicity
  <em>Mitigation</em>: <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A script that runs in the background of a web browser, enabling features like offline functionality and push notifications." data-glossary-term="Service Worker">Service workers</span> and web app manifests with careful feature scoping</p>
</li>
</ul>
</details>
</details>
<details class="question">
<summary>Exercise 3: Architecture Design</summary>
<p>Design a high-level architecture for a collaborative <span class="glossary-term" data-glossary-category="Programming Fundamentals" data-glossary-definition="Written text or illustrations that accompany software, explaining how it works and how to use it, including comments, docstrings, and user guides." data-glossary-term="Documentation">document</span> editing platform that supports:</p>
<ul>
<li>
<p>Real-time collaboration</p>
</li>
<li>
<p>Offline editing</p>
</li>
<li>
<p>Version history</p>
</li>
<li>
<p>Mobile and desktop access</p>
</li>
</ul>
<details class="success">
<summary>Sample Solution</summary>
<p><strong>High-Level Architecture:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>│   Web Client    │    │   PWA Client   │    │ Mobile Native   │
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>│                 │    │                 │    │                 │
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>│ - Real-time     │    │ - Offline       │    │ - Native UI     │
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>│   editing       │    │   editing       │    │ - Push          │
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>│ - WebSocket     │    │ - Service       │    │   notifications │
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>│   connection    │    │   workers       │    │ - App store     │
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>└─────────────────┘    └─────────────────┘    └─────────────────┘
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>         │                       │                       │
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>         └───────────────────────┼───────────────────────┘
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>                                 │
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>                    ┌─────────────────┐
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>                    │  Collaboration │
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>                    │    Service     │
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>                    │                 │
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>                    │ - WebSocket     │
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>                    │   server        │
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>                    │ - Conflict      │
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>                    │   resolution    │
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>                    │ - Real-time     │
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>                    │   sync          │
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>                    └─────────────────┘
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>                             │
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>                    ┌─────────────────┐
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>                    │   Data Layer    │
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>                    │                 │
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>                    │ - Document      │
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>                    │   storage       │
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>                    │ - Version       │
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>                    │   control       │
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>                    │ - User          │
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a>                    │   management    │
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a>                    └─────────────────┘
</span></code></pre></div>
</details>
</details>
<p><strong>Key Components:</strong></p>
<ul>
<li>
<p>Client Layer: Multi-platform support (web, <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWA</span>, native mobile)</p>
</li>
<li>
<p>Collaboration Service: Real-time synchronization using WebSockets and operational transformation</p>
</li>
<li>
<p>Data Layer: <span class="glossary-term" data-glossary-category="Programming Fundamentals" data-glossary-definition="Written text or illustrations that accompany software, explaining how it works and how to use it, including comments, docstrings, and user guides." data-glossary-term="Documentation">Document</span> storage with version history and conflict resolution</p>
</li>
<li>
<p>Offline Support: <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A script that runs in the background of a web browser, enabling features like offline functionality and push notifications." data-glossary-term="Service Worker">Service workers</span> for <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A type of web application that uses modern web capabilities to deliver an app-like experience, working offline and installable on devices." data-glossary-full-form="Progressive Web Application" data-glossary-term="PWA">PWA</span> clients, local storage for native apps</p>
</li>
</ul>
<p><strong>Technical Considerations:</strong></p>
<ul>
<li>
<p>Operational transformation for conflict-free replicated data types</p>
</li>
<li>
<p>CRDTs (Conflict-free Replicated Data Types) for offline collaboration</p>
</li>
<li>
<p>WebRTC for peer-to-peer synchronization when possible</p>
</li>
<li>
<p>Event sourcing for reliable version history</p>
</li>
</ul>
<h2 id="section-recap">Section Recap<a class="headerlink" href="#section-recap" title="Permanent link">&para;</a></h2>
<p>In this section, you explored the major types of web applications and their characteristics:</p>
<ol>
<li>
<p><strong>Interactive Websites</strong>: Focus on dynamic content and user engagement with immediate feedback and rich client-side functionality</p>
</li>
<li>
<p><strong>E-commerce Platforms</strong>: Complex systems requiring secure transactions, inventory management, and sophisticated business logic</p>
</li>
<li>
<p><strong>Progressive Web Apps</strong>: Hybrid solutions offering native app experiences while maintaining web accessibility and offline capabilities</p>
</li>
<li>
<p><strong>Decision <span class="glossary-term" data-glossary-category="Web Development" data-glossary-definition="A pre-built structure providing a foundation and tools for developing software applications more efficiently." data-glossary-term="Framework">Framework</span></strong>: Understanding user requirements, business constraints, and technical considerations guides appropriate technology selection</p>
</li>
</ol>
<p>Each application type serves different user needs and comes with distinct trade-offs in complexity, cost, performance, and functionality. Successful web development requires matching the application type to the specific requirements and constraints of your project.</p>
<p>The key to effective web application development is understanding these trade-offs early in the design process and making informed decisions that balance user experience, technical feasibility, and business objectives.</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 22, 2025 11:59:25 UTC">October 22, 2025</span>
  </span>

    
    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve this page by creating an <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/issues/new/choose" target="_blank" rel="noopener">issue</a> on github.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        

<!-- Footer -->
<footer class="md-footer">
  
    <!-- Custom footer with left/right layout -->
    <div class="md-footer__inner md-grid">
      <!-- Left side: Copyright and cookie settings -->
      <div class="md-footer__left">
        <div class="md-footer__copyright">
          
            Copyright &copy; 2025 Eatham532 – <a href="#__consent">Change cookie settings</a>

          
        </div>
      </div>

      <!-- Right side: Page name and BETA -->
      <div class="md-footer__right">
        <div class="md-footer__page-info">
          <span class="md-footer__page-title">Content</span>
          
            <span class="md-footer__beta-badge">BETA</span>
          
        </div>
      </div>
    </div>
  
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of the textbook. With your consent, you're helping us to make software engineering education better for everyone.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "search.highlight", "search.suggest", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.action.edit", "content.action.view", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../../assets/diagram-modal.js"></script>
      
        <script src="../../../../assets/quiz.js"></script>
      
        <script src="../../../../assets/ide-utils.js"></script>
      
        <script src="../../../../assets/code-blocks.js"></script>
      
        <script src="../../../../assets/glossary.js"></script>
      
    
  </body>
</html>