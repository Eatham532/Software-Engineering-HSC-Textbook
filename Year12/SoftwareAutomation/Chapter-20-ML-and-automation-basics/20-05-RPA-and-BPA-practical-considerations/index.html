
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Comprehensive educational resource for NSW HSC Software Engineering syllabus">
      
      
      
        <link rel="canonical" href="https://eatham532.github.io/Software-Engineering-HSC-Textbook/Year12/SoftwareAutomation/Chapter-20-ML-and-automation-basics/20-05-RPA-and-BPA-practical-considerations/">
      
      
        <link rel="prev" href="../20-04-Design-models-decision-trees-and-neural-networks/quiz/">
      
      
        <link rel="next" href="quiz/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Content - Software Engineering Textbook HSC</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/diagram-modal.css">
    
      <link rel="stylesheet" href="../../../../assets/quiz.css">
    
      <link rel="stylesheet" href="../../../../assets/common.css">
    
      <link rel="stylesheet" href="../../../../assets/diagram-fix.css">
    
      <link rel="stylesheet" href="../../../../assets/cross-reference.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-58275RL1P9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-58275RL1P9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-58275RL1P9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#205-rpa-and-bpa-practical-considerations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Software Engineering Textbook HSC" class="md-header__button md-logo" aria-label="Software Engineering Textbook HSC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Software Engineering Textbook HSC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Content
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Eatham532/Software-Engineering-HSC-Textbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Year11/ProgrammingFundamentals/" class="md-tabs__link">
          
  
  
  Year 11

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../ProgrammingForTheWeb/" class="md-tabs__link">
          
  
  
  Year 12

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Software Engineering Textbook HSC" class="md-nav__button md-logo" aria-label="Software Engineering Textbook HSC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Software Engineering Textbook HSC
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Eatham532/Software-Engineering-HSC-Textbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../../Year11/ProgrammingFundamentals/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Year 11
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Year 12
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Year 12
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../ProgrammingForTheWeb/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Programming For The Web
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../SecureSoftwareArchitecture/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Secure Software Architecture
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software Automation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Software Automation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3_2" id="__nav_3_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 20 — ML and automation basics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3_2">
            <span class="md-nav__icon md-icon"></span>
            Chapter 20 — ML and automation basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../20-01-What-is-AI-vs-ML/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    20.1 What is AI vs ML (and where RPA/BPA fit)
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../20-02-ML-training-models/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    20.2 ML training models: supervised, unsupervised, semi, reinforcement
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../20-03-Common-ML-applications/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    20.3 Common ML applications
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../20-04-Design-models-decision-trees-and-neural-networks/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    20.4 Design models: decision trees and neural networks
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2_5" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3_2_5" id="__nav_3_3_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    20.5 RPA and BPA: practical considerations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_3_2_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3_2_5">
            <span class="md-nav__icon md-icon"></span>
            20.5 RPA and BPA: practical considerations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-understanding-automation-approaches-matters" class="md-nav__link">
    <span class="md-ellipsis">
      Why Understanding Automation Approaches Matters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-1-rpa-implementation-and-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Part 1: RPA Implementation and Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 1: RPA Implementation and Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-robotic-process-automation-rpa" class="md-nav__link">
    <span class="md-ellipsis">
      What is Robotic Process Automation (RPA)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpa-architecture-and-components" class="md-nav__link">
    <span class="md-ellipsis">
      RPA Architecture and Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typical-rpa-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Typical RPA Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typical RPA Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-invoice-processing-automation" class="md-nav__link">
    <span class="md-ellipsis">
      1. Invoice Processing Automation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-2-bpa-and-process-selection" class="md-nav__link">
    <span class="md-ellipsis">
      Part 2: BPA and Process Selection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 2: BPA and Process Selection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-business-process-automation-bpa" class="md-nav__link">
    <span class="md-ellipsis">
      What is Business Process Automation (BPA)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpa-vs-rpa-understanding-the-differences" class="md-nav__link">
    <span class="md-ellipsis">
      BPA vs RPA: Understanding the Differences
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-apply-rpa-vs-bpa-decision-framework" class="md-nav__link">
    <span class="md-ellipsis">
      When to Apply RPA vs BPA: Decision Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="When to Apply RPA vs BPA: Decision Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rpa-is-appropriate-when" class="md-nav__link">
    <span class="md-ellipsis">
      RPA is Appropriate When:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpa-is-appropriate-when" class="md-nav__link">
    <span class="md-ellipsis">
      BPA is Appropriate When:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-implementation-bpa-process-orchestration" class="md-nav__link">
    <span class="md-ellipsis">
      Python Implementation: BPA Process Orchestration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#low-code-platforms-vs-custom-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Low-Code Platforms vs Custom Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Low-Code Platforms vs Custom Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#low-codeno-code-rpa-platforms" class="md-nav__link">
    <span class="md-ellipsis">
      Low-Code/No-Code RPA Platforms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-python-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Python Scripts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision-matrix-platform-vs-custom-development" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Matrix: Platform vs Custom Development
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-reengineering-vs-rpa-strategic-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Process Reengineering vs RPA: Strategic Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Process Reengineering vs RPA: Strategic Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-to-reengineer-the-process-bpa-approach" class="md-nav__link">
    <span class="md-ellipsis">
      When to Reengineer the Process (BPA Approach)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-rpa-preserve-existing-process" class="md-nav__link">
    <span class="md-ellipsis">
      When to Use RPA (Preserve Existing Process)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tooling-ecosystem-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Tooling Ecosystem Comparison
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tooling Ecosystem Comparison">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enterprise-rpa-platforms" class="md-nav__link">
    <span class="md-ellipsis">
      Enterprise RPA Platforms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-development-approaches" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Development Approaches
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#making-the-right-choice-decision-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Making the Right Choice: Decision Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Making the Right Choice: Decision Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-encryption-and-secure-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Data Encryption and Secure Storage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-takeaways-sustainable-automation" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways: Sustainable Automation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assessment-rpa-and-bpa-practical-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Assessment: RPA and BPA Practical Implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assessment: RPA and BPA Practical Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#section-a-multiple-choice-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Section A: Multiple Choice Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-b-short-answer-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Section B: Short Answer Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-c-practical-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Section C: Practical Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-d-code-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Section D: Code Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#answer-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Answer Guide
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading-and-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Further Reading and Resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Further Reading and Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Documentation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ethical-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      Ethical Guidelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-libraries-and-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Python Libraries and Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#professional-development" class="md-nav__link">
    <span class="md-ellipsis">
      Professional Development
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quiz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quiz
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-21-Programming-for-automation/21-01-Regression-models-and-core-algorithm-types-in-Python/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 21 — Programming for automation
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-22-Significance-and-impact/22-01-Assessing-the-impact-of-automation/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 22 — Significance and impact
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../SoftwareEngineeringProject/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Software Engineering Project
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-understanding-automation-approaches-matters" class="md-nav__link">
    <span class="md-ellipsis">
      Why Understanding Automation Approaches Matters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-1-rpa-implementation-and-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Part 1: RPA Implementation and Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 1: RPA Implementation and Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-robotic-process-automation-rpa" class="md-nav__link">
    <span class="md-ellipsis">
      What is Robotic Process Automation (RPA)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpa-architecture-and-components" class="md-nav__link">
    <span class="md-ellipsis">
      RPA Architecture and Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typical-rpa-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      Typical RPA Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Typical RPA Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-invoice-processing-automation" class="md-nav__link">
    <span class="md-ellipsis">
      1. Invoice Processing Automation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-2-bpa-and-process-selection" class="md-nav__link">
    <span class="md-ellipsis">
      Part 2: BPA and Process Selection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Part 2: BPA and Process Selection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-business-process-automation-bpa" class="md-nav__link">
    <span class="md-ellipsis">
      What is Business Process Automation (BPA)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpa-vs-rpa-understanding-the-differences" class="md-nav__link">
    <span class="md-ellipsis">
      BPA vs RPA: Understanding the Differences
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-apply-rpa-vs-bpa-decision-framework" class="md-nav__link">
    <span class="md-ellipsis">
      When to Apply RPA vs BPA: Decision Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="When to Apply RPA vs BPA: Decision Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rpa-is-appropriate-when" class="md-nav__link">
    <span class="md-ellipsis">
      RPA is Appropriate When:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpa-is-appropriate-when" class="md-nav__link">
    <span class="md-ellipsis">
      BPA is Appropriate When:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-implementation-bpa-process-orchestration" class="md-nav__link">
    <span class="md-ellipsis">
      Python Implementation: BPA Process Orchestration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#low-code-platforms-vs-custom-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Low-Code Platforms vs Custom Scripts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Low-Code Platforms vs Custom Scripts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#low-codeno-code-rpa-platforms" class="md-nav__link">
    <span class="md-ellipsis">
      Low-Code/No-Code RPA Platforms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-python-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Python Scripts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision-matrix-platform-vs-custom-development" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Matrix: Platform vs Custom Development
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-reengineering-vs-rpa-strategic-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Process Reengineering vs RPA: Strategic Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Process Reengineering vs RPA: Strategic Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#when-to-reengineer-the-process-bpa-approach" class="md-nav__link">
    <span class="md-ellipsis">
      When to Reengineer the Process (BPA Approach)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-rpa-preserve-existing-process" class="md-nav__link">
    <span class="md-ellipsis">
      When to Use RPA (Preserve Existing Process)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tooling-ecosystem-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Tooling Ecosystem Comparison
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tooling Ecosystem Comparison">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enterprise-rpa-platforms" class="md-nav__link">
    <span class="md-ellipsis">
      Enterprise RPA Platforms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-development-approaches" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Development Approaches
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#making-the-right-choice-decision-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Making the Right Choice: Decision Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Making the Right Choice: Decision Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-encryption-and-secure-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Data Encryption and Secure Storage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-takeaways-sustainable-automation" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways: Sustainable Automation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#assessment-rpa-and-bpa-practical-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Assessment: RPA and BPA Practical Implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Assessment: RPA and BPA Practical Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#section-a-multiple-choice-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Section A: Multiple Choice Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-b-short-answer-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Section B: Short Answer Questions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-c-practical-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Section C: Practical Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-d-code-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Section D: Code Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#answer-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Answer Guide
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading-and-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Further Reading and Resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Further Reading and Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#technical-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Technical Documentation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ethical-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      Ethical Guidelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-libraries-and-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Python Libraries and Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#professional-development" class="md-nav__link">
    <span class="md-ellipsis">
      Professional Development
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/edit/main/docs/Year12/SoftwareAutomation/Chapter-20-ML-and-automation-basics/20-05-RPA-and-BPA-practical-considerations/index.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/raw/main/docs/Year12/SoftwareAutomation/Chapter-20-ML-and-automation-basics/20-05-RPA-and-BPA-practical-considerations/index.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="205-rpa-and-bpa-practical-considerations">20.5 RPA and BPA: Practical Considerations<a class="headerlink" href="#205-rpa-and-bpa-practical-considerations" title="Permanent link">&para;</a></h1>
<h2 id="why-understanding-automation-approaches-matters">Why Understanding Automation Approaches Matters<a class="headerlink" href="#why-understanding-automation-approaches-matters" title="Permanent link">&para;</a></h2>
<p>Robotic Process Automation (RPA) and Business Process Automation (BPA) represent different but complementary approaches to workplace automation. Understanding their practical applications, constraints, and ethical implications is crucial for:</p>
<ul>
<li>
<p><strong>Strategic Decision Making</strong>: Choosing the right automation approach for specific challenges</p>
</li>
<li>
<p><strong>Implementation Success</strong>: Understanding tooling options and technical constraints</p>
</li>
<li>
<p><strong>Risk Management</strong>: Addressing security, maintainability, and ethical considerations</p>
</li>
<li>
<p><strong>Process Optimization</strong>: Knowing when to automate versus redesign existing processes</p>
</li>
<li>
<p><strong>Sustainable Automation</strong>: Building solutions that remain valuable over time</p>
</li>
</ul>
<p>This section explores practical considerations through real-world examples, implementation strategies, and ethical frameworks that guide responsible automation deployment.</p>
<hr />
<h2 id="part-1-rpa-implementation-and-use-cases">Part 1: RPA Implementation and Use Cases<a class="headerlink" href="#part-1-rpa-implementation-and-use-cases" title="Permanent link">&para;</a></h2>
<h3 id="what-is-robotic-process-automation-rpa">What is Robotic Process Automation (RPA)?<a class="headerlink" href="#what-is-robotic-process-automation-rpa" title="Permanent link">&para;</a></h3>
<p><strong>Definition</strong>: RPA is rule-driven, task-level automation that simulates human user actions to interact with software applications through their user interfaces, typically without requiring changes to underlying systems.</p>
<p><strong>Key Characteristics</strong>:</p>
<ul>
<li>
<p><strong>Surface-level Integration</strong>: Works through existing user interfaces</p>
</li>
<li>
<p><strong>Rule-based Logic</strong>: Follows predefined decision trees and workflows</p>
</li>
<li>
<p><strong>No System Changes</strong>: Operates without modifying underlying applications</p>
</li>
<li>
<p><strong>User Action Simulation</strong>: Mimics mouse clicks, keyboard inputs, screen reading</p>
</li>
<li>
<p><strong>Low-code Platforms</strong>: Often implemented using visual workflow designers</p>
</li>
</ul>
<h3 id="rpa-architecture-and-components">RPA Architecture and Components<a class="headerlink" href="#rpa-architecture-and-components" title="Permanent link">&para;</a></h3>
<div class="diagram-container" data-container-id="kroki-diagram-0"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-0')">🔍 View Larger</button><div id="kroki-diagram-0" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="882px" preserveAspectRatio="xMaxYMax meet" style="width:1190px;height:882px;background:#FEFEFE;" version="1.1" viewBox="0 0 1190 882" width="1190px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-0"><defs /><g><rect fill="#FEFEFE" height="882" style="stroke:none;stroke-width:1;" width="1190" x="0" y="0" /><g class="cluster" data-entity="RPA System Architecture" data-source-line="5" data-uid="ent0002" id="cluster_RPA System Architecture"><path d="M13.5,11 L184.4629,11 A3.75,3.75 0 0 1 186.9629,13.5 L193.9629,30.9688 L960.5,30.9688 A2.5,2.5 0 0 1 963,33.4688 L963,873.28 A2.5,2.5 0 0 1 960.5,875.78 L13.5,875.78 A2.5,2.5 0 0 1 11,873.28 L11,13.5 A2.5,2.5 0 0 1 13.5,11" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="11" x2="193.9629" y1="30.9688" y2="30.9688" /><text fill="#000000" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="169.9629" x="15" y="24.1387">RPA System Architecture</text></g><g class="cluster" data-entity="dashboard" data-source-line="6" data-uid="ent0003" id="cluster_dashboard"><rect fill="#FFFFFF" height="91.97" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="611" x="37" y="51" /><text fill="#000000" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="126.9668" x="279.0166" y="64.1387">Control Dashboard</text></g><g class="cluster" data-entity="execution" data-source-line="13" data-uid="ent0008" id="cluster_execution"><rect fill="#FFFFFF" height="210.94" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="496" x="58" y="189.97" /><text fill="#000000" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="156.8496" x="227.5752" y="203.1087">Execution Environment</text></g><g class="cluster" data-entity="targets" data-source-line="20" data-uid="ent0013" id="cluster_targets"><rect fill="#FFFFFF" height="260.93" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="345" x="43" y="455.91" /><text fill="#000000" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="132.5273" x="149.2363" y="469.0487">Target Applications</text></g><g class="cluster" data-entity="data" data-source-line="27" data-uid="ent0018" id="cluster_data"><rect fill="#FFFFFF" height="234.91" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="503" x="428" y="608.87" /><text fill="#000000" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="179.707" x="589.6465" y="622.0087">Data Sources/Destinations</text></g><g class="entity" data-entity="designer" data-source-line="7" data-uid="ent0004" id="entity_designer"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="153.3672" x="53.32" y="83" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="186.6872" y="88" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="184.6872" y="90" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="184.6872" y="94" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="113.3672" x="68.32" y="114.1387">Workflow Designer</text></g><g class="entity" data-entity="manager" data-source-line="8" data-uid="ent0005" id="entity_manager"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="116.6934" x="241.65" y="83" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="338.3434" y="88" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="336.3434" y="90" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="336.3434" y="94" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="76.6934" x="256.65" y="114.1387">Bot Manager</text></g><g class="entity" data-entity="scheduler" data-source-line="9" data-uid="ent0006" id="entity_scheduler"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="100.0762" x="392.96" y="83" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="473.0362" y="88" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="471.0362" y="90" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="471.0362" y="94" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="60.0762" x="407.96" y="114.1387">Scheduler</text></g><g class="entity" data-entity="monitor" data-source-line="10" data-uid="ent0007" id="entity_monitor"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="104.1719" x="527.91" y="83" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="612.0819" y="88" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="610.0819" y="90" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="610.0819" y="94" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="64.1719" x="542.91" y="114.1387">Monitoring</text></g><g class="entity" data-entity="runner" data-source-line="14" data-uid="ent0009" id="entity_runner"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="107.5645" x="266.22" y="221.97" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="353.7845" y="226.97" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="351.7845" y="228.97" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="351.7845" y="232.97" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="67.5645" x="281.22" y="253.1087">Bot Runner</text></g><g class="entity" data-entity="screen" data-source-line="15" data-uid="ent0010" id="entity_screen"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="133.3105" x="74.34" y="340.94" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="187.6505" y="345.94" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="185.6505" y="347.94" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="185.6505" y="351.94" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="93.3105" x="89.34" y="372.0787">Screen Capture</text></g><g class="entity" data-entity="input" data-source-line="16" data-uid="ent0011" id="entity_input"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="132.8008" x="242.6" y="340.94" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="355.4008" y="345.94" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="353.4008" y="347.94" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="353.4008" y="351.94" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="92.8008" x="257.6" y="372.0787">Input Simulator</text></g><g class="entity" data-entity="extractor" data-source-line="17" data-uid="ent0012" id="entity_extractor"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="127.7207" x="410.14" y="340.94" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="517.8607" y="345.94" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="515.8607" y="347.94" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="515.8607" y="351.94" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="87.7207" x="425.14" y="372.0787">Data Extractor</text></g><g class="entity" data-entity="browser" data-source-line="21" data-uid="ent0014" id="entity_browser"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="119.5703" x="67.21" y="495.91" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="166.7803" y="500.91" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="164.7803" y="502.91" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="164.7803" y="506.91" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="79.5703" x="82.21" y="527.0487">Web Browser</text></g><g class="entity" data-entity="desktop" data-source-line="22" data-uid="ent0015" id="entity_desktop"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="122.998" x="221.5" y="495.91" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="324.498" y="500.91" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="322.498" y="502.91" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="322.498" y="506.91" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="82.998" x="236.5" y="527.0487">Desktop Apps</text></g><g class="entity" data-entity="legacy" data-source-line="23" data-uid="ent0016" id="entity_legacy"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="137.5527" x="67.22" y="648.87" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="184.7727" y="653.87" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="182.7727" y="655.87" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="182.7727" y="659.87" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="97.5527" x="82.22" y="680.0087">Legacy Systems</text></g><g class="entity" data-entity="docs" data-source-line="24" data-uid="ent0017" id="entity_docs"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="108.4199" x="239.79" y="648.87" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="328.2099" y="653.87" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="326.2099" y="655.87" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="326.2099" y="659.87" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="68.4199" x="254.79" y="680.0087">Documents</text></g><g class="entity" data-entity="db" data-source-line="28" data-uid="ent0019" id="entity_db"><path d="M471.25,659.37 C471.25,649.37 513.0049,649.37 513.0049,649.37 C513.0049,649.37 554.7598,649.37 554.7598,659.37 L554.7598,682.3388 C554.7598,692.3388 513.0049,692.3388 513.0049,692.3388 C513.0049,692.3388 471.25,692.3388 471.25,682.3388 L471.25,659.37" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M471.25,659.37 C471.25,669.37 513.0049,669.37 513.0049,669.37 C513.0049,669.37 554.7598,669.37 554.7598,659.37" fill="none" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="63.5098" x="481.25" y="684.5087">Databases</text></g><g class="entity" data-entity="files" data-source-line="29" data-uid="ent0020" id="entity_files"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="153.3496" x="753.33" y="648.87" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="886.6796" y="653.87" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="884.6796" y="655.87" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="884.6796" y="659.87" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="113.3496" x="768.33" y="680.0087">Files/Spreadsheets</text></g><g class="entity" data-entity="apis" data-source-line="30" data-uid="ent0021" id="entity_apis"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="65.2363" x="480.38" y="775.81" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="525.6163" y="780.81" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="523.6163" y="782.81" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="523.6163" y="786.81" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="25.2363" x="495.38" y="806.9487">APIs</text></g><g class="entity" data-entity="email" data-source-line="31" data-uid="ent0022" id="entity_email"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="128.1074" x="589.95" y="648.87" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="698.0574" y="653.87" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="696.0574" y="655.87" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="696.0574" y="659.87" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="88.1074" x="604.95" y="680.0087">Email Systems</text></g><g class="entity" data-entity="GMN35" data-source-line="52" data-uid="ent0036" id="entity_GMN35"><path d="M978.77,771.84 L978.77,823.7462 L1183.2388,823.7462 L1183.2388,781.84 L1173.2388,771.84 L978.77,771.84" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M1173.2388,771.84 L1173.2388,781.84 L1183.2388,781.84 L1173.2388,771.84" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="173.8184" x="984.77" y="787.9787">RPA operates at the UI layer,</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="183.4688" x="984.77" y="801.9474">simulating human interactions</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="162.041" x="984.77" y="815.9162">without system integration</text></g><g class="link" data-entity-1="designer" data-entity-2="runner" data-source-line="35" data-uid="lnk23" id="link_designer_runner"><path d="M148.62,127.42 C161.6,141.63 179.79,160.13 198,173.97 C222.12,192.3 246.305,206.3552 270.265,218.7952" fill="none" id="designer-to-runner" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="275.59,221.56,269.4456,213.8628,271.1525,219.256,265.7593,220.9629,275.59,221.56" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="101.6367" x="199" y="171.1087">Deploy Workflow</text></g><g class="link" data-entity-1="manager" data-entity-2="runner" data-source-line="36" data-uid="lnk24" id="link_manager_runner"><path d="M303.12,127.38 C306.88,153.12 312.2824,190.1031 316.0324,215.7631" fill="none" id="manager-to-runner" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="316.9,221.7,319.5565,212.2162,316.177,216.7526,311.6406,213.373,316.9,221.7" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="73.9863" x="311" y="171.1087">Control Bots</text></g><g class="link" data-entity-1="scheduler" data-entity-2="runner" data-source-line="37" data-uid="lnk25" id="link_scheduler_runner"><path d="M427.84,127.44 C417.85,141.15 404.22,159.08 391,173.97 C376.05,190.8 362.2056,204.386 347.9556,217.626" fill="none" id="scheduler-to-runner" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="343.56,221.71,352.876,218.5144,347.223,218.3067,347.4307,212.6536,343.56,221.71" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="71.7129" x="405" y="171.1087">Trigger Jobs</text></g><g class="link" data-entity-1="monitor" data-entity-2="runner" data-source-line="38" data-uid="lnk26" id="link_monitor_runner"><path d="M553.64,127.31 C535.14,141.65 509.45,160.34 485,173.97 C449.47,193.77 412.7107,209.244 379.8007,221.714" fill="none" id="monitor-to-runner" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="374.19,223.84,384.0234,224.3915,378.8656,222.0684,381.1888,216.9106,374.19,223.84" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="113.6602" x="510" y="171.1087">Track Performance</text></g><g class="link" data-entity-1="runner" data-entity-2="screen" data-source-line="40" data-uid="lnk27" id="link_runner_screen"><path d="M286.04,266.38 C271.77,275.44 255.04,286.13 240,295.94 C217.33,310.71 196.9212,324.2952 177.5312,337.3152" fill="none" id="runner-to-screen" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="172.55,340.66,182.2517,338.9636,176.701,337.8727,177.792,332.322,172.55,340.66" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="64.1133" x="241" y="308.0787">Capture UI</text></g><g class="link" data-entity-1="runner" data-entity-2="input" data-source-line="41" data-uid="lnk28" id="link_runner_input"><path d="M317.98,266.41 C316,287.51 313.5544,313.5666 311.5644,334.6266" fill="none" id="runner-to-input" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="311,340.6,315.8289,332.0162,311.4704,335.6222,307.8644,331.2636,311,340.6" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="100.8809" x="317" y="308.0787">Simulate Actions</text></g><g class="link" data-entity-1="runner" data-entity-2="extractor" data-source-line="42" data-uid="lnk29" id="link_runner_extractor"><path d="M373.77,266.37 C390.17,274.3 407.65,284.25 422,295.94 C437.49,308.55 447.9391,321.5896 457.4191,335.6096" fill="none" id="runner-to-extractor" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="460.78,340.58,459.0523,330.8839,457.9793,336.438,452.4251,335.365,460.78,340.58" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="75.4453" x="438" y="308.0787">Extract Data</text></g><g class="link" data-entity-1="screen" data-entity-2="targets" data-source-line="44" data-uid="lnk30" id="link_screen_targets"><path d="M156.68,385.31 C169.75,401.3 189.93,422.02 213,431.91 C228.44,438.52 351.25,428.96 364,439.91 C367.2113,442.6663 369.8794,445.8837 372.0888,449.4104 C373.1936,451.1737 374.1836,453.0143 375.0696,454.9131 C375.1803,455.1505 372.8292,449.9163 372.9367,450.1555" fill="none" id="screen-to-targets" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="375.3969,455.6279,375.3549,445.7791,373.3467,451.0676,368.0583,449.0594,375.3969,455.6279" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="94.4824" x="214" y="429.0487">Read Interfaces</text></g><g class="link" data-entity-1="input" data-entity-2="targets" data-source-line="45" data-uid="lnk31" id="link_input_targets"><path d="M308.71,385.23 C309.69,400.31 313.56,419.92 326,431.91 C338.43,443.88 351.81,427.69 364,439.91 C366.9888,442.905 369.4883,446.3034 371.5732,449.9637 C372.6157,451.7938 371.1632,448.1866 372.0077,450.1299" fill="none" id="input-to-targets" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="374.3991,455.6327,374.4805,445.7842,372.4063,451.047,367.1434,448.9727,374.3991,455.6327" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="46.8223" x="327" y="429.0487">Interact</text></g><g class="link" data-entity-1="extractor" data-entity-2="targets" data-source-line="46" data-uid="lnk32" id="link_extractor_targets"><path d="M460.93,385.19 C448.215,405.88 428.41,438.1075 411.575,465.5025 C403.1575,479.2 395.4825,491.6894 389.8075,500.9244 C389.4528,501.5016 389.1059,502.066 388.7672,502.6173 C388.5978,502.8929 388.4305,503.1653 388.2652,503.4342 C388.1825,503.5687 391.2417,498.5904 391.1601,498.7232" fill="none" id="extractor-to-targets" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="388.0188,503.8351,396.1388,498.2614,390.6366,499.5752,389.3228,494.073,388.0188,503.8351" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="53.8535" x="442" y="429.0487">Get Data</text></g><g class="link" data-entity-1="runner" data-entity-2="data" data-source-line="48" data-uid="lnk33" id="link_runner_data"><path d="M374.12,246.09 C435.99,250.83 531.72,269.84 555,340.94 C589.33,445.79 591.13,511.21 509,584.87 C490.94,601.07 472.95,576.55 455,592.87 C451.8425,595.7412 449.1711,599.0461 446.9144,602.6374 C445.786,604.4331 444.7613,606.3003 443.8313,608.2208 C443.7732,608.3409 446.2962,603.0445 446.2388,603.1649" fill="none" id="runner-to-data" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="443.6581,608.5815,451.1403,602.1771,445.8087,604.0677,443.9181,598.7361,443.6581,608.5815" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="99.4219" x="577" y="429.0487">Read/Write Data</text></g><g class="link" data-entity-1="targets" data-entity-2="data" data-source-line="49" data-uid="lnk34" id="link_targets_data"><path d="M388.0643,540.6301 C388.1414,540.8379 388.2189,541.0468 388.2968,541.2569 C388.6085,542.0972 388.9269,542.9553 389.2514,543.8302 C394.4441,557.8278 401.2281,576.1156 408.0113,594.4012 C414.7944,612.6869 421.5766,630.9703 426.7655,644.9592 C427.0898,645.8335 427.4079,646.6911 427.7193,647.5308 C427.7972,647.7407 425.788,642.324 425.865,642.5317" fill="none" id="targets-to-data" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="427.9517,648.1572,428.572,638.3279,426.2128,643.4693,421.0714,641.1101,427.9517,648.1572" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="96.1055" x="404" y="582.0087">Access Systems</text></g><g class="link" data-entity-1="email" data-entity-2="GMN35" data-source-line="52" data-uid="lnk37" id="link_email_GMN35"><path d="M676.58,693.14 C692.12,706.59 713.88,723.19 736,732.84 C758.12,742.49 885.1,764.71 978.62,780.23" fill="none" id="email-GMN35" style="stroke:#000000;stroke-width:1;stroke-dasharray:7.0,7.0;" /></g></g></svg></p></div></div>
<h3 id="typical-rpa-use-cases">Typical RPA Use Cases<a class="headerlink" href="#typical-rpa-use-cases" title="Permanent link">&para;</a></h3>
<h4 id="1-invoice-processing-automation">1. Invoice Processing Automation<a class="headerlink" href="#1-invoice-processing-automation" title="Permanent link">&para;</a></h4>
<p><strong>Business Challenge</strong>: Manual invoice processing is time-consuming, error-prone, and requires data entry across multiple systems.</p>
<p><strong>RPA Solution</strong>: Automated workflow that processes invoices from receipt to payment approval.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">csv</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">smtplib</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="kn">from</span><span class="w"> </span><span class="nn">email.mime.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">MimeText</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="kn">from</span><span class="w"> </span><span class="nn">email.mime.multipart</span><span class="w"> </span><span class="kn">import</span> <span class="n">MimeMultipart</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="nd">@dataclass</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="k">class</span><span class="w"> </span><span class="nc">InvoiceData</span><span class="p">:</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents extracted invoice information.&quot;&quot;&quot;</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="n">invoice_number</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span class="n">vendor_name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="n">amount</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>    <span class="n">due_date</span><span class="p">:</span> <span class="n">datetime</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="n">line_items</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">any</span><span class="p">]]</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    <span class="n">approval_status</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;pending&quot;</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="n">extracted_date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extracted_date</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">extracted_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="nd">@dataclass</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="k">class</span><span class="w"> </span><span class="nc">ProcessingResult</span><span class="p">:</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Result of invoice processing step.&quot;&quot;&quot;</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>    <span class="n">success</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>    <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>    <span class="n">details</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>    <span class="n">data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>    <span class="n">processing_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a><span class="k">class</span><span class="w"> </span><span class="nc">InvoiceProcessingRPA</span><span class="p">:</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a><span class="sd">    RPA system for automated invoice processing.</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a><span class="sd">    Demonstrates practical RPA implementation for financial workflows.</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;rpa_config.json&quot;</span><span class="p">):</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_config</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">processing_log</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">approval_rules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_approval_rules</span><span class="p">()</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vendor_database</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load_vendor_database</span><span class="p">()</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">any</span><span class="p">]:</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Load RPA configuration settings.&quot;&quot;&quot;</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>        <span class="n">default_config</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>            <span class="s2">&quot;email_settings&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>                <span class="s2">&quot;smtp_server&quot;</span><span class="p">:</span> <span class="s2">&quot;smtp.company.com&quot;</span><span class="p">,</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>                <span class="s2">&quot;smtp_port&quot;</span><span class="p">:</span> <span class="mi">587</span><span class="p">,</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;rpa_bot@company.com&quot;</span><span class="p">,</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>                <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secure_password&quot;</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>            <span class="p">},</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>            <span class="s2">&quot;file_paths&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>                <span class="s2">&quot;input_folder&quot;</span><span class="p">:</span> <span class="s2">&quot;./invoices/inbox&quot;</span><span class="p">,</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>                <span class="s2">&quot;processed_folder&quot;</span><span class="p">:</span> <span class="s2">&quot;./invoices/processed&quot;</span><span class="p">,</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>                <span class="s2">&quot;error_folder&quot;</span><span class="p">:</span> <span class="s2">&quot;./invoices/errors&quot;</span><span class="p">,</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>                <span class="s2">&quot;output_file&quot;</span><span class="p">:</span> <span class="s2">&quot;./invoices/processed_invoices.csv&quot;</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>            <span class="p">},</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>            <span class="s2">&quot;thresholds&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a>                <span class="s2">&quot;auto_approval_limit&quot;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>                <span class="s2">&quot;confidence_threshold&quot;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">,</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a>                <span class="s2">&quot;processing_timeout&quot;</span><span class="p">:</span> <span class="mi">300</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a>            <span class="p">},</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a>            <span class="s2">&quot;notification_settings&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a>                <span class="s2">&quot;notify_on_high_amount&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a>                <span class="s2">&quot;notify_on_errors&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a>                <span class="s2">&quot;approval_email_list&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;finance@company.com&quot;</span><span class="p">,</span> <span class="s2">&quot;manager@company.com&quot;</span><span class="p">]</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a>            <span class="p">}</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a>        <span class="p">}</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75" href="#__codelineno-0-75"></a>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76" href="#__codelineno-0-76"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77" href="#__codelineno-0-77"></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">config_file</span><span class="p">):</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78" href="#__codelineno-0-78"></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79" href="#__codelineno-0-79"></a>                    <span class="n">user_config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80" href="#__codelineno-0-80"></a>                    <span class="c1"># Merge with defaults</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81" href="#__codelineno-0-81"></a>                    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">user_config</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82" href="#__codelineno-0-82"></a>                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">default_config</span><span class="p">:</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83" href="#__codelineno-0-83"></a>                            <span class="n">default_config</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84" href="#__codelineno-0-84"></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85" href="#__codelineno-0-85"></a>                            <span class="n">default_config</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86" href="#__codelineno-0-86"></a>            <span class="k">return</span> <span class="n">default_config</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87" href="#__codelineno-0-87"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88" href="#__codelineno-0-88"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error loading config, using defaults: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89" href="#__codelineno-0-89"></a>            <span class="k">return</span> <span class="n">default_config</span>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90" href="#__codelineno-0-90"></a>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91" href="#__codelineno-0-91"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_approval_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">any</span><span class="p">]:</span>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92" href="#__codelineno-0-92"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize business rules for invoice approval.&quot;&quot;&quot;</span>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93" href="#__codelineno-0-93"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94" href="#__codelineno-0-94"></a>            <span class="s2">&quot;auto_approve_under&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;thresholds&quot;</span><span class="p">][</span><span class="s2">&quot;auto_approval_limit&quot;</span><span class="p">],</span>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95" href="#__codelineno-0-95"></a>            <span class="s2">&quot;require_manual_approval&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;new_vendor&quot;</span><span class="p">,</span> <span class="s2">&quot;high_amount&quot;</span><span class="p">,</span> <span class="s2">&quot;duplicate_invoice&quot;</span><span class="p">],</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96" href="#__codelineno-0-96"></a>            <span class="s2">&quot;rejection_criteria&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;invalid_format&quot;</span><span class="p">,</span> <span class="s2">&quot;missing_po&quot;</span><span class="p">,</span> <span class="s2">&quot;over_budget&quot;</span><span class="p">],</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97" href="#__codelineno-0-97"></a>            <span class="s2">&quot;escalation_thresholds&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98" href="#__codelineno-0-98"></a>                <span class="s2">&quot;manager_approval&quot;</span><span class="p">:</span> <span class="mf">5000.0</span><span class="p">,</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99" href="#__codelineno-0-99"></a>                <span class="s2">&quot;director_approval&quot;</span><span class="p">:</span> <span class="mf">20000.0</span><span class="p">,</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100" href="#__codelineno-0-100"></a>                <span class="s2">&quot;board_approval&quot;</span><span class="p">:</span> <span class="mf">100000.0</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101" href="#__codelineno-0-101"></a>            <span class="p">}</span>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102" href="#__codelineno-0-102"></a>        <span class="p">}</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103" href="#__codelineno-0-103"></a>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104" href="#__codelineno-0-104"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_load_vendor_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]:</span>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105" href="#__codelineno-0-105"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Load vendor information for validation.&quot;&quot;&quot;</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106" href="#__codelineno-0-106"></a>        <span class="c1"># Simulated vendor database</span>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107" href="#__codelineno-0-107"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108" href="#__codelineno-0-108"></a>            <span class="s2">&quot;ACME_CORP&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109" href="#__codelineno-0-109"></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;ACME Corporation&quot;</span><span class="p">,</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110" href="#__codelineno-0-110"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;approved&quot;</span><span class="p">,</span>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111" href="#__codelineno-0-111"></a>                <span class="s2">&quot;payment_terms&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112" href="#__codelineno-0-112"></a>                <span class="s2">&quot;contact&quot;</span><span class="p">:</span> <span class="s2">&quot;billing@acme.com&quot;</span><span class="p">,</span>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113" href="#__codelineno-0-113"></a>                <span class="s2">&quot;credit_limit&quot;</span><span class="p">:</span> <span class="mf">50000.0</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114" href="#__codelineno-0-114"></a>            <span class="p">},</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115" href="#__codelineno-0-115"></a>            <span class="s2">&quot;TECH_SOLUTIONS&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116" href="#__codelineno-0-116"></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Tech Solutions Ltd&quot;</span><span class="p">,</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117" href="#__codelineno-0-117"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;approved&quot;</span><span class="p">,</span> 
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118" href="#__codelineno-0-118"></a>                <span class="s2">&quot;payment_terms&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119" href="#__codelineno-0-119"></a>                <span class="s2">&quot;contact&quot;</span><span class="p">:</span> <span class="s2">&quot;invoices@techsolutions.com&quot;</span><span class="p">,</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120" href="#__codelineno-0-120"></a>                <span class="s2">&quot;credit_limit&quot;</span><span class="p">:</span> <span class="mf">25000.0</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121" href="#__codelineno-0-121"></a>            <span class="p">},</span>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122" href="#__codelineno-0-122"></a>            <span class="s2">&quot;OFFICE_SUPPLIES&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123" href="#__codelineno-0-123"></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Office Supplies Inc&quot;</span><span class="p">,</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124" href="#__codelineno-0-124"></a>                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;approved&quot;</span><span class="p">,</span>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125" href="#__codelineno-0-125"></a>                <span class="s2">&quot;payment_terms&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126" href="#__codelineno-0-126"></a>                <span class="s2">&quot;contact&quot;</span><span class="p">:</span> <span class="s2">&quot;accounts@officesupplies.com&quot;</span><span class="p">,</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127" href="#__codelineno-0-127"></a>                <span class="s2">&quot;credit_limit&quot;</span><span class="p">:</span> <span class="mf">10000.0</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128" href="#__codelineno-0-128"></a>            <span class="p">}</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129" href="#__codelineno-0-129"></a>        <span class="p">}</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130" href="#__codelineno-0-130"></a>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131" href="#__codelineno-0-131"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">simulate_email_monitoring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132" href="#__codelineno-0-132"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate monitoring email inbox for new invoices.&quot;&quot;&quot;</span>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133" href="#__codelineno-0-133"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Monitoring email inbox for new invoice attachments...&quot;</span><span class="p">)</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134" href="#__codelineno-0-134"></a>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135" href="#__codelineno-0-135"></a>        <span class="c1"># Simulate finding new invoice emails</span>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136" href="#__codelineno-0-136"></a>        <span class="n">simulated_emails</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137" href="#__codelineno-0-137"></a>            <span class="s2">&quot;invoice_acme_2024_001.pdf&quot;</span><span class="p">,</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138" href="#__codelineno-0-138"></a>            <span class="s2">&quot;tech_solutions_invoice_march.pdf&quot;</span><span class="p">,</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139" href="#__codelineno-0-139"></a>            <span class="s2">&quot;office_supplies_monthly_bill.pdf&quot;</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140" href="#__codelineno-0-140"></a>        <span class="p">]</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141" href="#__codelineno-0-141"></a>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142" href="#__codelineno-0-142"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">simulated_emails</span><span class="p">)</span><span class="si">}</span><span class="s2"> new invoice emails&quot;</span><span class="p">)</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143" href="#__codelineno-0-143"></a>        <span class="k">return</span> <span class="n">simulated_emails</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144" href="#__codelineno-0-144"></a>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145" href="#__codelineno-0-145"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">simulate_ocr_extraction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">InvoiceData</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146" href="#__codelineno-0-146"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate OCR extraction from invoice document.&quot;&quot;&quot;</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147" href="#__codelineno-0-147"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Extracting data from: </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148" href="#__codelineno-0-148"></a>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149" href="#__codelineno-0-149"></a>        <span class="c1"># Simulate processing time</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150" href="#__codelineno-0-150"></a>        <span class="n">processing_time</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># Realistic processing delay</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151" href="#__codelineno-0-151"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">processing_time</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>  <span class="c1"># Truncate for demo</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152" href="#__codelineno-0-152"></a>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153" href="#__codelineno-0-153"></a>        <span class="c1"># Simulate extracted data based on filename</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154" href="#__codelineno-0-154"></a>        <span class="k">if</span> <span class="s2">&quot;acme&quot;</span> <span class="ow">in</span> <span class="n">file_path</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155" href="#__codelineno-0-155"></a>            <span class="n">invoice_data</span> <span class="o">=</span> <span class="n">InvoiceData</span><span class="p">(</span>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156" href="#__codelineno-0-156"></a>                <span class="n">invoice_number</span><span class="o">=</span><span class="s2">&quot;INV-ACME-2024-001&quot;</span><span class="p">,</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157" href="#__codelineno-0-157"></a>                <span class="n">vendor_name</span><span class="o">=</span><span class="s2">&quot;ACME Corporation&quot;</span><span class="p">,</span> 
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158" href="#__codelineno-0-158"></a>                <span class="n">amount</span><span class="o">=</span><span class="mf">1250.75</span><span class="p">,</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159" href="#__codelineno-0-159"></a>                <span class="n">due_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160" href="#__codelineno-0-160"></a>                <span class="n">line_items</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161" href="#__codelineno-0-161"></a>                    <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Software License&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;unit_price&quot;</span><span class="p">:</span> <span class="mf">1000.00</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">1000.00</span><span class="p">},</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162" href="#__codelineno-0-162"></a>                    <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Support Services&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;unit_price&quot;</span><span class="p">:</span> <span class="mf">50.15</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">250.75</span><span class="p">}</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163" href="#__codelineno-0-163"></a>                <span class="p">]</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164" href="#__codelineno-0-164"></a>            <span class="p">)</span>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165" href="#__codelineno-0-165"></a>            <span class="n">confidence</span> <span class="o">=</span> <span class="mf">0.92</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166" href="#__codelineno-0-166"></a>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167" href="#__codelineno-0-167"></a>        <span class="k">elif</span> <span class="s2">&quot;tech&quot;</span> <span class="ow">in</span> <span class="n">file_path</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168" href="#__codelineno-0-168"></a>            <span class="n">invoice_data</span> <span class="o">=</span> <span class="n">InvoiceData</span><span class="p">(</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169" href="#__codelineno-0-169"></a>                <span class="n">invoice_number</span><span class="o">=</span><span class="s2">&quot;TS-2024-0315&quot;</span><span class="p">,</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170" href="#__codelineno-0-170"></a>                <span class="n">vendor_name</span><span class="o">=</span><span class="s2">&quot;Tech Solutions Ltd&quot;</span><span class="p">,</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171" href="#__codelineno-0-171"></a>                <span class="n">amount</span><span class="o">=</span><span class="mf">3750.00</span><span class="p">,</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172" href="#__codelineno-0-172"></a>                <span class="n">due_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173" href="#__codelineno-0-173"></a>                <span class="n">line_items</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174" href="#__codelineno-0-174"></a>                    <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Consulting Hours&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="s2">&quot;unit_price&quot;</span><span class="p">:</span> <span class="mf">150.00</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">3750.00</span><span class="p">}</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175" href="#__codelineno-0-175"></a>                <span class="p">]</span>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176" href="#__codelineno-0-176"></a>            <span class="p">)</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177" href="#__codelineno-0-177"></a>            <span class="n">confidence</span> <span class="o">=</span> <span class="mf">0.89</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178" href="#__codelineno-0-178"></a>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179" href="#__codelineno-0-179"></a>        <span class="k">else</span><span class="p">:</span>  <span class="c1"># office supplies</span>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180" href="#__codelineno-0-180"></a>            <span class="n">invoice_data</span> <span class="o">=</span> <span class="n">InvoiceData</span><span class="p">(</span>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181" href="#__codelineno-0-181"></a>                <span class="n">invoice_number</span><span class="o">=</span><span class="s2">&quot;OS-MAR-2024&quot;</span><span class="p">,</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182" href="#__codelineno-0-182"></a>                <span class="n">vendor_name</span><span class="o">=</span><span class="s2">&quot;Office Supplies Inc&quot;</span><span class="p">,</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183" href="#__codelineno-0-183"></a>                <span class="n">amount</span><span class="o">=</span><span class="mf">427.50</span><span class="p">,</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184" href="#__codelineno-0-184"></a>                <span class="n">due_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">45</span><span class="p">),</span>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185" href="#__codelineno-0-185"></a>                <span class="n">line_items</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186" href="#__codelineno-0-186"></a>                    <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Paper A4&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;unit_price&quot;</span><span class="p">:</span> <span class="mf">15.00</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">150.00</span><span class="p">},</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187" href="#__codelineno-0-187"></a>                    <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Printer Cartridges&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;unit_price&quot;</span><span class="p">:</span> <span class="mf">45.50</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">227.50</span><span class="p">},</span>
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188" href="#__codelineno-0-188"></a>                    <span class="p">{</span><span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Desk Supplies&quot;</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;unit_price&quot;</span><span class="p">:</span> <span class="mf">50.00</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">50.00</span><span class="p">}</span>
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189" href="#__codelineno-0-189"></a>                <span class="p">]</span>
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190" href="#__codelineno-0-190"></a>            <span class="p">)</span>
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191" href="#__codelineno-0-191"></a>            <span class="n">confidence</span> <span class="o">=</span> <span class="mf">0.95</span>
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192" href="#__codelineno-0-192"></a>
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193" href="#__codelineno-0-193"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Extracted invoice #</span><span class="si">{</span><span class="n">invoice_data</span><span class="o">.</span><span class="n">invoice_number</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">invoice_data</span><span class="o">.</span><span class="n">vendor_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194" href="#__codelineno-0-194"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amount: $</span><span class="si">{</span><span class="n">invoice_data</span><span class="o">.</span><span class="n">amount</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Confidence: </span><span class="si">{</span><span class="n">confidence</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195" href="#__codelineno-0-195"></a>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196" href="#__codelineno-0-196"></a>        <span class="k">return</span> <span class="n">invoice_data</span><span class="p">,</span> <span class="n">confidence</span>
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197" href="#__codelineno-0-197"></a>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198" href="#__codelineno-0-198"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_invoice_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">invoice</span><span class="p">:</span> <span class="n">InvoiceData</span><span class="p">,</span> <span class="n">confidence</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProcessingResult</span><span class="p">:</span>
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199" href="#__codelineno-0-199"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate extracted invoice data against business rules.&quot;&quot;&quot;</span>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200" href="#__codelineno-0-200"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201" href="#__codelineno-0-201"></a>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202" href="#__codelineno-0-202"></a>        <span class="n">validation_issues</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203" href="#__codelineno-0-203"></a>
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204" href="#__codelineno-0-204"></a>        <span class="c1"># Check confidence threshold</span>
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205" href="#__codelineno-0-205"></a>        <span class="k">if</span> <span class="n">confidence</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;thresholds&quot;</span><span class="p">][</span><span class="s2">&quot;confidence_threshold&quot;</span><span class="p">]:</span>
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206" href="#__codelineno-0-206"></a>            <span class="n">validation_issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Low OCR confidence: </span><span class="si">{</span><span class="n">confidence</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207" href="#__codelineno-0-207"></a>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208" href="#__codelineno-0-208"></a>        <span class="c1"># Validate vendor</span>
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209" href="#__codelineno-0-209"></a>        <span class="n">vendor_key</span> <span class="o">=</span> <span class="n">invoice</span><span class="o">.</span><span class="n">vendor_name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210" href="#__codelineno-0-210"></a>        <span class="k">if</span> <span class="n">vendor_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vendor_database</span><span class="p">:</span>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211" href="#__codelineno-0-211"></a>            <span class="n">validation_issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown vendor: </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">vendor_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212" href="#__codelineno-0-212"></a>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213" href="#__codelineno-0-213"></a>        <span class="c1"># Check amount reasonableness</span>
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214" href="#__codelineno-0-214"></a>        <span class="k">if</span> <span class="n">invoice</span><span class="o">.</span><span class="n">amount</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215" href="#__codelineno-0-215"></a>            <span class="n">validation_issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Invalid amount: must be positive&quot;</span><span class="p">)</span>
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216" href="#__codelineno-0-216"></a>        <span class="k">elif</span> <span class="n">invoice</span><span class="o">.</span><span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">100000</span><span class="p">:</span>
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217" href="#__codelineno-0-217"></a>            <span class="n">validation_issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unusually high amount: $</span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">amount</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218" href="#__codelineno-0-218"></a>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219" href="#__codelineno-0-219"></a>        <span class="c1"># Validate due date</span>
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220" href="#__codelineno-0-220"></a>        <span class="k">if</span> <span class="n">invoice</span><span class="o">.</span><span class="n">due_date</span> <span class="o">&lt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">():</span>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221" href="#__codelineno-0-221"></a>            <span class="n">validation_issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Due date is in the past&quot;</span><span class="p">)</span>
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222" href="#__codelineno-0-222"></a>        <span class="k">elif</span> <span class="p">(</span><span class="n">invoice</span><span class="o">.</span><span class="n">due_date</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span><span class="o">.</span><span class="n">days</span> <span class="o">&gt;</span> <span class="mi">365</span><span class="p">:</span>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223" href="#__codelineno-0-223"></a>            <span class="n">validation_issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Due date is too far in future&quot;</span><span class="p">)</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224" href="#__codelineno-0-224"></a>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225" href="#__codelineno-0-225"></a>        <span class="c1"># Check for duplicate invoice numbers (simplified check)</span>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226" href="#__codelineno-0-226"></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;processed_invoices&#39;</span><span class="p">):</span>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227" href="#__codelineno-0-227"></a>            <span class="k">if</span> <span class="n">invoice</span><span class="o">.</span><span class="n">invoice_number</span> <span class="ow">in</span> <span class="p">[</span><span class="n">inv</span><span class="o">.</span><span class="n">invoice_number</span> <span class="k">for</span> <span class="n">inv</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">processed_invoices</span><span class="p">]:</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228" href="#__codelineno-0-228"></a>                <span class="n">validation_issues</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Duplicate invoice number: </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">invoice_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229" href="#__codelineno-0-229"></a>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230" href="#__codelineno-0-230"></a>        <span class="n">processing_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231" href="#__codelineno-0-231"></a>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232" href="#__codelineno-0-232"></a>        <span class="k">if</span> <span class="n">validation_issues</span><span class="p">:</span>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233" href="#__codelineno-0-233"></a>            <span class="k">return</span> <span class="n">ProcessingResult</span><span class="p">(</span>
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234" href="#__codelineno-0-234"></a>                <span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235" href="#__codelineno-0-235"></a>                <span class="n">step_name</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236" href="#__codelineno-0-236"></a>                <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Validation failed: </span><span class="si">{</span><span class="s1">&#39;; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">validation_issues</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237" href="#__codelineno-0-237"></a>                <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;issues&quot;</span><span class="p">:</span> <span class="n">validation_issues</span><span class="p">},</span>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238" href="#__codelineno-0-238"></a>                <span class="n">processing_time</span><span class="o">=</span><span class="n">processing_time</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239" href="#__codelineno-0-239"></a>            <span class="p">)</span>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240" href="#__codelineno-0-240"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241" href="#__codelineno-0-241"></a>            <span class="k">return</span> <span class="n">ProcessingResult</span><span class="p">(</span>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242" href="#__codelineno-0-242"></a>                <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243" href="#__codelineno-0-243"></a>                <span class="n">step_name</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244" href="#__codelineno-0-244"></a>                <span class="n">details</span><span class="o">=</span><span class="s2">&quot;All validation checks passed&quot;</span><span class="p">,</span>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245" href="#__codelineno-0-245"></a>                <span class="n">processing_time</span><span class="o">=</span><span class="n">processing_time</span>
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246" href="#__codelineno-0-246"></a>            <span class="p">)</span>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247" href="#__codelineno-0-247"></a>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248" href="#__codelineno-0-248"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">determine_approval_workflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">invoice</span><span class="p">:</span> <span class="n">InvoiceData</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProcessingResult</span><span class="p">:</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249" href="#__codelineno-0-249"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determine appropriate approval workflow based on business rules.&quot;&quot;&quot;</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250" href="#__codelineno-0-250"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251" href="#__codelineno-0-251"></a>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252" href="#__codelineno-0-252"></a>        <span class="n">approval_decision</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253" href="#__codelineno-0-253"></a>            <span class="s2">&quot;workflow_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254" href="#__codelineno-0-254"></a>            <span class="s2">&quot;approval_level&quot;</span><span class="p">:</span> <span class="s2">&quot;manager&quot;</span><span class="p">,</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255" href="#__codelineno-0-255"></a>            <span class="s2">&quot;reasons&quot;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256" href="#__codelineno-0-256"></a>            <span class="s2">&quot;auto_approve&quot;</span><span class="p">:</span> <span class="kc">False</span>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257" href="#__codelineno-0-257"></a>        <span class="p">}</span>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258" href="#__codelineno-0-258"></a>
</span><span id="__span-0-259"><a id="__codelineno-0-259" name="__codelineno-0-259" href="#__codelineno-0-259"></a>        <span class="c1"># Check for auto-approval</span>
</span><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260" href="#__codelineno-0-260"></a>        <span class="k">if</span> <span class="n">invoice</span><span class="o">.</span><span class="n">amount</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">approval_rules</span><span class="p">[</span><span class="s2">&quot;auto_approve_under&quot;</span><span class="p">]:</span>
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261" href="#__codelineno-0-261"></a>            <span class="n">vendor_key</span> <span class="o">=</span> <span class="n">invoice</span><span class="o">.</span><span class="n">vendor_name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262" href="#__codelineno-0-262"></a>            <span class="k">if</span> <span class="n">vendor_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vendor_database</span><span class="p">:</span>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263" href="#__codelineno-0-263"></a>                <span class="n">vendor_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vendor_database</span><span class="p">[</span><span class="n">vendor_key</span><span class="p">]</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264" href="#__codelineno-0-264"></a>                <span class="k">if</span> <span class="n">vendor_info</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;approved&quot;</span><span class="p">:</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265" href="#__codelineno-0-265"></a>                    <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;auto_approve&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-0-266"><a id="__codelineno-0-266" name="__codelineno-0-266" href="#__codelineno-0-266"></a>                    <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;workflow_type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;automatic&quot;</span>
</span><span id="__span-0-267"><a id="__codelineno-0-267" name="__codelineno-0-267" href="#__codelineno-0-267"></a>                    <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;reasons&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Below auto-approval threshold with approved vendor&quot;</span><span class="p">)</span>
</span><span id="__span-0-268"><a id="__codelineno-0-268" name="__codelineno-0-268" href="#__codelineno-0-268"></a>
</span><span id="__span-0-269"><a id="__codelineno-0-269" name="__codelineno-0-269" href="#__codelineno-0-269"></a>        <span class="c1"># Determine escalation level</span>
</span><span id="__span-0-270"><a id="__codelineno-0-270" name="__codelineno-0-270" href="#__codelineno-0-270"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;auto_approve&quot;</span><span class="p">]:</span>
</span><span id="__span-0-271"><a id="__codelineno-0-271" name="__codelineno-0-271" href="#__codelineno-0-271"></a>            <span class="n">amount</span> <span class="o">=</span> <span class="n">invoice</span><span class="o">.</span><span class="n">amount</span>
</span><span id="__span-0-272"><a id="__codelineno-0-272" name="__codelineno-0-272" href="#__codelineno-0-272"></a>            <span class="k">if</span> <span class="n">amount</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">approval_rules</span><span class="p">[</span><span class="s2">&quot;escalation_thresholds&quot;</span><span class="p">][</span><span class="s2">&quot;board_approval&quot;</span><span class="p">]:</span>
</span><span id="__span-0-273"><a id="__codelineno-0-273" name="__codelineno-0-273" href="#__codelineno-0-273"></a>                <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;approval_level&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;board&quot;</span>
</span><span id="__span-0-274"><a id="__codelineno-0-274" name="__codelineno-0-274" href="#__codelineno-0-274"></a>            <span class="k">elif</span> <span class="n">amount</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">approval_rules</span><span class="p">[</span><span class="s2">&quot;escalation_thresholds&quot;</span><span class="p">][</span><span class="s2">&quot;director_approval&quot;</span><span class="p">]:</span>
</span><span id="__span-0-275"><a id="__codelineno-0-275" name="__codelineno-0-275" href="#__codelineno-0-275"></a>                <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;approval_level&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;director&quot;</span>
</span><span id="__span-0-276"><a id="__codelineno-0-276" name="__codelineno-0-276" href="#__codelineno-0-276"></a>            <span class="k">elif</span> <span class="n">amount</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">approval_rules</span><span class="p">[</span><span class="s2">&quot;escalation_thresholds&quot;</span><span class="p">][</span><span class="s2">&quot;manager_approval&quot;</span><span class="p">]:</span>
</span><span id="__span-0-277"><a id="__codelineno-0-277" name="__codelineno-0-277" href="#__codelineno-0-277"></a>                <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;approval_level&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;manager&quot;</span>
</span><span id="__span-0-278"><a id="__codelineno-0-278" name="__codelineno-0-278" href="#__codelineno-0-278"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-279"><a id="__codelineno-0-279" name="__codelineno-0-279" href="#__codelineno-0-279"></a>                <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;approval_level&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;supervisor&quot;</span>
</span><span id="__span-0-280"><a id="__codelineno-0-280" name="__codelineno-0-280" href="#__codelineno-0-280"></a>
</span><span id="__span-0-281"><a id="__codelineno-0-281" name="__codelineno-0-281" href="#__codelineno-0-281"></a>            <span class="n">approval_decision</span><span class="p">[</span><span class="s2">&quot;reasons&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Amount $</span><span class="si">{</span><span class="n">amount</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> requires </span><span class="si">{</span><span class="n">approval_decision</span><span class="p">[</span><span class="s1">&#39;approval_level&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> approval&quot;</span><span class="p">)</span>
</span><span id="__span-0-282"><a id="__codelineno-0-282" name="__codelineno-0-282" href="#__codelineno-0-282"></a>
</span><span id="__span-0-283"><a id="__codelineno-0-283" name="__codelineno-0-283" href="#__codelineno-0-283"></a>        <span class="n">processing_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
</span><span id="__span-0-284"><a id="__codelineno-0-284" name="__codelineno-0-284" href="#__codelineno-0-284"></a>
</span><span id="__span-0-285"><a id="__codelineno-0-285" name="__codelineno-0-285" href="#__codelineno-0-285"></a>        <span class="k">return</span> <span class="n">ProcessingResult</span><span class="p">(</span>
</span><span id="__span-0-286"><a id="__codelineno-0-286" name="__codelineno-0-286" href="#__codelineno-0-286"></a>            <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-287"><a id="__codelineno-0-287" name="__codelineno-0-287" href="#__codelineno-0-287"></a>            <span class="n">step_name</span><span class="o">=</span><span class="s2">&quot;approval_determination&quot;</span><span class="p">,</span>
</span><span id="__span-0-288"><a id="__codelineno-0-288" name="__codelineno-0-288" href="#__codelineno-0-288"></a>            <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Workflow: </span><span class="si">{</span><span class="n">approval_decision</span><span class="p">[</span><span class="s1">&#39;workflow_type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Level: </span><span class="si">{</span><span class="n">approval_decision</span><span class="p">[</span><span class="s1">&#39;approval_level&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-0-289"><a id="__codelineno-0-289" name="__codelineno-0-289" href="#__codelineno-0-289"></a>            <span class="n">data</span><span class="o">=</span><span class="n">approval_decision</span><span class="p">,</span>
</span><span id="__span-0-290"><a id="__codelineno-0-290" name="__codelineno-0-290" href="#__codelineno-0-290"></a>            <span class="n">processing_time</span><span class="o">=</span><span class="n">processing_time</span>
</span><span id="__span-0-291"><a id="__codelineno-0-291" name="__codelineno-0-291" href="#__codelineno-0-291"></a>        <span class="p">)</span>
</span><span id="__span-0-292"><a id="__codelineno-0-292" name="__codelineno-0-292" href="#__codelineno-0-292"></a>
</span><span id="__span-0-293"><a id="__codelineno-0-293" name="__codelineno-0-293" href="#__codelineno-0-293"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">simulate_erp_integration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">invoice</span><span class="p">:</span> <span class="n">InvoiceData</span><span class="p">,</span> <span class="n">approval_result</span><span class="p">:</span> <span class="n">ProcessingResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProcessingResult</span><span class="p">:</span>
</span><span id="__span-0-294"><a id="__codelineno-0-294" name="__codelineno-0-294" href="#__codelineno-0-294"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate integration with ERP system for invoice recording.&quot;&quot;&quot;</span>
</span><span id="__span-0-295"><a id="__codelineno-0-295" name="__codelineno-0-295" href="#__codelineno-0-295"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="__span-0-296"><a id="__codelineno-0-296" name="__codelineno-0-296" href="#__codelineno-0-296"></a>
</span><span id="__span-0-297"><a id="__codelineno-0-297" name="__codelineno-0-297" href="#__codelineno-0-297"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Integrating invoice </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">invoice_number</span><span class="si">}</span><span class="s2"> with ERP system...&quot;</span><span class="p">)</span>
</span><span id="__span-0-298"><a id="__codelineno-0-298" name="__codelineno-0-298" href="#__codelineno-0-298"></a>
</span><span id="__span-0-299"><a id="__codelineno-0-299" name="__codelineno-0-299" href="#__codelineno-0-299"></a>        <span class="c1"># Simulate ERP API call delay</span>
</span><span id="__span-0-300"><a id="__codelineno-0-300" name="__codelineno-0-300" href="#__codelineno-0-300"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Realistic network delay</span>
</span><span id="__span-0-301"><a id="__codelineno-0-301" name="__codelineno-0-301" href="#__codelineno-0-301"></a>
</span><span id="__span-0-302"><a id="__codelineno-0-302" name="__codelineno-0-302" href="#__codelineno-0-302"></a>        <span class="c1"># Simulate ERP record creation</span>
</span><span id="__span-0-303"><a id="__codelineno-0-303" name="__codelineno-0-303" href="#__codelineno-0-303"></a>        <span class="n">erp_record</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-304"><a id="__codelineno-0-304" name="__codelineno-0-304" href="#__codelineno-0-304"></a>            <span class="s2">&quot;erp_id&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;ERP_</span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">invoice_number</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-0-305"><a id="__codelineno-0-305" name="__codelineno-0-305" href="#__codelineno-0-305"></a>            <span class="s2">&quot;vendor_id&quot;</span><span class="p">:</span> <span class="n">invoice</span><span class="o">.</span><span class="n">vendor_name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">),</span>
</span><span id="__span-0-306"><a id="__codelineno-0-306" name="__codelineno-0-306" href="#__codelineno-0-306"></a>            <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">invoice</span><span class="o">.</span><span class="n">amount</span><span class="p">,</span>
</span><span id="__span-0-307"><a id="__codelineno-0-307" name="__codelineno-0-307" href="#__codelineno-0-307"></a>            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;recorded&quot;</span><span class="p">,</span>
</span><span id="__span-0-308"><a id="__codelineno-0-308" name="__codelineno-0-308" href="#__codelineno-0-308"></a>            <span class="s2">&quot;approval_required&quot;</span><span class="p">:</span> <span class="ow">not</span> <span class="n">approval_result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;auto_approve&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
</span><span id="__span-0-309"><a id="__codelineno-0-309" name="__codelineno-0-309" href="#__codelineno-0-309"></a>            <span class="s2">&quot;created_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-0-310"><a id="__codelineno-0-310" name="__codelineno-0-310" href="#__codelineno-0-310"></a>        <span class="p">}</span>
</span><span id="__span-0-311"><a id="__codelineno-0-311" name="__codelineno-0-311" href="#__codelineno-0-311"></a>
</span><span id="__span-0-312"><a id="__codelineno-0-312" name="__codelineno-0-312" href="#__codelineno-0-312"></a>        <span class="n">processing_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
</span><span id="__span-0-313"><a id="__codelineno-0-313" name="__codelineno-0-313" href="#__codelineno-0-313"></a>
</span><span id="__span-0-314"><a id="__codelineno-0-314" name="__codelineno-0-314" href="#__codelineno-0-314"></a>        <span class="k">return</span> <span class="n">ProcessingResult</span><span class="p">(</span>
</span><span id="__span-0-315"><a id="__codelineno-0-315" name="__codelineno-0-315" href="#__codelineno-0-315"></a>            <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-316"><a id="__codelineno-0-316" name="__codelineno-0-316" href="#__codelineno-0-316"></a>            <span class="n">step_name</span><span class="o">=</span><span class="s2">&quot;erp_integration&quot;</span><span class="p">,</span>
</span><span id="__span-0-317"><a id="__codelineno-0-317" name="__codelineno-0-317" href="#__codelineno-0-317"></a>            <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invoice recorded in ERP with ID: </span><span class="si">{</span><span class="n">erp_record</span><span class="p">[</span><span class="s1">&#39;erp_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-0-318"><a id="__codelineno-0-318" name="__codelineno-0-318" href="#__codelineno-0-318"></a>            <span class="n">data</span><span class="o">=</span><span class="n">erp_record</span><span class="p">,</span>
</span><span id="__span-0-319"><a id="__codelineno-0-319" name="__codelineno-0-319" href="#__codelineno-0-319"></a>            <span class="n">processing_time</span><span class="o">=</span><span class="n">processing_time</span>
</span><span id="__span-0-320"><a id="__codelineno-0-320" name="__codelineno-0-320" href="#__codelineno-0-320"></a>        <span class="p">)</span>
</span><span id="__span-0-321"><a id="__codelineno-0-321" name="__codelineno-0-321" href="#__codelineno-0-321"></a>
</span><span id="__span-0-322"><a id="__codelineno-0-322" name="__codelineno-0-322" href="#__codelineno-0-322"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">send_notification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">invoice</span><span class="p">:</span> <span class="n">InvoiceData</span><span class="p">,</span> <span class="n">approval_result</span><span class="p">:</span> <span class="n">ProcessingResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProcessingResult</span><span class="p">:</span>
</span><span id="__span-0-323"><a id="__codelineno-0-323" name="__codelineno-0-323" href="#__codelineno-0-323"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Send notification emails based on processing results.&quot;&quot;&quot;</span>
</span><span id="__span-0-324"><a id="__codelineno-0-324" name="__codelineno-0-324" href="#__codelineno-0-324"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="__span-0-325"><a id="__codelineno-0-325" name="__codelineno-0-325" href="#__codelineno-0-325"></a>
</span><span id="__span-0-326"><a id="__codelineno-0-326" name="__codelineno-0-326" href="#__codelineno-0-326"></a>        <span class="c1"># Determine notification recipients</span>
</span><span id="__span-0-327"><a id="__codelineno-0-327" name="__codelineno-0-327" href="#__codelineno-0-327"></a>        <span class="n">recipients</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-328"><a id="__codelineno-0-328" name="__codelineno-0-328" href="#__codelineno-0-328"></a>        <span class="k">if</span> <span class="n">approval_result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;auto_approve&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="__span-0-329"><a id="__codelineno-0-329" name="__codelineno-0-329" href="#__codelineno-0-329"></a>            <span class="n">recipients</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;accounts_payable@company.com&quot;</span><span class="p">]</span>
</span><span id="__span-0-330"><a id="__codelineno-0-330" name="__codelineno-0-330" href="#__codelineno-0-330"></a>            <span class="n">subject</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Invoice Auto-Approved: </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">invoice_number</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-331"><a id="__codelineno-0-331" name="__codelineno-0-331" href="#__codelineno-0-331"></a>            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-0-332"><a id="__codelineno-0-332" name="__codelineno-0-332" href="#__codelineno-0-332"></a><span class="s2">Invoice </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">invoice_number</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">vendor_name</span><span class="si">}</span><span class="s2"> has been automatically approved.</span>
</span><span id="__span-0-333"><a id="__codelineno-0-333" name="__codelineno-0-333" href="#__codelineno-0-333"></a>
</span><span id="__span-0-334"><a id="__codelineno-0-334" name="__codelineno-0-334" href="#__codelineno-0-334"></a><span class="s2">Amount: $</span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">amount</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span>
</span><span id="__span-0-335"><a id="__codelineno-0-335" name="__codelineno-0-335" href="#__codelineno-0-335"></a><span class="s2">Due Date: </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">due_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-0-336"><a id="__codelineno-0-336" name="__codelineno-0-336" href="#__codelineno-0-336"></a><span class="s2">Status: Approved for payment</span>
</span><span id="__span-0-337"><a id="__codelineno-0-337" name="__codelineno-0-337" href="#__codelineno-0-337"></a>
</span><span id="__span-0-338"><a id="__codelineno-0-338" name="__codelineno-0-338" href="#__codelineno-0-338"></a><span class="s2">This invoice met all criteria for automatic approval and has been recorded in the ERP system.</span>
</span><span id="__span-0-339"><a id="__codelineno-0-339" name="__codelineno-0-339" href="#__codelineno-0-339"></a><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-0-340"><a id="__codelineno-0-340" name="__codelineno-0-340" href="#__codelineno-0-340"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-341"><a id="__codelineno-0-341" name="__codelineno-0-341" href="#__codelineno-0-341"></a>            <span class="n">recipients</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;notification_settings&quot;</span><span class="p">][</span><span class="s2">&quot;approval_email_list&quot;</span><span class="p">]</span>
</span><span id="__span-0-342"><a id="__codelineno-0-342" name="__codelineno-0-342" href="#__codelineno-0-342"></a>            <span class="n">approval_level</span> <span class="o">=</span> <span class="n">approval_result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;approval_level&quot;</span><span class="p">,</span> <span class="s2">&quot;manager&quot;</span><span class="p">)</span>
</span><span id="__span-0-343"><a id="__codelineno-0-343" name="__codelineno-0-343" href="#__codelineno-0-343"></a>            <span class="n">subject</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Approval Required: </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">invoice_number</span><span class="si">}</span><span class="s2"> ($</span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">amount</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">)&quot;</span>
</span><span id="__span-0-344"><a id="__codelineno-0-344" name="__codelineno-0-344" href="#__codelineno-0-344"></a>            <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-0-345"><a id="__codelineno-0-345" name="__codelineno-0-345" href="#__codelineno-0-345"></a><span class="s2">Invoice </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">invoice_number</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">vendor_name</span><span class="si">}</span><span class="s2"> requires </span><span class="si">{</span><span class="n">approval_level</span><span class="si">}</span><span class="s2"> approval.</span>
</span><span id="__span-0-346"><a id="__codelineno-0-346" name="__codelineno-0-346" href="#__codelineno-0-346"></a>
</span><span id="__span-0-347"><a id="__codelineno-0-347" name="__codelineno-0-347" href="#__codelineno-0-347"></a><span class="s2">Amount: $</span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">amount</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span>
</span><span id="__span-0-348"><a id="__codelineno-0-348" name="__codelineno-0-348" href="#__codelineno-0-348"></a><span class="s2">Due Date: </span><span class="si">{</span><span class="n">invoice</span><span class="o">.</span><span class="n">due_date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-0-349"><a id="__codelineno-0-349" name="__codelineno-0-349" href="#__codelineno-0-349"></a><span class="s2">Approval Level Required: </span><span class="si">{</span><span class="n">approval_level</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span>
</span><span id="__span-0-350"><a id="__codelineno-0-350" name="__codelineno-0-350" href="#__codelineno-0-350"></a>
</span><span id="__span-0-351"><a id="__codelineno-0-351" name="__codelineno-0-351" href="#__codelineno-0-351"></a><span class="s2">Please review and approve in the ERP system at your earliest convenience.</span>
</span><span id="__span-0-352"><a id="__codelineno-0-352" name="__codelineno-0-352" href="#__codelineno-0-352"></a>
</span><span id="__span-0-353"><a id="__codelineno-0-353" name="__codelineno-0-353" href="#__codelineno-0-353"></a><span class="s2">Line Items:</span>
</span><span id="__span-0-354"><a id="__codelineno-0-354" name="__codelineno-0-354" href="#__codelineno-0-354"></a><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-0-355"><a id="__codelineno-0-355" name="__codelineno-0-355" href="#__codelineno-0-355"></a>            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">invoice</span><span class="o">.</span><span class="n">line_items</span><span class="p">:</span>
</span><span id="__span-0-356"><a id="__codelineno-0-356" name="__codelineno-0-356" href="#__codelineno-0-356"></a>                <span class="n">message</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> × $</span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;unit_price&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> = $</span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-357"><a id="__codelineno-0-357" name="__codelineno-0-357" href="#__codelineno-0-357"></a>
</span><span id="__span-0-358"><a id="__codelineno-0-358" name="__codelineno-0-358" href="#__codelineno-0-358"></a>        <span class="c1"># Simulate email sending (in production, would use actual SMTP)</span>
</span><span id="__span-0-359"><a id="__codelineno-0-359" name="__codelineno-0-359" href="#__codelineno-0-359"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending notification to: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recipients</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-360"><a id="__codelineno-0-360" name="__codelineno-0-360" href="#__codelineno-0-360"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subject: </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-361"><a id="__codelineno-0-361" name="__codelineno-0-361" href="#__codelineno-0-361"></a>
</span><span id="__span-0-362"><a id="__codelineno-0-362" name="__codelineno-0-362" href="#__codelineno-0-362"></a>        <span class="n">processing_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
</span><span id="__span-0-363"><a id="__codelineno-0-363" name="__codelineno-0-363" href="#__codelineno-0-363"></a>
</span><span id="__span-0-364"><a id="__codelineno-0-364" name="__codelineno-0-364" href="#__codelineno-0-364"></a>        <span class="k">return</span> <span class="n">ProcessingResult</span><span class="p">(</span>
</span><span id="__span-0-365"><a id="__codelineno-0-365" name="__codelineno-0-365" href="#__codelineno-0-365"></a>            <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-366"><a id="__codelineno-0-366" name="__codelineno-0-366" href="#__codelineno-0-366"></a>            <span class="n">step_name</span><span class="o">=</span><span class="s2">&quot;notification&quot;</span><span class="p">,</span>
</span><span id="__span-0-367"><a id="__codelineno-0-367" name="__codelineno-0-367" href="#__codelineno-0-367"></a>            <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Notification sent to </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">recipients</span><span class="p">)</span><span class="si">}</span><span class="s2"> recipients&quot;</span><span class="p">,</span>
</span><span id="__span-0-368"><a id="__codelineno-0-368" name="__codelineno-0-368" href="#__codelineno-0-368"></a>            <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;recipients&quot;</span><span class="p">:</span> <span class="n">recipients</span><span class="p">,</span> <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="n">subject</span><span class="p">},</span>
</span><span id="__span-0-369"><a id="__codelineno-0-369" name="__codelineno-0-369" href="#__codelineno-0-369"></a>            <span class="n">processing_time</span><span class="o">=</span><span class="n">processing_time</span>
</span><span id="__span-0-370"><a id="__codelineno-0-370" name="__codelineno-0-370" href="#__codelineno-0-370"></a>        <span class="p">)</span>
</span><span id="__span-0-371"><a id="__codelineno-0-371" name="__codelineno-0-371" href="#__codelineno-0-371"></a>
</span><span id="__span-0-372"><a id="__codelineno-0-372" name="__codelineno-0-372" href="#__codelineno-0-372"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">process_invoice_workflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ProcessingResult</span><span class="p">]:</span>
</span><span id="__span-0-373"><a id="__codelineno-0-373" name="__codelineno-0-373" href="#__codelineno-0-373"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute complete invoice processing workflow.&quot;&quot;&quot;</span>
</span><span id="__span-0-374"><a id="__codelineno-0-374" name="__codelineno-0-374" href="#__codelineno-0-374"></a>        <span class="n">workflow_results</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-375"><a id="__codelineno-0-375" name="__codelineno-0-375" href="#__codelineno-0-375"></a>
</span><span id="__span-0-376"><a id="__codelineno-0-376" name="__codelineno-0-376" href="#__codelineno-0-376"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-377"><a id="__codelineno-0-377" name="__codelineno-0-377" href="#__codelineno-0-377"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting invoice processing workflow for: </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-378"><a id="__codelineno-0-378" name="__codelineno-0-378" href="#__codelineno-0-378"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-379"><a id="__codelineno-0-379" name="__codelineno-0-379" href="#__codelineno-0-379"></a>
</span><span id="__span-0-380"><a id="__codelineno-0-380" name="__codelineno-0-380" href="#__codelineno-0-380"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-381"><a id="__codelineno-0-381" name="__codelineno-0-381" href="#__codelineno-0-381"></a>            <span class="c1"># Step 1: OCR Extraction</span>
</span><span id="__span-0-382"><a id="__codelineno-0-382" name="__codelineno-0-382" href="#__codelineno-0-382"></a>            <span class="n">invoice_data</span><span class="p">,</span> <span class="n">confidence</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulate_ocr_extraction</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="__span-0-383"><a id="__codelineno-0-383" name="__codelineno-0-383" href="#__codelineno-0-383"></a>
</span><span id="__span-0-384"><a id="__codelineno-0-384" name="__codelineno-0-384" href="#__codelineno-0-384"></a>            <span class="c1"># Step 2: Data Validation</span>
</span><span id="__span-0-385"><a id="__codelineno-0-385" name="__codelineno-0-385" href="#__codelineno-0-385"></a>            <span class="n">validation_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_invoice_data</span><span class="p">(</span><span class="n">invoice_data</span><span class="p">,</span> <span class="n">confidence</span><span class="p">)</span>
</span><span id="__span-0-386"><a id="__codelineno-0-386" name="__codelineno-0-386" href="#__codelineno-0-386"></a>            <span class="n">workflow_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validation_result</span><span class="p">)</span>
</span><span id="__span-0-387"><a id="__codelineno-0-387" name="__codelineno-0-387" href="#__codelineno-0-387"></a>
</span><span id="__span-0-388"><a id="__codelineno-0-388" name="__codelineno-0-388" href="#__codelineno-0-388"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">validation_result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
</span><span id="__span-0-389"><a id="__codelineno-0-389" name="__codelineno-0-389" href="#__codelineno-0-389"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Validation failed: </span><span class="si">{</span><span class="n">validation_result</span><span class="o">.</span><span class="n">details</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-390"><a id="__codelineno-0-390" name="__codelineno-0-390" href="#__codelineno-0-390"></a>                <span class="k">return</span> <span class="n">workflow_results</span>
</span><span id="__span-0-391"><a id="__codelineno-0-391" name="__codelineno-0-391" href="#__codelineno-0-391"></a>
</span><span id="__span-0-392"><a id="__codelineno-0-392" name="__codelineno-0-392" href="#__codelineno-0-392"></a>            <span class="c1"># Step 3: Approval Workflow Determination</span>
</span><span id="__span-0-393"><a id="__codelineno-0-393" name="__codelineno-0-393" href="#__codelineno-0-393"></a>            <span class="n">approval_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">determine_approval_workflow</span><span class="p">(</span><span class="n">invoice_data</span><span class="p">)</span>
</span><span id="__span-0-394"><a id="__codelineno-0-394" name="__codelineno-0-394" href="#__codelineno-0-394"></a>            <span class="n">workflow_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">approval_result</span><span class="p">)</span>
</span><span id="__span-0-395"><a id="__codelineno-0-395" name="__codelineno-0-395" href="#__codelineno-0-395"></a>
</span><span id="__span-0-396"><a id="__codelineno-0-396" name="__codelineno-0-396" href="#__codelineno-0-396"></a>            <span class="c1"># Step 4: ERP Integration</span>
</span><span id="__span-0-397"><a id="__codelineno-0-397" name="__codelineno-0-397" href="#__codelineno-0-397"></a>            <span class="n">erp_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulate_erp_integration</span><span class="p">(</span><span class="n">invoice_data</span><span class="p">,</span> <span class="n">approval_result</span><span class="p">)</span>
</span><span id="__span-0-398"><a id="__codelineno-0-398" name="__codelineno-0-398" href="#__codelineno-0-398"></a>            <span class="n">workflow_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">erp_result</span><span class="p">)</span>
</span><span id="__span-0-399"><a id="__codelineno-0-399" name="__codelineno-0-399" href="#__codelineno-0-399"></a>
</span><span id="__span-0-400"><a id="__codelineno-0-400" name="__codelineno-0-400" href="#__codelineno-0-400"></a>            <span class="c1"># Step 5: Notifications</span>
</span><span id="__span-0-401"><a id="__codelineno-0-401" name="__codelineno-0-401" href="#__codelineno-0-401"></a>            <span class="n">notification_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_notification</span><span class="p">(</span><span class="n">invoice_data</span><span class="p">,</span> <span class="n">approval_result</span><span class="p">)</span>
</span><span id="__span-0-402"><a id="__codelineno-0-402" name="__codelineno-0-402" href="#__codelineno-0-402"></a>            <span class="n">workflow_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">notification_result</span><span class="p">)</span>
</span><span id="__span-0-403"><a id="__codelineno-0-403" name="__codelineno-0-403" href="#__codelineno-0-403"></a>
</span><span id="__span-0-404"><a id="__codelineno-0-404" name="__codelineno-0-404" href="#__codelineno-0-404"></a>            <span class="c1"># Update invoice status</span>
</span><span id="__span-0-405"><a id="__codelineno-0-405" name="__codelineno-0-405" href="#__codelineno-0-405"></a>            <span class="k">if</span> <span class="n">approval_result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;auto_approve&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="__span-0-406"><a id="__codelineno-0-406" name="__codelineno-0-406" href="#__codelineno-0-406"></a>                <span class="n">invoice_data</span><span class="o">.</span><span class="n">approval_status</span> <span class="o">=</span> <span class="s2">&quot;approved&quot;</span>
</span><span id="__span-0-407"><a id="__codelineno-0-407" name="__codelineno-0-407" href="#__codelineno-0-407"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-408"><a id="__codelineno-0-408" name="__codelineno-0-408" href="#__codelineno-0-408"></a>                <span class="n">invoice_data</span><span class="o">.</span><span class="n">approval_status</span> <span class="o">=</span> <span class="s2">&quot;pending_approval&quot;</span>
</span><span id="__span-0-409"><a id="__codelineno-0-409" name="__codelineno-0-409" href="#__codelineno-0-409"></a>
</span><span id="__span-0-410"><a id="__codelineno-0-410" name="__codelineno-0-410" href="#__codelineno-0-410"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ Invoice processing completed successfully&quot;</span><span class="p">)</span>
</span><span id="__span-0-411"><a id="__codelineno-0-411" name="__codelineno-0-411" href="#__codelineno-0-411"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Status: </span><span class="si">{</span><span class="n">invoice_data</span><span class="o">.</span><span class="n">approval_status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-412"><a id="__codelineno-0-412" name="__codelineno-0-412" href="#__codelineno-0-412"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Total processing time: </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">processing_time</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">workflow_results</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
</span><span id="__span-0-413"><a id="__codelineno-0-413" name="__codelineno-0-413" href="#__codelineno-0-413"></a>
</span><span id="__span-0-414"><a id="__codelineno-0-414" name="__codelineno-0-414" href="#__codelineno-0-414"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-415"><a id="__codelineno-0-415" name="__codelineno-0-415" href="#__codelineno-0-415"></a>            <span class="n">error_result</span> <span class="o">=</span> <span class="n">ProcessingResult</span><span class="p">(</span>
</span><span id="__span-0-416"><a id="__codelineno-0-416" name="__codelineno-0-416" href="#__codelineno-0-416"></a>                <span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-0-417"><a id="__codelineno-0-417" name="__codelineno-0-417" href="#__codelineno-0-417"></a>                <span class="n">step_name</span><span class="o">=</span><span class="s2">&quot;workflow_error&quot;</span><span class="p">,</span>
</span><span id="__span-0-418"><a id="__codelineno-0-418" name="__codelineno-0-418" href="#__codelineno-0-418"></a>                <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Unexpected error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-0-419"><a id="__codelineno-0-419" name="__codelineno-0-419" href="#__codelineno-0-419"></a>                <span class="n">processing_time</span><span class="o">=</span><span class="mf">0.0</span>
</span><span id="__span-0-420"><a id="__codelineno-0-420" name="__codelineno-0-420" href="#__codelineno-0-420"></a>            <span class="p">)</span>
</span><span id="__span-0-421"><a id="__codelineno-0-421" name="__codelineno-0-421" href="#__codelineno-0-421"></a>            <span class="n">workflow_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error_result</span><span class="p">)</span>
</span><span id="__span-0-422"><a id="__codelineno-0-422" name="__codelineno-0-422" href="#__codelineno-0-422"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ Workflow failed with error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-423"><a id="__codelineno-0-423" name="__codelineno-0-423" href="#__codelineno-0-423"></a>
</span><span id="__span-0-424"><a id="__codelineno-0-424" name="__codelineno-0-424" href="#__codelineno-0-424"></a>        <span class="k">return</span> <span class="n">workflow_results</span>
</span><span id="__span-0-425"><a id="__codelineno-0-425" name="__codelineno-0-425" href="#__codelineno-0-425"></a>
</span><span id="__span-0-426"><a id="__codelineno-0-426" name="__codelineno-0-426" href="#__codelineno-0-426"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">run_batch_processing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">any</span><span class="p">]:</span>
</span><span id="__span-0-427"><a id="__codelineno-0-427" name="__codelineno-0-427" href="#__codelineno-0-427"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Run batch processing of multiple invoices.&quot;&quot;&quot;</span>
</span><span id="__span-0-428"><a id="__codelineno-0-428" name="__codelineno-0-428" href="#__codelineno-0-428"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting RPA Invoice Processing System&quot;</span><span class="p">)</span>
</span><span id="__span-0-429"><a id="__codelineno-0-429" name="__codelineno-0-429" href="#__codelineno-0-429"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-0-430"><a id="__codelineno-0-430" name="__codelineno-0-430" href="#__codelineno-0-430"></a>
</span><span id="__span-0-431"><a id="__codelineno-0-431" name="__codelineno-0-431" href="#__codelineno-0-431"></a>        <span class="c1"># Monitor for new invoices</span>
</span><span id="__span-0-432"><a id="__codelineno-0-432" name="__codelineno-0-432" href="#__codelineno-0-432"></a>        <span class="n">invoice_files</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulate_email_monitoring</span><span class="p">()</span>
</span><span id="__span-0-433"><a id="__codelineno-0-433" name="__codelineno-0-433" href="#__codelineno-0-433"></a>
</span><span id="__span-0-434"><a id="__codelineno-0-434" name="__codelineno-0-434" href="#__codelineno-0-434"></a>        <span class="n">batch_results</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-435"><a id="__codelineno-0-435" name="__codelineno-0-435" href="#__codelineno-0-435"></a>            <span class="s2">&quot;total_processed&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">invoice_files</span><span class="p">),</span>
</span><span id="__span-0-436"><a id="__codelineno-0-436" name="__codelineno-0-436" href="#__codelineno-0-436"></a>            <span class="s2">&quot;successful&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-437"><a id="__codelineno-0-437" name="__codelineno-0-437" href="#__codelineno-0-437"></a>            <span class="s2">&quot;failed&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-438"><a id="__codelineno-0-438" name="__codelineno-0-438" href="#__codelineno-0-438"></a>            <span class="s2">&quot;auto_approved&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-439"><a id="__codelineno-0-439" name="__codelineno-0-439" href="#__codelineno-0-439"></a>            <span class="s2">&quot;pending_approval&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-440"><a id="__codelineno-0-440" name="__codelineno-0-440" href="#__codelineno-0-440"></a>            <span class="s2">&quot;processing_details&quot;</span><span class="p">:</span> <span class="p">[]</span>
</span><span id="__span-0-441"><a id="__codelineno-0-441" name="__codelineno-0-441" href="#__codelineno-0-441"></a>        <span class="p">}</span>
</span><span id="__span-0-442"><a id="__codelineno-0-442" name="__codelineno-0-442" href="#__codelineno-0-442"></a>
</span><span id="__span-0-443"><a id="__codelineno-0-443" name="__codelineno-0-443" href="#__codelineno-0-443"></a>        <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">invoice_files</span><span class="p">:</span>
</span><span id="__span-0-444"><a id="__codelineno-0-444" name="__codelineno-0-444" href="#__codelineno-0-444"></a>            <span class="n">workflow_results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_invoice_workflow</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="__span-0-445"><a id="__codelineno-0-445" name="__codelineno-0-445" href="#__codelineno-0-445"></a>
</span><span id="__span-0-446"><a id="__codelineno-0-446" name="__codelineno-0-446" href="#__codelineno-0-446"></a>            <span class="c1"># Analyze results</span>
</span><span id="__span-0-447"><a id="__codelineno-0-447" name="__codelineno-0-447" href="#__codelineno-0-447"></a>            <span class="n">workflow_successful</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">success</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">workflow_results</span><span class="p">)</span>
</span><span id="__span-0-448"><a id="__codelineno-0-448" name="__codelineno-0-448" href="#__codelineno-0-448"></a>
</span><span id="__span-0-449"><a id="__codelineno-0-449" name="__codelineno-0-449" href="#__codelineno-0-449"></a>            <span class="k">if</span> <span class="n">workflow_successful</span><span class="p">:</span>
</span><span id="__span-0-450"><a id="__codelineno-0-450" name="__codelineno-0-450" href="#__codelineno-0-450"></a>                <span class="n">batch_results</span><span class="p">[</span><span class="s2">&quot;successful&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-451"><a id="__codelineno-0-451" name="__codelineno-0-451" href="#__codelineno-0-451"></a>
</span><span id="__span-0-452"><a id="__codelineno-0-452" name="__codelineno-0-452" href="#__codelineno-0-452"></a>                <span class="c1"># Check if auto-approved</span>
</span><span id="__span-0-453"><a id="__codelineno-0-453" name="__codelineno-0-453" href="#__codelineno-0-453"></a>                <span class="n">approval_result</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">workflow_results</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">step_name</span> <span class="o">==</span> <span class="s2">&quot;approval_determination&quot;</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="__span-0-454"><a id="__codelineno-0-454" name="__codelineno-0-454" href="#__codelineno-0-454"></a>                <span class="k">if</span> <span class="n">approval_result</span> <span class="ow">and</span> <span class="n">approval_result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;auto_approve&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="__span-0-455"><a id="__codelineno-0-455" name="__codelineno-0-455" href="#__codelineno-0-455"></a>                    <span class="n">batch_results</span><span class="p">[</span><span class="s2">&quot;auto_approved&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-456"><a id="__codelineno-0-456" name="__codelineno-0-456" href="#__codelineno-0-456"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-457"><a id="__codelineno-0-457" name="__codelineno-0-457" href="#__codelineno-0-457"></a>                    <span class="n">batch_results</span><span class="p">[</span><span class="s2">&quot;pending_approval&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-458"><a id="__codelineno-0-458" name="__codelineno-0-458" href="#__codelineno-0-458"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-459"><a id="__codelineno-0-459" name="__codelineno-0-459" href="#__codelineno-0-459"></a>                <span class="n">batch_results</span><span class="p">[</span><span class="s2">&quot;failed&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-460"><a id="__codelineno-0-460" name="__codelineno-0-460" href="#__codelineno-0-460"></a>
</span><span id="__span-0-461"><a id="__codelineno-0-461" name="__codelineno-0-461" href="#__codelineno-0-461"></a>            <span class="n">batch_results</span><span class="p">[</span><span class="s2">&quot;processing_details&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
</span><span id="__span-0-462"><a id="__codelineno-0-462" name="__codelineno-0-462" href="#__codelineno-0-462"></a>                <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">file_path</span><span class="p">,</span>
</span><span id="__span-0-463"><a id="__codelineno-0-463" name="__codelineno-0-463" href="#__codelineno-0-463"></a>                <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">workflow_successful</span><span class="p">,</span>
</span><span id="__span-0-464"><a id="__codelineno-0-464" name="__codelineno-0-464" href="#__codelineno-0-464"></a>                <span class="s2">&quot;steps&quot;</span><span class="p">:</span> <span class="n">workflow_results</span>
</span><span id="__span-0-465"><a id="__codelineno-0-465" name="__codelineno-0-465" href="#__codelineno-0-465"></a>            <span class="p">})</span>
</span><span id="__span-0-466"><a id="__codelineno-0-466" name="__codelineno-0-466" href="#__codelineno-0-466"></a>
</span><span id="__span-0-467"><a id="__codelineno-0-467" name="__codelineno-0-467" href="#__codelineno-0-467"></a>        <span class="c1"># Print summary</span>
</span><span id="__span-0-468"><a id="__codelineno-0-468" name="__codelineno-0-468" href="#__codelineno-0-468"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-469"><a id="__codelineno-0-469" name="__codelineno-0-469" href="#__codelineno-0-469"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Batch Processing Summary&quot;</span><span class="p">)</span>
</span><span id="__span-0-470"><a id="__codelineno-0-470" name="__codelineno-0-470" href="#__codelineno-0-470"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-471"><a id="__codelineno-0-471" name="__codelineno-0-471" href="#__codelineno-0-471"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total Invoices: </span><span class="si">{</span><span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;total_processed&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-472"><a id="__codelineno-0-472" name="__codelineno-0-472" href="#__codelineno-0-472"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Successfully Processed: </span><span class="si">{</span><span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;successful&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-473"><a id="__codelineno-0-473" name="__codelineno-0-473" href="#__codelineno-0-473"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed: </span><span class="si">{</span><span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;failed&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-474"><a id="__codelineno-0-474" name="__codelineno-0-474" href="#__codelineno-0-474"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Auto-Approved: </span><span class="si">{</span><span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;auto_approved&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-475"><a id="__codelineno-0-475" name="__codelineno-0-475" href="#__codelineno-0-475"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pending Manual Approval: </span><span class="si">{</span><span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;pending_approval&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-476"><a id="__codelineno-0-476" name="__codelineno-0-476" href="#__codelineno-0-476"></a>
</span><span id="__span-0-477"><a id="__codelineno-0-477" name="__codelineno-0-477" href="#__codelineno-0-477"></a>        <span class="n">success_rate</span> <span class="o">=</span> <span class="p">(</span><span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;successful&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;total_processed&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="__span-0-478"><a id="__codelineno-0-478" name="__codelineno-0-478" href="#__codelineno-0-478"></a>        <span class="n">automation_rate</span> <span class="o">=</span> <span class="p">(</span><span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;auto_approved&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;successful&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span> <span class="k">if</span> <span class="n">batch_results</span><span class="p">[</span><span class="s1">&#39;successful&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="__span-0-479"><a id="__codelineno-0-479" name="__codelineno-0-479" href="#__codelineno-0-479"></a>
</span><span id="__span-0-480"><a id="__codelineno-0-480" name="__codelineno-0-480" href="#__codelineno-0-480"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Success Rate: </span><span class="si">{</span><span class="n">success_rate</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-0-481"><a id="__codelineno-0-481" name="__codelineno-0-481" href="#__codelineno-0-481"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Automation Rate: </span><span class="si">{</span><span class="n">automation_rate</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-0-482"><a id="__codelineno-0-482" name="__codelineno-0-482" href="#__codelineno-0-482"></a>
</span><span id="__span-0-483"><a id="__codelineno-0-483" name="__codelineno-0-483" href="#__codelineno-0-483"></a>        <span class="k">return</span> <span class="n">batch_results</span>
</span><span id="__span-0-484"><a id="__codelineno-0-484" name="__codelineno-0-484" href="#__codelineno-0-484"></a>
</span><span id="__span-0-485"><a id="__codelineno-0-485" name="__codelineno-0-485" href="#__codelineno-0-485"></a><span class="c1">#### 2. Data Migration Automation</span>
</span><span id="__span-0-486"><a id="__codelineno-0-486" name="__codelineno-0-486" href="#__codelineno-0-486"></a>
</span><span id="__span-0-487"><a id="__codelineno-0-487" name="__codelineno-0-487" href="#__codelineno-0-487"></a><span class="o">**</span><span class="n">Business</span> <span class="n">Challenge</span><span class="o">**</span><span class="p">:</span> <span class="n">Moving</span> <span class="n">data</span> <span class="n">between</span> <span class="n">systems</span> <span class="n">during</span> <span class="n">upgrades</span> <span class="ow">or</span> <span class="n">integrations</span> <span class="n">requires</span> <span class="n">careful</span> <span class="n">mapping</span><span class="p">,</span> <span class="n">validation</span><span class="p">,</span> <span class="ow">and</span> <span class="n">error</span> <span class="n">handling</span><span class="o">.</span>
</span><span id="__span-0-488"><a id="__codelineno-0-488" name="__codelineno-0-488" href="#__codelineno-0-488"></a>
</span><span id="__span-0-489"><a id="__codelineno-0-489" name="__codelineno-0-489" href="#__codelineno-0-489"></a><span class="err">```</span><span class="n">python</span>
</span><span id="__span-0-490"><a id="__codelineno-0-490" name="__codelineno-0-490" href="#__codelineno-0-490"></a>
</span><span id="__span-0-491"><a id="__codelineno-0-491" name="__codelineno-0-491" href="#__codelineno-0-491"></a><span class="kn">import</span><span class="w"> </span><span class="nn">csv</span>
</span><span id="__span-0-492"><a id="__codelineno-0-492" name="__codelineno-0-492" href="#__codelineno-0-492"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-0-493"><a id="__codelineno-0-493" name="__codelineno-0-493" href="#__codelineno-0-493"></a><span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>
</span><span id="__span-0-494"><a id="__codelineno-0-494" name="__codelineno-0-494" href="#__codelineno-0-494"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span>
</span><span id="__span-0-495"><a id="__codelineno-0-495" name="__codelineno-0-495" href="#__codelineno-0-495"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">asdict</span>
</span><span id="__span-0-496"><a id="__codelineno-0-496" name="__codelineno-0-496" href="#__codelineno-0-496"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
</span><span id="__span-0-497"><a id="__codelineno-0-497" name="__codelineno-0-497" href="#__codelineno-0-497"></a><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
</span><span id="__span-0-498"><a id="__codelineno-0-498" name="__codelineno-0-498" href="#__codelineno-0-498"></a>
</span><span id="__span-0-499"><a id="__codelineno-0-499" name="__codelineno-0-499" href="#__codelineno-0-499"></a><span class="nd">@dataclass</span>
</span><span id="__span-0-500"><a id="__codelineno-0-500" name="__codelineno-0-500" href="#__codelineno-0-500"></a><span class="k">class</span><span class="w"> </span><span class="nc">MigrationRecord</span><span class="p">:</span>
</span><span id="__span-0-501"><a id="__codelineno-0-501" name="__codelineno-0-501" href="#__codelineno-0-501"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a single record in data migration.&quot;&quot;&quot;</span>
</span><span id="__span-0-502"><a id="__codelineno-0-502" name="__codelineno-0-502" href="#__codelineno-0-502"></a>    <span class="n">source_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-503"><a id="__codelineno-0-503" name="__codelineno-0-503" href="#__codelineno-0-503"></a>    <span class="n">source_system</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-504"><a id="__codelineno-0-504" name="__codelineno-0-504" href="#__codelineno-0-504"></a>    <span class="n">target_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-505"><a id="__codelineno-0-505" name="__codelineno-0-505" href="#__codelineno-0-505"></a>    <span class="n">target_system</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-506"><a id="__codelineno-0-506" name="__codelineno-0-506" href="#__codelineno-0-506"></a>    <span class="n">migration_status</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;pending&quot;</span>  <span class="c1"># pending, success, failed, skipped</span>
</span><span id="__span-0-507"><a id="__codelineno-0-507" name="__codelineno-0-507" href="#__codelineno-0-507"></a>    <span class="n">error_message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-508"><a id="__codelineno-0-508" name="__codelineno-0-508" href="#__codelineno-0-508"></a>    <span class="n">migrated_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-509"><a id="__codelineno-0-509" name="__codelineno-0-509" href="#__codelineno-0-509"></a>    <span class="n">validation_passed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-0-510"><a id="__codelineno-0-510" name="__codelineno-0-510" href="#__codelineno-0-510"></a>
</span><span id="__span-0-511"><a id="__codelineno-0-511" name="__codelineno-0-511" href="#__codelineno-0-511"></a><span class="nd">@dataclass</span>
</span><span id="__span-0-512"><a id="__codelineno-0-512" name="__codelineno-0-512" href="#__codelineno-0-512"></a><span class="k">class</span><span class="w"> </span><span class="nc">DataMappingRule</span><span class="p">:</span>
</span><span id="__span-0-513"><a id="__codelineno-0-513" name="__codelineno-0-513" href="#__codelineno-0-513"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Defines how to map data between systems.&quot;&quot;&quot;</span>
</span><span id="__span-0-514"><a id="__codelineno-0-514" name="__codelineno-0-514" href="#__codelineno-0-514"></a>    <span class="n">source_field</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-515"><a id="__codelineno-0-515" name="__codelineno-0-515" href="#__codelineno-0-515"></a>    <span class="n">target_field</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-516"><a id="__codelineno-0-516" name="__codelineno-0-516" href="#__codelineno-0-516"></a>    <span class="n">transformation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Function name for data transformation</span>
</span><span id="__span-0-517"><a id="__codelineno-0-517" name="__codelineno-0-517" href="#__codelineno-0-517"></a>    <span class="n">required</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-0-518"><a id="__codelineno-0-518" name="__codelineno-0-518" href="#__codelineno-0-518"></a>    <span class="n">default_value</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-519"><a id="__codelineno-0-519" name="__codelineno-0-519" href="#__codelineno-0-519"></a>
</span><span id="__span-0-520"><a id="__codelineno-0-520" name="__codelineno-0-520" href="#__codelineno-0-520"></a><span class="k">class</span><span class="w"> </span><span class="nc">DataMigrationRPA</span><span class="p">:</span>
</span><span id="__span-0-521"><a id="__codelineno-0-521" name="__codelineno-0-521" href="#__codelineno-0-521"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-522"><a id="__codelineno-0-522" name="__codelineno-0-522" href="#__codelineno-0-522"></a><span class="sd">    RPA system for automated data migration between systems.</span>
</span><span id="__span-0-523"><a id="__codelineno-0-523" name="__codelineno-0-523" href="#__codelineno-0-523"></a><span class="sd">    Demonstrates systematic approach to data transfer challenges.</span>
</span><span id="__span-0-524"><a id="__codelineno-0-524" name="__codelineno-0-524" href="#__codelineno-0-524"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-525"><a id="__codelineno-0-525" name="__codelineno-0-525" href="#__codelineno-0-525"></a>
</span><span id="__span-0-526"><a id="__codelineno-0-526" name="__codelineno-0-526" href="#__codelineno-0-526"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-527"><a id="__codelineno-0-527" name="__codelineno-0-527" href="#__codelineno-0-527"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">migration_log</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-528"><a id="__codelineno-0-528" name="__codelineno-0-528" href="#__codelineno-0-528"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">field_mappings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_field_mappings</span><span class="p">()</span>
</span><span id="__span-0-529"><a id="__codelineno-0-529" name="__codelineno-0-529" href="#__codelineno-0-529"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">transformation_functions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_transformations</span><span class="p">()</span>
</span><span id="__span-0-530"><a id="__codelineno-0-530" name="__codelineno-0-530" href="#__codelineno-0-530"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">validation_rules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_validation_rules</span><span class="p">()</span>
</span><span id="__span-0-531"><a id="__codelineno-0-531" name="__codelineno-0-531" href="#__codelineno-0-531"></a>
</span><span id="__span-0-532"><a id="__codelineno-0-532" name="__codelineno-0-532" href="#__codelineno-0-532"></a>        <span class="c1">## Setup logging</span>
</span><span id="__span-0-533"><a id="__codelineno-0-533" name="__codelineno-0-533" href="#__codelineno-0-533"></a>
</span><span id="__span-0-534"><a id="__codelineno-0-534" name="__codelineno-0-534" href="#__codelineno-0-534"></a>        <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="__span-0-535"><a id="__codelineno-0-535" name="__codelineno-0-535" href="#__codelineno-0-535"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="__span-0-536"><a id="__codelineno-0-536" name="__codelineno-0-536" href="#__codelineno-0-536"></a>
</span><span id="__span-0-537"><a id="__codelineno-0-537" name="__codelineno-0-537" href="#__codelineno-0-537"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_field_mappings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">DataMappingRule</span><span class="p">]]:</span>
</span><span id="__span-0-538"><a id="__codelineno-0-538" name="__codelineno-0-538" href="#__codelineno-0-538"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize field mapping rules for different migration types.&quot;&quot;&quot;</span>
</span><span id="__span-0-539"><a id="__codelineno-0-539" name="__codelineno-0-539" href="#__codelineno-0-539"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-0-540"><a id="__codelineno-0-540" name="__codelineno-0-540" href="#__codelineno-0-540"></a>            <span class="s2">&quot;customer_migration&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-0-541"><a id="__codelineno-0-541" name="__codelineno-0-541" href="#__codelineno-0-541"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;cust_id&quot;</span><span class="p">,</span> <span class="s2">&quot;customer_id&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-0-542"><a id="__codelineno-0-542" name="__codelineno-0-542" href="#__codelineno-0-542"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;cust_name&quot;</span><span class="p">,</span> <span class="s2">&quot;full_name&quot;</span><span class="p">,</span> <span class="s2">&quot;clean_name&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-0-543"><a id="__codelineno-0-543" name="__codelineno-0-543" href="#__codelineno-0-543"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;email_addr&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="s2">&quot;normalize_email&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-0-544"><a id="__codelineno-0-544" name="__codelineno-0-544" href="#__codelineno-0-544"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;phone_num&quot;</span><span class="p">,</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span> <span class="s2">&quot;format_phone&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
</span><span id="__span-0-545"><a id="__codelineno-0-545" name="__codelineno-0-545" href="#__codelineno-0-545"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;created_dt&quot;</span><span class="p">,</span> <span class="s2">&quot;registration_date&quot;</span><span class="p">,</span> <span class="s2">&quot;parse_date&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-0-546"><a id="__codelineno-0-546" name="__codelineno-0-546" href="#__codelineno-0-546"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;status_cd&quot;</span><span class="p">,</span> <span class="s2">&quot;account_status&quot;</span><span class="p">,</span> <span class="s2">&quot;map_status_code&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="s2">&quot;active&quot;</span><span class="p">)</span>
</span><span id="__span-0-547"><a id="__codelineno-0-547" name="__codelineno-0-547" href="#__codelineno-0-547"></a>            <span class="p">],</span>
</span><span id="__span-0-548"><a id="__codelineno-0-548" name="__codelineno-0-548" href="#__codelineno-0-548"></a>            <span class="s2">&quot;product_migration&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-0-549"><a id="__codelineno-0-549" name="__codelineno-0-549" href="#__codelineno-0-549"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;prod_id&quot;</span><span class="p">,</span> <span class="s2">&quot;product_id&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-0-550"><a id="__codelineno-0-550" name="__codelineno-0-550" href="#__codelineno-0-550"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;prod_name&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;clean_product_name&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-0-551"><a id="__codelineno-0-551" name="__codelineno-0-551" href="#__codelineno-0-551"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;price&quot;</span><span class="p">,</span> <span class="s2">&quot;unit_price&quot;</span><span class="p">,</span> <span class="s2">&quot;parse_currency&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-0-552"><a id="__codelineno-0-552" name="__codelineno-0-552" href="#__codelineno-0-552"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;category&quot;</span><span class="p">,</span> <span class="s2">&quot;category_id&quot;</span><span class="p">,</span> <span class="s2">&quot;map_category&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="__span-0-553"><a id="__codelineno-0-553" name="__codelineno-0-553" href="#__codelineno-0-553"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;clean_text&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
</span><span id="__span-0-554"><a id="__codelineno-0-554" name="__codelineno-0-554" href="#__codelineno-0-554"></a>                <span class="n">DataMappingRule</span><span class="p">(</span><span class="s2">&quot;active_flag&quot;</span><span class="p">,</span> <span class="s2">&quot;is_active&quot;</span><span class="p">,</span> <span class="s2">&quot;parse_boolean&quot;</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-555"><a id="__codelineno-0-555" name="__codelineno-0-555" href="#__codelineno-0-555"></a>            <span class="p">]</span>
</span><span id="__span-0-556"><a id="__codelineno-0-556" name="__codelineno-0-556" href="#__codelineno-0-556"></a>        <span class="p">}</span>
</span><span id="__span-0-557"><a id="__codelineno-0-557" name="__codelineno-0-557" href="#__codelineno-0-557"></a>
</span><span id="__span-0-558"><a id="__codelineno-0-558" name="__codelineno-0-558" href="#__codelineno-0-558"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_transformations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">callable</span><span class="p">]:</span>
</span><span id="__span-0-559"><a id="__codelineno-0-559" name="__codelineno-0-559" href="#__codelineno-0-559"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize data transformation functions.&quot;&quot;&quot;</span>
</span><span id="__span-0-560"><a id="__codelineno-0-560" name="__codelineno-0-560" href="#__codelineno-0-560"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-0-561"><a id="__codelineno-0-561" name="__codelineno-0-561" href="#__codelineno-0-561"></a>            <span class="s2">&quot;clean_name&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">title</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-562"><a id="__codelineno-0-562" name="__codelineno-0-562" href="#__codelineno-0-562"></a>            <span class="s2">&quot;normalize_email&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-563"><a id="__codelineno-0-563" name="__codelineno-0-563" href="#__codelineno-0-563"></a>            <span class="s2">&quot;format_phone&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_phone_number</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
</span><span id="__span-0-564"><a id="__codelineno-0-564" name="__codelineno-0-564" href="#__codelineno-0-564"></a>            <span class="s2">&quot;parse_date&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_date_string</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
</span><span id="__span-0-565"><a id="__codelineno-0-565" name="__codelineno-0-565" href="#__codelineno-0-565"></a>            <span class="s2">&quot;map_status_code&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span> <span class="s2">&quot;I&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span><span class="p">:</span> <span class="s2">&quot;suspended&quot;</span><span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;unknown&quot;</span><span class="p">),</span>
</span><span id="__span-0-566"><a id="__codelineno-0-566" name="__codelineno-0-566" href="#__codelineno-0-566"></a>            <span class="s2">&quot;clean_product_name&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-0-567"><a id="__codelineno-0-567" name="__codelineno-0-567" href="#__codelineno-0-567"></a>            <span class="s2">&quot;parse_currency&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;$&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-0-568"><a id="__codelineno-0-568" name="__codelineno-0-568" href="#__codelineno-0-568"></a>            <span class="s2">&quot;map_category&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map_product_category</span><span class="p">(</span><span class="n">x</span><span class="p">),</span>
</span><span id="__span-0-569"><a id="__codelineno-0-569" name="__codelineno-0-569" href="#__codelineno-0-569"></a>            <span class="s2">&quot;clean_text&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()[:</span><span class="mi">500</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>  <span class="c1"># Limit to 500 chars</span>
</span><span id="__span-0-570"><a id="__codelineno-0-570" name="__codelineno-0-570" href="#__codelineno-0-570"></a>            <span class="s2">&quot;parse_boolean&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;active&quot;</span><span class="p">]</span>
</span><span id="__span-0-571"><a id="__codelineno-0-571" name="__codelineno-0-571" href="#__codelineno-0-571"></a>        <span class="p">}</span>
</span><span id="__span-0-572"><a id="__codelineno-0-572" name="__codelineno-0-572" href="#__codelineno-0-572"></a>
</span><span id="__span-0-573"><a id="__codelineno-0-573" name="__codelineno-0-573" href="#__codelineno-0-573"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_validation_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">callable</span><span class="p">]]:</span>
</span><span id="__span-0-574"><a id="__codelineno-0-574" name="__codelineno-0-574" href="#__codelineno-0-574"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize validation rules for migrated data.&quot;&quot;&quot;</span>
</span><span id="__span-0-575"><a id="__codelineno-0-575" name="__codelineno-0-575" href="#__codelineno-0-575"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-0-576"><a id="__codelineno-0-576" name="__codelineno-0-576" href="#__codelineno-0-576"></a>            <span class="s2">&quot;customer_migration&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-0-577"><a id="__codelineno-0-577" name="__codelineno-0-577" href="#__codelineno-0-577"></a>                <span class="k">lambda</span> <span class="n">record</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_email</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
</span><span id="__span-0-578"><a id="__codelineno-0-578" name="__codelineno-0-578" href="#__codelineno-0-578"></a>                <span class="k">lambda</span> <span class="n">record</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_phone</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;phone&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)),</span>
</span><span id="__span-0-579"><a id="__codelineno-0-579" name="__codelineno-0-579" href="#__codelineno-0-579"></a>                <span class="k">lambda</span> <span class="n">record</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_required_fields</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;customer_id&quot;</span><span class="p">,</span> <span class="s2">&quot;full_name&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">])</span>
</span><span id="__span-0-580"><a id="__codelineno-0-580" name="__codelineno-0-580" href="#__codelineno-0-580"></a>            <span class="p">],</span>
</span><span id="__span-0-581"><a id="__codelineno-0-581" name="__codelineno-0-581" href="#__codelineno-0-581"></a>            <span class="s2">&quot;product_migration&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-0-582"><a id="__codelineno-0-582" name="__codelineno-0-582" href="#__codelineno-0-582"></a>                <span class="k">lambda</span> <span class="n">record</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_price</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;unit_price&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
</span><span id="__span-0-583"><a id="__codelineno-0-583" name="__codelineno-0-583" href="#__codelineno-0-583"></a>                <span class="k">lambda</span> <span class="n">record</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_required_fields</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;product_id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;unit_price&quot;</span><span class="p">])</span>
</span><span id="__span-0-584"><a id="__codelineno-0-584" name="__codelineno-0-584" href="#__codelineno-0-584"></a>            <span class="p">]</span>
</span><span id="__span-0-585"><a id="__codelineno-0-585" name="__codelineno-0-585" href="#__codelineno-0-585"></a>        <span class="p">}</span>
</span><span id="__span-0-586"><a id="__codelineno-0-586" name="__codelineno-0-586" href="#__codelineno-0-586"></a>
</span><span id="__span-0-587"><a id="__codelineno-0-587" name="__codelineno-0-587" href="#__codelineno-0-587"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_format_phone_number</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phone</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-0-588"><a id="__codelineno-0-588" name="__codelineno-0-588" href="#__codelineno-0-588"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Format phone number to standard format.&quot;&quot;&quot;</span>
</span><span id="__span-0-589"><a id="__codelineno-0-589" name="__codelineno-0-589" href="#__codelineno-0-589"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone</span><span class="p">:</span>
</span><span id="__span-0-590"><a id="__codelineno-0-590" name="__codelineno-0-590" href="#__codelineno-0-590"></a>            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-0-591"><a id="__codelineno-0-591" name="__codelineno-0-591" href="#__codelineno-0-591"></a>
</span><span id="__span-0-592"><a id="__codelineno-0-592" name="__codelineno-0-592" href="#__codelineno-0-592"></a>        <span class="c1">## Remove all non-digits</span>
</span><span id="__span-0-593"><a id="__codelineno-0-593" name="__codelineno-0-593" href="#__codelineno-0-593"></a>
</span><span id="__span-0-594"><a id="__codelineno-0-594" name="__codelineno-0-594" href="#__codelineno-0-594"></a>        <span class="n">digits</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">isdigit</span><span class="p">,</span> <span class="n">phone</span><span class="p">))</span>
</span><span id="__span-0-595"><a id="__codelineno-0-595" name="__codelineno-0-595" href="#__codelineno-0-595"></a>
</span><span id="__span-0-596"><a id="__codelineno-0-596" name="__codelineno-0-596" href="#__codelineno-0-596"></a>        <span class="c1">## Format based on length</span>
</span><span id="__span-0-597"><a id="__codelineno-0-597" name="__codelineno-0-597" href="#__codelineno-0-597"></a>
</span><span id="__span-0-598"><a id="__codelineno-0-598" name="__codelineno-0-598" href="#__codelineno-0-598"></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">digits</span><span class="p">)</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
</span><span id="__span-0-599"><a id="__codelineno-0-599" name="__codelineno-0-599" href="#__codelineno-0-599"></a>            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">digits</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="n">digits</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">digits</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-600"><a id="__codelineno-0-600" name="__codelineno-0-600" href="#__codelineno-0-600"></a>        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">digits</span><span class="p">)</span> <span class="o">==</span> <span class="mi">11</span> <span class="ow">and</span> <span class="n">digits</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
</span><span id="__span-0-601"><a id="__codelineno-0-601" name="__codelineno-0-601" href="#__codelineno-0-601"></a>            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;+1 (</span><span class="si">{</span><span class="n">digits</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="n">digits</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">digits</span><span class="p">[</span><span class="mi">7</span><span class="p">:]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-602"><a id="__codelineno-0-602" name="__codelineno-0-602" href="#__codelineno-0-602"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-603"><a id="__codelineno-0-603" name="__codelineno-0-603" href="#__codelineno-0-603"></a>            <span class="k">return</span> <span class="n">phone</span>  <span class="c1"># Return original if can&#39;t format</span>
</span><span id="__span-0-604"><a id="__codelineno-0-604" name="__codelineno-0-604" href="#__codelineno-0-604"></a>
</span><span id="__span-0-605"><a id="__codelineno-0-605" name="__codelineno-0-605" href="#__codelineno-0-605"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_parse_date_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">date_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]:</span>
</span><span id="__span-0-606"><a id="__codelineno-0-606" name="__codelineno-0-606" href="#__codelineno-0-606"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Parse various date string formats.&quot;&quot;&quot;</span>
</span><span id="__span-0-607"><a id="__codelineno-0-607" name="__codelineno-0-607" href="#__codelineno-0-607"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">date_str</span><span class="p">:</span>
</span><span id="__span-0-608"><a id="__codelineno-0-608" name="__codelineno-0-608" href="#__codelineno-0-608"></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-0-609"><a id="__codelineno-0-609" name="__codelineno-0-609" href="#__codelineno-0-609"></a>
</span><span id="__span-0-610"><a id="__codelineno-0-610" name="__codelineno-0-610" href="#__codelineno-0-610"></a>        <span class="n">date_formats</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-611"><a id="__codelineno-0-611" name="__codelineno-0-611" href="#__codelineno-0-611"></a>            <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-0-612"><a id="__codelineno-0-612" name="__codelineno-0-612" href="#__codelineno-0-612"></a>            <span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%Y&quot;</span><span class="p">,</span>
</span><span id="__span-0-613"><a id="__codelineno-0-613" name="__codelineno-0-613" href="#__codelineno-0-613"></a>            <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%Y&quot;</span><span class="p">,</span>
</span><span id="__span-0-614"><a id="__codelineno-0-614" name="__codelineno-0-614" href="#__codelineno-0-614"></a>            <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S&quot;</span><span class="p">,</span>
</span><span id="__span-0-615"><a id="__codelineno-0-615" name="__codelineno-0-615" href="#__codelineno-0-615"></a>            <span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%Y %H:%M:%S&quot;</span>
</span><span id="__span-0-616"><a id="__codelineno-0-616" name="__codelineno-0-616" href="#__codelineno-0-616"></a>        <span class="p">]</span>
</span><span id="__span-0-617"><a id="__codelineno-0-617" name="__codelineno-0-617" href="#__codelineno-0-617"></a>
</span><span id="__span-0-618"><a id="__codelineno-0-618" name="__codelineno-0-618" href="#__codelineno-0-618"></a>        <span class="k">for</span> <span class="n">fmt</span> <span class="ow">in</span> <span class="n">date_formats</span><span class="p">:</span>
</span><span id="__span-0-619"><a id="__codelineno-0-619" name="__codelineno-0-619" href="#__codelineno-0-619"></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-620"><a id="__codelineno-0-620" name="__codelineno-0-620" href="#__codelineno-0-620"></a>                <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">date_str</span><span class="p">,</span> <span class="n">fmt</span><span class="p">)</span>
</span><span id="__span-0-621"><a id="__codelineno-0-621" name="__codelineno-0-621" href="#__codelineno-0-621"></a>            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
</span><span id="__span-0-622"><a id="__codelineno-0-622" name="__codelineno-0-622" href="#__codelineno-0-622"></a>                <span class="k">continue</span>
</span><span id="__span-0-623"><a id="__codelineno-0-623" name="__codelineno-0-623" href="#__codelineno-0-623"></a>
</span><span id="__span-0-624"><a id="__codelineno-0-624" name="__codelineno-0-624" href="#__codelineno-0-624"></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-0-625"><a id="__codelineno-0-625" name="__codelineno-0-625" href="#__codelineno-0-625"></a>
</span><span id="__span-0-626"><a id="__codelineno-0-626" name="__codelineno-0-626" href="#__codelineno-0-626"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_map_product_category</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">category</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-0-627"><a id="__codelineno-0-627" name="__codelineno-0-627" href="#__codelineno-0-627"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Map legacy category codes to new category names.&quot;&quot;&quot;</span>
</span><span id="__span-0-628"><a id="__codelineno-0-628" name="__codelineno-0-628" href="#__codelineno-0-628"></a>        <span class="n">category_mapping</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-629"><a id="__codelineno-0-629" name="__codelineno-0-629" href="#__codelineno-0-629"></a>            <span class="s2">&quot;ELEC&quot;</span><span class="p">:</span> <span class="s2">&quot;Electronics&quot;</span><span class="p">,</span>
</span><span id="__span-0-630"><a id="__codelineno-0-630" name="__codelineno-0-630" href="#__codelineno-0-630"></a>            <span class="s2">&quot;CLTH&quot;</span><span class="p">:</span> <span class="s2">&quot;Clothing&quot;</span><span class="p">,</span>
</span><span id="__span-0-631"><a id="__codelineno-0-631" name="__codelineno-0-631" href="#__codelineno-0-631"></a>            <span class="s2">&quot;HOME&quot;</span><span class="p">:</span> <span class="s2">&quot;Home &amp; Garden&quot;</span><span class="p">,</span>
</span><span id="__span-0-632"><a id="__codelineno-0-632" name="__codelineno-0-632" href="#__codelineno-0-632"></a>            <span class="s2">&quot;BOOK&quot;</span><span class="p">:</span> <span class="s2">&quot;Books&quot;</span><span class="p">,</span>
</span><span id="__span-0-633"><a id="__codelineno-0-633" name="__codelineno-0-633" href="#__codelineno-0-633"></a>            <span class="s2">&quot;TOYS&quot;</span><span class="p">:</span> <span class="s2">&quot;Toys &amp; Games&quot;</span><span class="p">,</span>
</span><span id="__span-0-634"><a id="__codelineno-0-634" name="__codelineno-0-634" href="#__codelineno-0-634"></a>            <span class="s2">&quot;SPRT&quot;</span><span class="p">:</span> <span class="s2">&quot;Sports &amp; Outdoors&quot;</span>
</span><span id="__span-0-635"><a id="__codelineno-0-635" name="__codelineno-0-635" href="#__codelineno-0-635"></a>        <span class="p">}</span>
</span><span id="__span-0-636"><a id="__codelineno-0-636" name="__codelineno-0-636" href="#__codelineno-0-636"></a>
</span><span id="__span-0-637"><a id="__codelineno-0-637" name="__codelineno-0-637" href="#__codelineno-0-637"></a>        <span class="k">return</span> <span class="n">category_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">category</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">category</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Other&quot;</span><span class="p">)</span>
</span><span id="__span-0-638"><a id="__codelineno-0-638" name="__codelineno-0-638" href="#__codelineno-0-638"></a>
</span><span id="__span-0-639"><a id="__codelineno-0-639" name="__codelineno-0-639" href="#__codelineno-0-639"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-0-640"><a id="__codelineno-0-640" name="__codelineno-0-640" href="#__codelineno-0-640"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate email format.&quot;&quot;&quot;</span>
</span><span id="__span-0-641"><a id="__codelineno-0-641" name="__codelineno-0-641" href="#__codelineno-0-641"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
</span><span id="__span-0-642"><a id="__codelineno-0-642" name="__codelineno-0-642" href="#__codelineno-0-642"></a>        <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$&#39;</span>
</span><span id="__span-0-643"><a id="__codelineno-0-643" name="__codelineno-0-643" href="#__codelineno-0-643"></a>        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">email</span><span class="p">))</span> <span class="k">if</span> <span class="n">email</span> <span class="k">else</span> <span class="kc">False</span>
</span><span id="__span-0-644"><a id="__codelineno-0-644" name="__codelineno-0-644" href="#__codelineno-0-644"></a>
</span><span id="__span-0-645"><a id="__codelineno-0-645" name="__codelineno-0-645" href="#__codelineno-0-645"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phone</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-0-646"><a id="__codelineno-0-646" name="__codelineno-0-646" href="#__codelineno-0-646"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate phone number format.&quot;&quot;&quot;</span>
</span><span id="__span-0-647"><a id="__codelineno-0-647" name="__codelineno-0-647" href="#__codelineno-0-647"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">phone</span><span class="p">:</span>
</span><span id="__span-0-648"><a id="__codelineno-0-648" name="__codelineno-0-648" href="#__codelineno-0-648"></a>            <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Phone is optional</span>
</span><span id="__span-0-649"><a id="__codelineno-0-649" name="__codelineno-0-649" href="#__codelineno-0-649"></a>
</span><span id="__span-0-650"><a id="__codelineno-0-650" name="__codelineno-0-650" href="#__codelineno-0-650"></a>        <span class="n">digits</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">isdigit</span><span class="p">,</span> <span class="n">phone</span><span class="p">))</span>
</span><span id="__span-0-651"><a id="__codelineno-0-651" name="__codelineno-0-651" href="#__codelineno-0-651"></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">digits</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
</span><span id="__span-0-652"><a id="__codelineno-0-652" name="__codelineno-0-652" href="#__codelineno-0-652"></a>
</span><span id="__span-0-653"><a id="__codelineno-0-653" name="__codelineno-0-653" href="#__codelineno-0-653"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_price</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-0-654"><a id="__codelineno-0-654" name="__codelineno-0-654" href="#__codelineno-0-654"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate price is reasonable.&quot;&quot;&quot;</span>
</span><span id="__span-0-655"><a id="__codelineno-0-655" name="__codelineno-0-655" href="#__codelineno-0-655"></a>        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">price</span> <span class="o">&lt;=</span> <span class="mi">1000000</span>
</span><span id="__span-0-656"><a id="__codelineno-0-656" name="__codelineno-0-656" href="#__codelineno-0-656"></a>
</span><span id="__span-0-657"><a id="__codelineno-0-657" name="__codelineno-0-657" href="#__codelineno-0-657"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_required_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">required_fields</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-0-658"><a id="__codelineno-0-658" name="__codelineno-0-658" href="#__codelineno-0-658"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that required fields are present and not empty.&quot;&quot;&quot;</span>
</span><span id="__span-0-659"><a id="__codelineno-0-659" name="__codelineno-0-659" href="#__codelineno-0-659"></a>        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">required_fields</span><span class="p">:</span>
</span><span id="__span-0-660"><a id="__codelineno-0-660" name="__codelineno-0-660" href="#__codelineno-0-660"></a>            <span class="k">if</span> <span class="n">field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">record</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">record</span><span class="p">[</span><span class="n">field</span><span class="p">]:</span>
</span><span id="__span-0-661"><a id="__codelineno-0-661" name="__codelineno-0-661" href="#__codelineno-0-661"></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-0-662"><a id="__codelineno-0-662" name="__codelineno-0-662" href="#__codelineno-0-662"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-0-663"><a id="__codelineno-0-663" name="__codelineno-0-663" href="#__codelineno-0-663"></a>
</span><span id="__span-0-664"><a id="__codelineno-0-664" name="__codelineno-0-664" href="#__codelineno-0-664"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">load_source_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">migration_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="__span-0-665"><a id="__codelineno-0-665" name="__codelineno-0-665" href="#__codelineno-0-665"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Load data from source system (CSV file simulation).&quot;&quot;&quot;</span>
</span><span id="__span-0-666"><a id="__codelineno-0-666" name="__codelineno-0-666" href="#__codelineno-0-666"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading source data from: </span><span class="si">{</span><span class="n">source_file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-667"><a id="__codelineno-0-667" name="__codelineno-0-667" href="#__codelineno-0-667"></a>
</span><span id="__span-0-668"><a id="__codelineno-0-668" name="__codelineno-0-668" href="#__codelineno-0-668"></a>        <span class="c1">## Simulate different source data formats</span>
</span><span id="__span-0-669"><a id="__codelineno-0-669" name="__codelineno-0-669" href="#__codelineno-0-669"></a>
</span><span id="__span-0-670"><a id="__codelineno-0-670" name="__codelineno-0-670" href="#__codelineno-0-670"></a>        <span class="k">if</span> <span class="n">migration_type</span> <span class="o">==</span> <span class="s2">&quot;customer_migration&quot;</span><span class="p">:</span>
</span><span id="__span-0-671"><a id="__codelineno-0-671" name="__codelineno-0-671" href="#__codelineno-0-671"></a>            <span class="n">simulated_data</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-672"><a id="__codelineno-0-672" name="__codelineno-0-672" href="#__codelineno-0-672"></a>                <span class="p">{</span><span class="s2">&quot;cust_id&quot;</span><span class="p">:</span> <span class="s2">&quot;C001&quot;</span><span class="p">,</span> <span class="s2">&quot;cust_name&quot;</span><span class="p">:</span> <span class="s2">&quot;john doe&quot;</span><span class="p">,</span> <span class="s2">&quot;email_addr&quot;</span><span class="p">:</span> <span class="s2">&quot;JOHN.DOE@EMAIL.COM&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_num&quot;</span><span class="p">:</span> <span class="s2">&quot;1234567890&quot;</span><span class="p">,</span> <span class="s2">&quot;created_dt&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-01-15&quot;</span><span class="p">,</span> <span class="s2">&quot;status_cd&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">},</span>
</span><span id="__span-0-673"><a id="__codelineno-0-673" name="__codelineno-0-673" href="#__codelineno-0-673"></a>                <span class="p">{</span><span class="s2">&quot;cust_id&quot;</span><span class="p">:</span> <span class="s2">&quot;C002&quot;</span><span class="p">,</span> <span class="s2">&quot;cust_name&quot;</span><span class="p">:</span> <span class="s2">&quot;jane smith&quot;</span><span class="p">,</span> <span class="s2">&quot;email_addr&quot;</span><span class="p">:</span> <span class="s2">&quot;jane.smith@email.com&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_num&quot;</span><span class="p">:</span> <span class="s2">&quot;(555) 123-4567&quot;</span><span class="p">,</span> <span class="s2">&quot;created_dt&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-02-20&quot;</span><span class="p">,</span> <span class="s2">&quot;status_cd&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">},</span>
</span><span id="__span-0-674"><a id="__codelineno-0-674" name="__codelineno-0-674" href="#__codelineno-0-674"></a>                <span class="p">{</span><span class="s2">&quot;cust_id&quot;</span><span class="p">:</span> <span class="s2">&quot;C003&quot;</span><span class="p">,</span> <span class="s2">&quot;cust_name&quot;</span><span class="p">:</span> <span class="s2">&quot;bob johnson&quot;</span><span class="p">,</span> <span class="s2">&quot;email_addr&quot;</span><span class="p">:</span> <span class="s2">&quot;bob@email&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_num&quot;</span><span class="p">:</span> <span class="s2">&quot;555.123.4567&quot;</span><span class="p">,</span> <span class="s2">&quot;created_dt&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-03-10&quot;</span><span class="p">,</span> <span class="s2">&quot;status_cd&quot;</span><span class="p">:</span> <span class="s2">&quot;I&quot;</span><span class="p">},</span>
</span><span id="__span-0-675"><a id="__codelineno-0-675" name="__codelineno-0-675" href="#__codelineno-0-675"></a>                <span class="p">{</span><span class="s2">&quot;cust_id&quot;</span><span class="p">:</span> <span class="s2">&quot;C004&quot;</span><span class="p">,</span> <span class="s2">&quot;cust_name&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;email_addr&quot;</span><span class="p">:</span> <span class="s2">&quot;empty.name@email.com&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_num&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;created_dt&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-04-05&quot;</span><span class="p">,</span> <span class="s2">&quot;status_cd&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">}</span>
</span><span id="__span-0-676"><a id="__codelineno-0-676" name="__codelineno-0-676" href="#__codelineno-0-676"></a>            <span class="p">]</span>
</span><span id="__span-0-677"><a id="__codelineno-0-677" name="__codelineno-0-677" href="#__codelineno-0-677"></a>        <span class="k">else</span><span class="p">:</span>  <span class="c1"># product_migration</span>
</span><span id="__span-0-678"><a id="__codelineno-0-678" name="__codelineno-0-678" href="#__codelineno-0-678"></a>            <span class="n">simulated_data</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-679"><a id="__codelineno-0-679" name="__codelineno-0-679" href="#__codelineno-0-679"></a>                <span class="p">{</span><span class="s2">&quot;prod_id&quot;</span><span class="p">:</span> <span class="s2">&quot;P001&quot;</span><span class="p">,</span> <span class="s2">&quot;prod_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Wireless Headphones&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;$59.99&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;ELEC&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;High-quality wireless headphones&quot;</span><span class="p">,</span> <span class="s2">&quot;active_flag&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">},</span>
</span><span id="__span-0-680"><a id="__codelineno-0-680" name="__codelineno-0-680" href="#__codelineno-0-680"></a>                <span class="p">{</span><span class="s2">&quot;prod_id&quot;</span><span class="p">:</span> <span class="s2">&quot;P002&quot;</span><span class="p">,</span> <span class="s2">&quot;prod_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cotton T-Shirt&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;19.99&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;CLTH&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Comfortable cotton t-shirt&quot;</span><span class="p">,</span> <span class="s2">&quot;active_flag&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">},</span>
</span><span id="__span-0-681"><a id="__codelineno-0-681" name="__codelineno-0-681" href="#__codelineno-0-681"></a>                <span class="p">{</span><span class="s2">&quot;prod_id&quot;</span><span class="p">:</span> <span class="s2">&quot;P003&quot;</span><span class="p">,</span> <span class="s2">&quot;prod_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Garden Hose&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;$25&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;HOME&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;active_flag&quot;</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span><span class="p">},</span>
</span><span id="__span-0-682"><a id="__codelineno-0-682" name="__codelineno-0-682" href="#__codelineno-0-682"></a>                <span class="p">{</span><span class="s2">&quot;prod_id&quot;</span><span class="p">:</span> <span class="s2">&quot;P004&quot;</span><span class="p">,</span> <span class="s2">&quot;prod_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Invalid Product&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="s2">&quot;invalid&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;UNKNOWN&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Test invalid data&quot;</span><span class="p">,</span> <span class="s2">&quot;active_flag&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">}</span>
</span><span id="__span-0-683"><a id="__codelineno-0-683" name="__codelineno-0-683" href="#__codelineno-0-683"></a>            <span class="p">]</span>
</span><span id="__span-0-684"><a id="__codelineno-0-684" name="__codelineno-0-684" href="#__codelineno-0-684"></a>
</span><span id="__span-0-685"><a id="__codelineno-0-685" name="__codelineno-0-685" href="#__codelineno-0-685"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">simulated_data</span><span class="p">)</span><span class="si">}</span><span class="s2"> records from source&quot;</span><span class="p">)</span>
</span><span id="__span-0-686"><a id="__codelineno-0-686" name="__codelineno-0-686" href="#__codelineno-0-686"></a>        <span class="k">return</span> <span class="n">simulated_data</span>
</span><span id="__span-0-687"><a id="__codelineno-0-687" name="__codelineno-0-687" href="#__codelineno-0-687"></a>
</span><span id="__span-0-688"><a id="__codelineno-0-688" name="__codelineno-0-688" href="#__codelineno-0-688"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">transform_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_record</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">migration_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
</span><span id="__span-0-689"><a id="__codelineno-0-689" name="__codelineno-0-689" href="#__codelineno-0-689"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Transform a single record according to mapping rules.&quot;&quot;&quot;</span>
</span><span id="__span-0-690"><a id="__codelineno-0-690" name="__codelineno-0-690" href="#__codelineno-0-690"></a>        <span class="n">target_record</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-0-691"><a id="__codelineno-0-691" name="__codelineno-0-691" href="#__codelineno-0-691"></a>        <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-692"><a id="__codelineno-0-692" name="__codelineno-0-692" href="#__codelineno-0-692"></a>
</span><span id="__span-0-693"><a id="__codelineno-0-693" name="__codelineno-0-693" href="#__codelineno-0-693"></a>        <span class="n">mappings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_mappings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">migration_type</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="__span-0-694"><a id="__codelineno-0-694" name="__codelineno-0-694" href="#__codelineno-0-694"></a>
</span><span id="__span-0-695"><a id="__codelineno-0-695" name="__codelineno-0-695" href="#__codelineno-0-695"></a>        <span class="k">for</span> <span class="n">mapping</span> <span class="ow">in</span> <span class="n">mappings</span><span class="p">:</span>
</span><span id="__span-0-696"><a id="__codelineno-0-696" name="__codelineno-0-696" href="#__codelineno-0-696"></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-697"><a id="__codelineno-0-697" name="__codelineno-0-697" href="#__codelineno-0-697"></a>
</span><span id="__span-0-698"><a id="__codelineno-0-698" name="__codelineno-0-698" href="#__codelineno-0-698"></a>                <span class="c1">## Get source value</span>
</span><span id="__span-0-699"><a id="__codelineno-0-699" name="__codelineno-0-699" href="#__codelineno-0-699"></a>
</span><span id="__span-0-700"><a id="__codelineno-0-700" name="__codelineno-0-700" href="#__codelineno-0-700"></a>                <span class="n">source_value</span> <span class="o">=</span> <span class="n">source_record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mapping</span><span class="o">.</span><span class="n">source_field</span><span class="p">)</span>
</span><span id="__span-0-701"><a id="__codelineno-0-701" name="__codelineno-0-701" href="#__codelineno-0-701"></a>
</span><span id="__span-0-702"><a id="__codelineno-0-702" name="__codelineno-0-702" href="#__codelineno-0-702"></a>                <span class="c1">## Apply transformation if specified</span>
</span><span id="__span-0-703"><a id="__codelineno-0-703" name="__codelineno-0-703" href="#__codelineno-0-703"></a>
</span><span id="__span-0-704"><a id="__codelineno-0-704" name="__codelineno-0-704" href="#__codelineno-0-704"></a>                <span class="k">if</span> <span class="n">mapping</span><span class="o">.</span><span class="n">transformation</span> <span class="ow">and</span> <span class="n">mapping</span><span class="o">.</span><span class="n">transformation</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformation_functions</span><span class="p">:</span>
</span><span id="__span-0-705"><a id="__codelineno-0-705" name="__codelineno-0-705" href="#__codelineno-0-705"></a>                    <span class="n">transformed_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transformation_functions</span><span class="p">[</span><span class="n">mapping</span><span class="o">.</span><span class="n">transformation</span><span class="p">](</span><span class="n">source_value</span><span class="p">)</span>
</span><span id="__span-0-706"><a id="__codelineno-0-706" name="__codelineno-0-706" href="#__codelineno-0-706"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-707"><a id="__codelineno-0-707" name="__codelineno-0-707" href="#__codelineno-0-707"></a>                    <span class="n">transformed_value</span> <span class="o">=</span> <span class="n">source_value</span>
</span><span id="__span-0-708"><a id="__codelineno-0-708" name="__codelineno-0-708" href="#__codelineno-0-708"></a>
</span><span id="__span-0-709"><a id="__codelineno-0-709" name="__codelineno-0-709" href="#__codelineno-0-709"></a>                <span class="c1">## Handle missing required fields</span>
</span><span id="__span-0-710"><a id="__codelineno-0-710" name="__codelineno-0-710" href="#__codelineno-0-710"></a>
</span><span id="__span-0-711"><a id="__codelineno-0-711" name="__codelineno-0-711" href="#__codelineno-0-711"></a>                <span class="k">if</span> <span class="n">mapping</span><span class="o">.</span><span class="n">required</span> <span class="ow">and</span> <span class="p">(</span><span class="n">transformed_value</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">transformed_value</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
</span><span id="__span-0-712"><a id="__codelineno-0-712" name="__codelineno-0-712" href="#__codelineno-0-712"></a>                    <span class="k">if</span> <span class="n">mapping</span><span class="o">.</span><span class="n">default_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-713"><a id="__codelineno-0-713" name="__codelineno-0-713" href="#__codelineno-0-713"></a>                        <span class="n">transformed_value</span> <span class="o">=</span> <span class="n">mapping</span><span class="o">.</span><span class="n">default_value</span>
</span><span id="__span-0-714"><a id="__codelineno-0-714" name="__codelineno-0-714" href="#__codelineno-0-714"></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-715"><a id="__codelineno-0-715" name="__codelineno-0-715" href="#__codelineno-0-715"></a>                        <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Required field &#39;</span><span class="si">{</span><span class="n">mapping</span><span class="o">.</span><span class="n">target_field</span><span class="si">}</span><span class="s2">&#39; is missing or empty&quot;</span><span class="p">)</span>
</span><span id="__span-0-716"><a id="__codelineno-0-716" name="__codelineno-0-716" href="#__codelineno-0-716"></a>                        <span class="k">continue</span>
</span><span id="__span-0-717"><a id="__codelineno-0-717" name="__codelineno-0-717" href="#__codelineno-0-717"></a>
</span><span id="__span-0-718"><a id="__codelineno-0-718" name="__codelineno-0-718" href="#__codelineno-0-718"></a>                <span class="n">target_record</span><span class="p">[</span><span class="n">mapping</span><span class="o">.</span><span class="n">target_field</span><span class="p">]</span> <span class="o">=</span> <span class="n">transformed_value</span>
</span><span id="__span-0-719"><a id="__codelineno-0-719" name="__codelineno-0-719" href="#__codelineno-0-719"></a>
</span><span id="__span-0-720"><a id="__codelineno-0-720" name="__codelineno-0-720" href="#__codelineno-0-720"></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-721"><a id="__codelineno-0-721" name="__codelineno-0-721" href="#__codelineno-0-721"></a>                <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error transforming </span><span class="si">{</span><span class="n">mapping</span><span class="o">.</span><span class="n">source_field</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">mapping</span><span class="o">.</span><span class="n">target_field</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-722"><a id="__codelineno-0-722" name="__codelineno-0-722" href="#__codelineno-0-722"></a>
</span><span id="__span-0-723"><a id="__codelineno-0-723" name="__codelineno-0-723" href="#__codelineno-0-723"></a>        <span class="k">return</span> <span class="n">target_record</span><span class="p">,</span> <span class="n">errors</span>
</span><span id="__span-0-724"><a id="__codelineno-0-724" name="__codelineno-0-724" href="#__codelineno-0-724"></a>
</span><span id="__span-0-725"><a id="__codelineno-0-725" name="__codelineno-0-725" href="#__codelineno-0-725"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">validate_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">migration_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
</span><span id="__span-0-726"><a id="__codelineno-0-726" name="__codelineno-0-726" href="#__codelineno-0-726"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate transformed record against business rules.&quot;&quot;&quot;</span>
</span><span id="__span-0-727"><a id="__codelineno-0-727" name="__codelineno-0-727" href="#__codelineno-0-727"></a>        <span class="n">validation_errors</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-728"><a id="__codelineno-0-728" name="__codelineno-0-728" href="#__codelineno-0-728"></a>
</span><span id="__span-0-729"><a id="__codelineno-0-729" name="__codelineno-0-729" href="#__codelineno-0-729"></a>        <span class="n">validators</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validation_rules</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">migration_type</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="__span-0-730"><a id="__codelineno-0-730" name="__codelineno-0-730" href="#__codelineno-0-730"></a>
</span><span id="__span-0-731"><a id="__codelineno-0-731" name="__codelineno-0-731" href="#__codelineno-0-731"></a>        <span class="k">for</span> <span class="n">validator</span> <span class="ow">in</span> <span class="n">validators</span><span class="p">:</span>
</span><span id="__span-0-732"><a id="__codelineno-0-732" name="__codelineno-0-732" href="#__codelineno-0-732"></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-733"><a id="__codelineno-0-733" name="__codelineno-0-733" href="#__codelineno-0-733"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">validator</span><span class="p">(</span><span class="n">record</span><span class="p">):</span>
</span><span id="__span-0-734"><a id="__codelineno-0-734" name="__codelineno-0-734" href="#__codelineno-0-734"></a>                    <span class="n">validation_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation failed for record </span><span class="si">{</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;customer_id&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;unknown&#39;</span><span class="p">))</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-735"><a id="__codelineno-0-735" name="__codelineno-0-735" href="#__codelineno-0-735"></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-736"><a id="__codelineno-0-736" name="__codelineno-0-736" href="#__codelineno-0-736"></a>                <span class="n">validation_errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-737"><a id="__codelineno-0-737" name="__codelineno-0-737" href="#__codelineno-0-737"></a>
</span><span id="__span-0-738"><a id="__codelineno-0-738" name="__codelineno-0-738" href="#__codelineno-0-738"></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">validation_errors</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">validation_errors</span>
</span><span id="__span-0-739"><a id="__codelineno-0-739" name="__codelineno-0-739" href="#__codelineno-0-739"></a>
</span><span id="__span-0-740"><a id="__codelineno-0-740" name="__codelineno-0-740" href="#__codelineno-0-740"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">migrate_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]],</span> <span class="n">migration_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">MigrationRecord</span><span class="p">]:</span>
</span><span id="__span-0-741"><a id="__codelineno-0-741" name="__codelineno-0-741" href="#__codelineno-0-741"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Migrate a batch of records.&quot;&quot;&quot;</span>
</span><span id="__span-0-742"><a id="__codelineno-0-742" name="__codelineno-0-742" href="#__codelineno-0-742"></a>        <span class="n">migration_results</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-743"><a id="__codelineno-0-743" name="__codelineno-0-743" href="#__codelineno-0-743"></a>
</span><span id="__span-0-744"><a id="__codelineno-0-744" name="__codelineno-0-744" href="#__codelineno-0-744"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting migration of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">source_data</span><span class="p">)</span><span class="si">}</span><span class="s2"> records for </span><span class="si">{</span><span class="n">migration_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-745"><a id="__codelineno-0-745" name="__codelineno-0-745" href="#__codelineno-0-745"></a>
</span><span id="__span-0-746"><a id="__codelineno-0-746" name="__codelineno-0-746" href="#__codelineno-0-746"></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">source_record</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">source_data</span><span class="p">):</span>
</span><span id="__span-0-747"><a id="__codelineno-0-747" name="__codelineno-0-747" href="#__codelineno-0-747"></a>            <span class="n">migration_record</span> <span class="o">=</span> <span class="n">MigrationRecord</span><span class="p">(</span>
</span><span id="__span-0-748"><a id="__codelineno-0-748" name="__codelineno-0-748" href="#__codelineno-0-748"></a>                <span class="n">source_id</span><span class="o">=</span><span class="n">source_record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cust_id&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">source_record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;prod_id&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;record_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
</span><span id="__span-0-749"><a id="__codelineno-0-749" name="__codelineno-0-749" href="#__codelineno-0-749"></a>                <span class="n">source_system</span><span class="o">=</span><span class="s2">&quot;legacy_system&quot;</span>
</span><span id="__span-0-750"><a id="__codelineno-0-750" name="__codelineno-0-750" href="#__codelineno-0-750"></a>            <span class="p">)</span>
</span><span id="__span-0-751"><a id="__codelineno-0-751" name="__codelineno-0-751" href="#__codelineno-0-751"></a>
</span><span id="__span-0-752"><a id="__codelineno-0-752" name="__codelineno-0-752" href="#__codelineno-0-752"></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-753"><a id="__codelineno-0-753" name="__codelineno-0-753" href="#__codelineno-0-753"></a>
</span><span id="__span-0-754"><a id="__codelineno-0-754" name="__codelineno-0-754" href="#__codelineno-0-754"></a>                <span class="c1">## Transform record</span>
</span><span id="__span-0-755"><a id="__codelineno-0-755" name="__codelineno-0-755" href="#__codelineno-0-755"></a>
</span><span id="__span-0-756"><a id="__codelineno-0-756" name="__codelineno-0-756" href="#__codelineno-0-756"></a>                <span class="n">target_record</span><span class="p">,</span> <span class="n">transform_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform_record</span><span class="p">(</span><span class="n">source_record</span><span class="p">,</span> <span class="n">migration_type</span><span class="p">)</span>
</span><span id="__span-0-757"><a id="__codelineno-0-757" name="__codelineno-0-757" href="#__codelineno-0-757"></a>
</span><span id="__span-0-758"><a id="__codelineno-0-758" name="__codelineno-0-758" href="#__codelineno-0-758"></a>                <span class="k">if</span> <span class="n">transform_errors</span><span class="p">:</span>
</span><span id="__span-0-759"><a id="__codelineno-0-759" name="__codelineno-0-759" href="#__codelineno-0-759"></a>                    <span class="n">migration_record</span><span class="o">.</span><span class="n">migration_status</span> <span class="o">=</span> <span class="s2">&quot;failed&quot;</span>
</span><span id="__span-0-760"><a id="__codelineno-0-760" name="__codelineno-0-760" href="#__codelineno-0-760"></a>                    <span class="n">migration_record</span><span class="o">.</span><span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">transform_errors</span><span class="p">)</span>
</span><span id="__span-0-761"><a id="__codelineno-0-761" name="__codelineno-0-761" href="#__codelineno-0-761"></a>                    <span class="n">migration_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">migration_record</span><span class="p">)</span>
</span><span id="__span-0-762"><a id="__codelineno-0-762" name="__codelineno-0-762" href="#__codelineno-0-762"></a>                    <span class="k">continue</span>
</span><span id="__span-0-763"><a id="__codelineno-0-763" name="__codelineno-0-763" href="#__codelineno-0-763"></a>
</span><span id="__span-0-764"><a id="__codelineno-0-764" name="__codelineno-0-764" href="#__codelineno-0-764"></a>                <span class="c1">## Validate transformed record</span>
</span><span id="__span-0-765"><a id="__codelineno-0-765" name="__codelineno-0-765" href="#__codelineno-0-765"></a>
</span><span id="__span-0-766"><a id="__codelineno-0-766" name="__codelineno-0-766" href="#__codelineno-0-766"></a>                <span class="n">is_valid</span><span class="p">,</span> <span class="n">validation_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_record</span><span class="p">(</span><span class="n">target_record</span><span class="p">,</span> <span class="n">migration_type</span><span class="p">)</span>
</span><span id="__span-0-767"><a id="__codelineno-0-767" name="__codelineno-0-767" href="#__codelineno-0-767"></a>                <span class="n">migration_record</span><span class="o">.</span><span class="n">validation_passed</span> <span class="o">=</span> <span class="n">is_valid</span>
</span><span id="__span-0-768"><a id="__codelineno-0-768" name="__codelineno-0-768" href="#__codelineno-0-768"></a>
</span><span id="__span-0-769"><a id="__codelineno-0-769" name="__codelineno-0-769" href="#__codelineno-0-769"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid</span><span class="p">:</span>
</span><span id="__span-0-770"><a id="__codelineno-0-770" name="__codelineno-0-770" href="#__codelineno-0-770"></a>                    <span class="n">migration_record</span><span class="o">.</span><span class="n">migration_status</span> <span class="o">=</span> <span class="s2">&quot;failed&quot;</span>
</span><span id="__span-0-771"><a id="__codelineno-0-771" name="__codelineno-0-771" href="#__codelineno-0-771"></a>                    <span class="n">migration_record</span><span class="o">.</span><span class="n">error_message</span> <span class="o">=</span> <span class="s2">&quot;; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">validation_errors</span><span class="p">)</span>
</span><span id="__span-0-772"><a id="__codelineno-0-772" name="__codelineno-0-772" href="#__codelineno-0-772"></a>                    <span class="n">migration_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">migration_record</span><span class="p">)</span>
</span><span id="__span-0-773"><a id="__codelineno-0-773" name="__codelineno-0-773" href="#__codelineno-0-773"></a>                    <span class="k">continue</span>
</span><span id="__span-0-774"><a id="__codelineno-0-774" name="__codelineno-0-774" href="#__codelineno-0-774"></a>
</span><span id="__span-0-775"><a id="__codelineno-0-775" name="__codelineno-0-775" href="#__codelineno-0-775"></a>                <span class="c1">## Simulate writing to target system</span>
</span><span id="__span-0-776"><a id="__codelineno-0-776" name="__codelineno-0-776" href="#__codelineno-0-776"></a>
</span><span id="__span-0-777"><a id="__codelineno-0-777" name="__codelineno-0-777" href="#__codelineno-0-777"></a>                <span class="n">target_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write_to_target_system</span><span class="p">(</span><span class="n">target_record</span><span class="p">,</span> <span class="n">migration_type</span><span class="p">)</span>
</span><span id="__span-0-778"><a id="__codelineno-0-778" name="__codelineno-0-778" href="#__codelineno-0-778"></a>
</span><span id="__span-0-779"><a id="__codelineno-0-779" name="__codelineno-0-779" href="#__codelineno-0-779"></a>                <span class="n">migration_record</span><span class="o">.</span><span class="n">target_id</span> <span class="o">=</span> <span class="n">target_id</span>
</span><span id="__span-0-780"><a id="__codelineno-0-780" name="__codelineno-0-780" href="#__codelineno-0-780"></a>                <span class="n">migration_record</span><span class="o">.</span><span class="n">target_system</span> <span class="o">=</span> <span class="s2">&quot;new_system&quot;</span>
</span><span id="__span-0-781"><a id="__codelineno-0-781" name="__codelineno-0-781" href="#__codelineno-0-781"></a>                <span class="n">migration_record</span><span class="o">.</span><span class="n">migration_status</span> <span class="o">=</span> <span class="s2">&quot;success&quot;</span>
</span><span id="__span-0-782"><a id="__codelineno-0-782" name="__codelineno-0-782" href="#__codelineno-0-782"></a>                <span class="n">migration_record</span><span class="o">.</span><span class="n">migrated_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-783"><a id="__codelineno-0-783" name="__codelineno-0-783" href="#__codelineno-0-783"></a>
</span><span id="__span-0-784"><a id="__codelineno-0-784" name="__codelineno-0-784" href="#__codelineno-0-784"></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-785"><a id="__codelineno-0-785" name="__codelineno-0-785" href="#__codelineno-0-785"></a>                <span class="n">migration_record</span><span class="o">.</span><span class="n">migration_status</span> <span class="o">=</span> <span class="s2">&quot;failed&quot;</span>
</span><span id="__span-0-786"><a id="__codelineno-0-786" name="__codelineno-0-786" href="#__codelineno-0-786"></a>                <span class="n">migration_record</span><span class="o">.</span><span class="n">error_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Unexpected error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-787"><a id="__codelineno-0-787" name="__codelineno-0-787" href="#__codelineno-0-787"></a>
</span><span id="__span-0-788"><a id="__codelineno-0-788" name="__codelineno-0-788" href="#__codelineno-0-788"></a>            <span class="n">migration_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">migration_record</span><span class="p">)</span>
</span><span id="__span-0-789"><a id="__codelineno-0-789" name="__codelineno-0-789" href="#__codelineno-0-789"></a>
</span><span id="__span-0-790"><a id="__codelineno-0-790" name="__codelineno-0-790" href="#__codelineno-0-790"></a>        <span class="k">return</span> <span class="n">migration_results</span>
</span><span id="__span-0-791"><a id="__codelineno-0-791" name="__codelineno-0-791" href="#__codelineno-0-791"></a>
</span><span id="__span-0-792"><a id="__codelineno-0-792" name="__codelineno-0-792" href="#__codelineno-0-792"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_write_to_target_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">migration_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-0-793"><a id="__codelineno-0-793" name="__codelineno-0-793" href="#__codelineno-0-793"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate writing record to target system.&quot;&quot;&quot;</span>
</span><span id="__span-0-794"><a id="__codelineno-0-794" name="__codelineno-0-794" href="#__codelineno-0-794"></a>
</span><span id="__span-0-795"><a id="__codelineno-0-795" name="__codelineno-0-795" href="#__codelineno-0-795"></a>        <span class="c1">## In reality, this would make API calls or database insertions</span>
</span><span id="__span-0-796"><a id="__codelineno-0-796" name="__codelineno-0-796" href="#__codelineno-0-796"></a>
</span><span id="__span-0-797"><a id="__codelineno-0-797" name="__codelineno-0-797" href="#__codelineno-0-797"></a>        <span class="c1">## For simulation, we generate a new ID</span>
</span><span id="__span-0-798"><a id="__codelineno-0-798" name="__codelineno-0-798" href="#__codelineno-0-798"></a>
</span><span id="__span-0-799"><a id="__codelineno-0-799" name="__codelineno-0-799" href="#__codelineno-0-799"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
</span><span id="__span-0-800"><a id="__codelineno-0-800" name="__codelineno-0-800" href="#__codelineno-0-800"></a>        <span class="n">new_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;NEW_</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())[:</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-801"><a id="__codelineno-0-801" name="__codelineno-0-801" href="#__codelineno-0-801"></a>
</span><span id="__span-0-802"><a id="__codelineno-0-802" name="__codelineno-0-802" href="#__codelineno-0-802"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Writing record to target system with ID: </span><span class="si">{</span><span class="n">new_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-803"><a id="__codelineno-0-803" name="__codelineno-0-803" href="#__codelineno-0-803"></a>        <span class="k">return</span> <span class="n">new_id</span>
</span><span id="__span-0-804"><a id="__codelineno-0-804" name="__codelineno-0-804" href="#__codelineno-0-804"></a>
</span><span id="__span-0-805"><a id="__codelineno-0-805" name="__codelineno-0-805" href="#__codelineno-0-805"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_migration_report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">migration_results</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">MigrationRecord</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="__span-0-806"><a id="__codelineno-0-806" name="__codelineno-0-806" href="#__codelineno-0-806"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate comprehensive migration report.&quot;&quot;&quot;</span>
</span><span id="__span-0-807"><a id="__codelineno-0-807" name="__codelineno-0-807" href="#__codelineno-0-807"></a>        <span class="n">total_records</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">migration_results</span><span class="p">)</span>
</span><span id="__span-0-808"><a id="__codelineno-0-808" name="__codelineno-0-808" href="#__codelineno-0-808"></a>        <span class="n">successful</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">migration_results</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">migration_status</span> <span class="o">==</span> <span class="s2">&quot;success&quot;</span><span class="p">)</span>
</span><span id="__span-0-809"><a id="__codelineno-0-809" name="__codelineno-0-809" href="#__codelineno-0-809"></a>        <span class="n">failed</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">migration_results</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">migration_status</span> <span class="o">==</span> <span class="s2">&quot;failed&quot;</span><span class="p">)</span>
</span><span id="__span-0-810"><a id="__codelineno-0-810" name="__codelineno-0-810" href="#__codelineno-0-810"></a>
</span><span id="__span-0-811"><a id="__codelineno-0-811" name="__codelineno-0-811" href="#__codelineno-0-811"></a>        <span class="c1">## Group errors by type</span>
</span><span id="__span-0-812"><a id="__codelineno-0-812" name="__codelineno-0-812" href="#__codelineno-0-812"></a>
</span><span id="__span-0-813"><a id="__codelineno-0-813" name="__codelineno-0-813" href="#__codelineno-0-813"></a>        <span class="n">error_summary</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-0-814"><a id="__codelineno-0-814" name="__codelineno-0-814" href="#__codelineno-0-814"></a>        <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">migration_results</span><span class="p">:</span>
</span><span id="__span-0-815"><a id="__codelineno-0-815" name="__codelineno-0-815" href="#__codelineno-0-815"></a>            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">error_message</span><span class="p">:</span>
</span><span id="__span-0-816"><a id="__codelineno-0-816" name="__codelineno-0-816" href="#__codelineno-0-816"></a>                <span class="n">error_type</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">error_message</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-0-817"><a id="__codelineno-0-817" name="__codelineno-0-817" href="#__codelineno-0-817"></a>                <span class="n">error_summary</span><span class="p">[</span><span class="n">error_type</span><span class="p">]</span> <span class="o">=</span> <span class="n">error_summary</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">error_type</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="__span-0-818"><a id="__codelineno-0-818" name="__codelineno-0-818" href="#__codelineno-0-818"></a>
</span><span id="__span-0-819"><a id="__codelineno-0-819" name="__codelineno-0-819" href="#__codelineno-0-819"></a>        <span class="n">report</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-820"><a id="__codelineno-0-820" name="__codelineno-0-820" href="#__codelineno-0-820"></a>            <span class="s2">&quot;migration_summary&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-821"><a id="__codelineno-0-821" name="__codelineno-0-821" href="#__codelineno-0-821"></a>                <span class="s2">&quot;total_records&quot;</span><span class="p">:</span> <span class="n">total_records</span><span class="p">,</span>
</span><span id="__span-0-822"><a id="__codelineno-0-822" name="__codelineno-0-822" href="#__codelineno-0-822"></a>                <span class="s2">&quot;successful_migrations&quot;</span><span class="p">:</span> <span class="n">successful</span><span class="p">,</span>
</span><span id="__span-0-823"><a id="__codelineno-0-823" name="__codelineno-0-823" href="#__codelineno-0-823"></a>                <span class="s2">&quot;failed_migrations&quot;</span><span class="p">:</span> <span class="n">failed</span><span class="p">,</span>
</span><span id="__span-0-824"><a id="__codelineno-0-824" name="__codelineno-0-824" href="#__codelineno-0-824"></a>                <span class="s2">&quot;success_rate&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">successful</span> <span class="o">/</span> <span class="n">total_records</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="k">if</span> <span class="n">total_records</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="__span-0-825"><a id="__codelineno-0-825" name="__codelineno-0-825" href="#__codelineno-0-825"></a>            <span class="p">},</span>
</span><span id="__span-0-826"><a id="__codelineno-0-826" name="__codelineno-0-826" href="#__codelineno-0-826"></a>            <span class="s2">&quot;error_analysis&quot;</span><span class="p">:</span> <span class="n">error_summary</span><span class="p">,</span>
</span><span id="__span-0-827"><a id="__codelineno-0-827" name="__codelineno-0-827" href="#__codelineno-0-827"></a>            <span class="s2">&quot;failed_records&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-0-828"><a id="__codelineno-0-828" name="__codelineno-0-828" href="#__codelineno-0-828"></a>                <span class="p">{</span>
</span><span id="__span-0-829"><a id="__codelineno-0-829" name="__codelineno-0-829" href="#__codelineno-0-829"></a>                    <span class="s2">&quot;source_id&quot;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">source_id</span><span class="p">,</span>
</span><span id="__span-0-830"><a id="__codelineno-0-830" name="__codelineno-0-830" href="#__codelineno-0-830"></a>                    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">error_message</span><span class="p">,</span>
</span><span id="__span-0-831"><a id="__codelineno-0-831" name="__codelineno-0-831" href="#__codelineno-0-831"></a>                    <span class="s2">&quot;validation_passed&quot;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">validation_passed</span>
</span><span id="__span-0-832"><a id="__codelineno-0-832" name="__codelineno-0-832" href="#__codelineno-0-832"></a>                <span class="p">}</span>
</span><span id="__span-0-833"><a id="__codelineno-0-833" name="__codelineno-0-833" href="#__codelineno-0-833"></a>                <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">migration_results</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">migration_status</span> <span class="o">==</span> <span class="s2">&quot;failed&quot;</span>
</span><span id="__span-0-834"><a id="__codelineno-0-834" name="__codelineno-0-834" href="#__codelineno-0-834"></a>            <span class="p">],</span>
</span><span id="__span-0-835"><a id="__codelineno-0-835" name="__codelineno-0-835" href="#__codelineno-0-835"></a>            <span class="s2">&quot;processing_time&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-0-836"><a id="__codelineno-0-836" name="__codelineno-0-836" href="#__codelineno-0-836"></a>        <span class="p">}</span>
</span><span id="__span-0-837"><a id="__codelineno-0-837" name="__codelineno-0-837" href="#__codelineno-0-837"></a>
</span><span id="__span-0-838"><a id="__codelineno-0-838" name="__codelineno-0-838" href="#__codelineno-0-838"></a>        <span class="k">return</span> <span class="n">report</span>
</span><span id="__span-0-839"><a id="__codelineno-0-839" name="__codelineno-0-839" href="#__codelineno-0-839"></a>
</span><span id="__span-0-840"><a id="__codelineno-0-840" name="__codelineno-0-840" href="#__codelineno-0-840"></a><span class="c1">#### 3. Repetitive Administrative Task Automation</span>
</span><span id="__span-0-841"><a id="__codelineno-0-841" name="__codelineno-0-841" href="#__codelineno-0-841"></a>
</span><span id="__span-0-842"><a id="__codelineno-0-842" name="__codelineno-0-842" href="#__codelineno-0-842"></a><span class="o">**</span><span class="n">Business</span> <span class="n">Challenge</span><span class="o">**</span><span class="p">:</span> <span class="n">Employees</span> <span class="n">spend</span> <span class="n">hours</span> <span class="n">on</span> <span class="n">routine</span> <span class="n">administrative</span> <span class="n">tasks</span> <span class="n">like</span> <span class="n">report</span> <span class="n">generation</span><span class="p">,</span> <span class="n">data</span> <span class="n">entry</span><span class="p">,</span> <span class="ow">and</span> <span class="n">file</span> <span class="n">organization</span><span class="o">.</span>
</span><span id="__span-0-843"><a id="__codelineno-0-843" name="__codelineno-0-843" href="#__codelineno-0-843"></a>
</span><span id="__span-0-844"><a id="__codelineno-0-844" name="__codelineno-0-844" href="#__codelineno-0-844"></a><span class="err">```</span><span class="n">python</span>
</span><span id="__span-0-845"><a id="__codelineno-0-845" name="__codelineno-0-845" href="#__codelineno-0-845"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-0-846"><a id="__codelineno-0-846" name="__codelineno-0-846" href="#__codelineno-0-846"></a><span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>
</span><span id="__span-0-847"><a id="__codelineno-0-847" name="__codelineno-0-847" href="#__codelineno-0-847"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
</span><span id="__span-0-848"><a id="__codelineno-0-848" name="__codelineno-0-848" href="#__codelineno-0-848"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
</span><span id="__span-0-849"><a id="__codelineno-0-849" name="__codelineno-0-849" href="#__codelineno-0-849"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
</span><span id="__span-0-850"><a id="__codelineno-0-850" name="__codelineno-0-850" href="#__codelineno-0-850"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-0-851"><a id="__codelineno-0-851" name="__codelineno-0-851" href="#__codelineno-0-851"></a>
</span><span id="__span-0-852"><a id="__codelineno-0-852" name="__codelineno-0-852" href="#__codelineno-0-852"></a><span class="nd">@dataclass</span>
</span><span id="__span-0-853"><a id="__codelineno-0-853" name="__codelineno-0-853" href="#__codelineno-0-853"></a><span class="k">class</span><span class="w"> </span><span class="nc">TaskExecutionResult</span><span class="p">:</span>
</span><span id="__span-0-854"><a id="__codelineno-0-854" name="__codelineno-0-854" href="#__codelineno-0-854"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Result of executing an administrative task.&quot;&quot;&quot;</span>
</span><span id="__span-0-855"><a id="__codelineno-0-855" name="__codelineno-0-855" href="#__codelineno-0-855"></a>    <span class="n">task_name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-856"><a id="__codelineno-0-856" name="__codelineno-0-856" href="#__codelineno-0-856"></a>    <span class="n">start_time</span><span class="p">:</span> <span class="n">datetime</span>
</span><span id="__span-0-857"><a id="__codelineno-0-857" name="__codelineno-0-857" href="#__codelineno-0-857"></a>    <span class="n">end_time</span><span class="p">:</span> <span class="n">datetime</span>
</span><span id="__span-0-858"><a id="__codelineno-0-858" name="__codelineno-0-858" href="#__codelineno-0-858"></a>    <span class="n">success</span><span class="p">:</span> <span class="nb">bool</span>
</span><span id="__span-0-859"><a id="__codelineno-0-859" name="__codelineno-0-859" href="#__codelineno-0-859"></a>    <span class="n">details</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-0-860"><a id="__codelineno-0-860" name="__codelineno-0-860" href="#__codelineno-0-860"></a>    <span class="n">files_processed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-861"><a id="__codelineno-0-861" name="__codelineno-0-861" href="#__codelineno-0-861"></a>    <span class="n">errors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-0-862"><a id="__codelineno-0-862" name="__codelineno-0-862" href="#__codelineno-0-862"></a>
</span><span id="__span-0-863"><a id="__codelineno-0-863" name="__codelineno-0-863" href="#__codelineno-0-863"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-864"><a id="__codelineno-0-864" name="__codelineno-0-864" href="#__codelineno-0-864"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-0-865"><a id="__codelineno-0-865" name="__codelineno-0-865" href="#__codelineno-0-865"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-866"><a id="__codelineno-0-866" name="__codelineno-0-866" href="#__codelineno-0-866"></a>
</span><span id="__span-0-867"><a id="__codelineno-0-867" name="__codelineno-0-867" href="#__codelineno-0-867"></a>    <span class="nd">@property</span>
</span><span id="__span-0-868"><a id="__codelineno-0-868" name="__codelineno-0-868" href="#__codelineno-0-868"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">duration</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-0-869"><a id="__codelineno-0-869" name="__codelineno-0-869" href="#__codelineno-0-869"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get task duration in seconds.&quot;&quot;&quot;</span>
</span><span id="__span-0-870"><a id="__codelineno-0-870" name="__codelineno-0-870" href="#__codelineno-0-870"></a>        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
</span><span id="__span-0-871"><a id="__codelineno-0-871" name="__codelineno-0-871" href="#__codelineno-0-871"></a>
</span><span id="__span-0-872"><a id="__codelineno-0-872" name="__codelineno-0-872" href="#__codelineno-0-872"></a><span class="k">class</span><span class="w"> </span><span class="nc">AdministrativeTaskRPA</span><span class="p">:</span>
</span><span id="__span-0-873"><a id="__codelineno-0-873" name="__codelineno-0-873" href="#__codelineno-0-873"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-874"><a id="__codelineno-0-874" name="__codelineno-0-874" href="#__codelineno-0-874"></a><span class="sd">    RPA system for automating repetitive administrative tasks.</span>
</span><span id="__span-0-875"><a id="__codelineno-0-875" name="__codelineno-0-875" href="#__codelineno-0-875"></a><span class="sd">    Demonstrates how RPA handles routine office workflows.</span>
</span><span id="__span-0-876"><a id="__codelineno-0-876" name="__codelineno-0-876" href="#__codelineno-0-876"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-0-877"><a id="__codelineno-0-877" name="__codelineno-0-877" href="#__codelineno-0-877"></a>
</span><span id="__span-0-878"><a id="__codelineno-0-878" name="__codelineno-0-878" href="#__codelineno-0-878"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;./workspace&quot;</span><span class="p">):</span>
</span><span id="__span-0-879"><a id="__codelineno-0-879" name="__codelineno-0-879" href="#__codelineno-0-879"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span> <span class="o">=</span> <span class="n">workspace_path</span>
</span><span id="__span-0-880"><a id="__codelineno-0-880" name="__codelineno-0-880" href="#__codelineno-0-880"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_log</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-881"><a id="__codelineno-0-881" name="__codelineno-0-881" href="#__codelineno-0-881"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">file_organization_rules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_file_rules</span><span class="p">()</span>
</span><span id="__span-0-882"><a id="__codelineno-0-882" name="__codelineno-0-882" href="#__codelineno-0-882"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">report_templates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_report_templates</span><span class="p">()</span>
</span><span id="__span-0-883"><a id="__codelineno-0-883" name="__codelineno-0-883" href="#__codelineno-0-883"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_workspace_structure</span><span class="p">()</span>
</span><span id="__span-0-884"><a id="__codelineno-0-884" name="__codelineno-0-884" href="#__codelineno-0-884"></a>
</span><span id="__span-0-885"><a id="__codelineno-0-885" name="__codelineno-0-885" href="#__codelineno-0-885"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_ensure_workspace_structure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-0-886"><a id="__codelineno-0-886" name="__codelineno-0-886" href="#__codelineno-0-886"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Create necessary workspace directories.&quot;&quot;&quot;</span>
</span><span id="__span-0-887"><a id="__codelineno-0-887" name="__codelineno-0-887" href="#__codelineno-0-887"></a>        <span class="n">directories</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-888"><a id="__codelineno-0-888" name="__codelineno-0-888" href="#__codelineno-0-888"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/inbox&quot;</span><span class="p">,</span>
</span><span id="__span-0-889"><a id="__codelineno-0-889" name="__codelineno-0-889" href="#__codelineno-0-889"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/processed&quot;</span><span class="p">,</span>
</span><span id="__span-0-890"><a id="__codelineno-0-890" name="__codelineno-0-890" href="#__codelineno-0-890"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/reports&quot;</span><span class="p">,</span>
</span><span id="__span-0-891"><a id="__codelineno-0-891" name="__codelineno-0-891" href="#__codelineno-0-891"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/archive&quot;</span><span class="p">,</span>
</span><span id="__span-0-892"><a id="__codelineno-0-892" name="__codelineno-0-892" href="#__codelineno-0-892"></a>            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/temp&quot;</span>
</span><span id="__span-0-893"><a id="__codelineno-0-893" name="__codelineno-0-893" href="#__codelineno-0-893"></a>        <span class="p">]</span>
</span><span id="__span-0-894"><a id="__codelineno-0-894" name="__codelineno-0-894" href="#__codelineno-0-894"></a>
</span><span id="__span-0-895"><a id="__codelineno-0-895" name="__codelineno-0-895" href="#__codelineno-0-895"></a>        <span class="k">for</span> <span class="n">directory</span> <span class="ow">in</span> <span class="n">directories</span><span class="p">:</span>
</span><span id="__span-0-896"><a id="__codelineno-0-896" name="__codelineno-0-896" href="#__codelineno-0-896"></a>            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-897"><a id="__codelineno-0-897" name="__codelineno-0-897" href="#__codelineno-0-897"></a>
</span><span id="__span-0-898"><a id="__codelineno-0-898" name="__codelineno-0-898" href="#__codelineno-0-898"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_file_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="__span-0-899"><a id="__codelineno-0-899" name="__codelineno-0-899" href="#__codelineno-0-899"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize file organization rules.&quot;&quot;&quot;</span>
</span><span id="__span-0-900"><a id="__codelineno-0-900" name="__codelineno-0-900" href="#__codelineno-0-900"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-0-901"><a id="__codelineno-0-901" name="__codelineno-0-901" href="#__codelineno-0-901"></a>            <span class="s2">&quot;invoices&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-902"><a id="__codelineno-0-902" name="__codelineno-0-902" href="#__codelineno-0-902"></a>                <span class="s2">&quot;patterns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;*invoice*&quot;</span><span class="p">,</span> <span class="s2">&quot;*bill*&quot;</span><span class="p">,</span> <span class="s2">&quot;*receipt*&quot;</span><span class="p">],</span>
</span><span id="__span-0-903"><a id="__codelineno-0-903" name="__codelineno-0-903" href="#__codelineno-0-903"></a>                <span class="s2">&quot;destination&quot;</span><span class="p">:</span> <span class="s2">&quot;processed/financial&quot;</span><span class="p">,</span>
</span><span id="__span-0-904"><a id="__codelineno-0-904" name="__codelineno-0-904" href="#__codelineno-0-904"></a>                <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">2555</span>  <span class="c1"># 7 years</span>
</span><span id="__span-0-905"><a id="__codelineno-0-905" name="__codelineno-0-905" href="#__codelineno-0-905"></a>            <span class="p">},</span>
</span><span id="__span-0-906"><a id="__codelineno-0-906" name="__codelineno-0-906" href="#__codelineno-0-906"></a>            <span class="s2">&quot;contracts&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-907"><a id="__codelineno-0-907" name="__codelineno-0-907" href="#__codelineno-0-907"></a>                <span class="s2">&quot;patterns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;*contract*&quot;</span><span class="p">,</span> <span class="s2">&quot;*agreement*&quot;</span><span class="p">,</span> <span class="s2">&quot;*terms*&quot;</span><span class="p">],</span>
</span><span id="__span-0-908"><a id="__codelineno-0-908" name="__codelineno-0-908" href="#__codelineno-0-908"></a>                <span class="s2">&quot;destination&quot;</span><span class="p">:</span> <span class="s2">&quot;processed/legal&quot;</span><span class="p">,</span> 
</span><span id="__span-0-909"><a id="__codelineno-0-909" name="__codelineno-0-909" href="#__codelineno-0-909"></a>                <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">3650</span>  <span class="c1"># 10 years</span>
</span><span id="__span-0-910"><a id="__codelineno-0-910" name="__codelineno-0-910" href="#__codelineno-0-910"></a>            <span class="p">},</span>
</span><span id="__span-0-911"><a id="__codelineno-0-911" name="__codelineno-0-911" href="#__codelineno-0-911"></a>            <span class="s2">&quot;reports&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-912"><a id="__codelineno-0-912" name="__codelineno-0-912" href="#__codelineno-0-912"></a>                <span class="s2">&quot;patterns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;*report*&quot;</span><span class="p">,</span> <span class="s2">&quot;*analysis*&quot;</span><span class="p">,</span> <span class="s2">&quot;*summary*&quot;</span><span class="p">],</span>
</span><span id="__span-0-913"><a id="__codelineno-0-913" name="__codelineno-0-913" href="#__codelineno-0-913"></a>                <span class="s2">&quot;destination&quot;</span><span class="p">:</span> <span class="s2">&quot;processed/reports&quot;</span><span class="p">,</span>
</span><span id="__span-0-914"><a id="__codelineno-0-914" name="__codelineno-0-914" href="#__codelineno-0-914"></a>                <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">365</span>  <span class="c1"># 1 year</span>
</span><span id="__span-0-915"><a id="__codelineno-0-915" name="__codelineno-0-915" href="#__codelineno-0-915"></a>            <span class="p">},</span>
</span><span id="__span-0-916"><a id="__codelineno-0-916" name="__codelineno-0-916" href="#__codelineno-0-916"></a>            <span class="s2">&quot;correspondence&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-917"><a id="__codelineno-0-917" name="__codelineno-0-917" href="#__codelineno-0-917"></a>                <span class="s2">&quot;patterns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;*email*&quot;</span><span class="p">,</span> <span class="s2">&quot;*letter*&quot;</span><span class="p">,</span> <span class="s2">&quot;*memo*&quot;</span><span class="p">],</span>
</span><span id="__span-0-918"><a id="__codelineno-0-918" name="__codelineno-0-918" href="#__codelineno-0-918"></a>                <span class="s2">&quot;destination&quot;</span><span class="p">:</span> <span class="s2">&quot;processed/correspondence&quot;</span><span class="p">,</span>
</span><span id="__span-0-919"><a id="__codelineno-0-919" name="__codelineno-0-919" href="#__codelineno-0-919"></a>                <span class="s2">&quot;retention_days&quot;</span><span class="p">:</span> <span class="mi">1095</span>  <span class="c1"># 3 years</span>
</span><span id="__span-0-920"><a id="__codelineno-0-920" name="__codelineno-0-920" href="#__codelineno-0-920"></a>            <span class="p">}</span>
</span><span id="__span-0-921"><a id="__codelineno-0-921" name="__codelineno-0-921" href="#__codelineno-0-921"></a>        <span class="p">}</span>
</span><span id="__span-0-922"><a id="__codelineno-0-922" name="__codelineno-0-922" href="#__codelineno-0-922"></a>
</span><span id="__span-0-923"><a id="__codelineno-0-923" name="__codelineno-0-923" href="#__codelineno-0-923"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_report_templates</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="__span-0-924"><a id="__codelineno-0-924" name="__codelineno-0-924" href="#__codelineno-0-924"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize report generation templates.&quot;&quot;&quot;</span>
</span><span id="__span-0-925"><a id="__codelineno-0-925" name="__codelineno-0-925" href="#__codelineno-0-925"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-0-926"><a id="__codelineno-0-926" name="__codelineno-0-926" href="#__codelineno-0-926"></a>            <span class="s2">&quot;daily_summary&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-927"><a id="__codelineno-0-927" name="__codelineno-0-927" href="#__codelineno-0-927"></a>                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Daily Operations Summary&quot;</span><span class="p">,</span>
</span><span id="__span-0-928"><a id="__codelineno-0-928" name="__codelineno-0-928" href="#__codelineno-0-928"></a>                <span class="s2">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;files_processed&quot;</span><span class="p">,</span> <span class="s2">&quot;tasks_completed&quot;</span><span class="p">,</span> <span class="s2">&quot;errors_encountered&quot;</span><span class="p">],</span>
</span><span id="__span-0-929"><a id="__codelineno-0-929" name="__codelineno-0-929" href="#__codelineno-0-929"></a>                <span class="s2">&quot;recipients&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;manager@company.com&quot;</span><span class="p">,</span> <span class="s2">&quot;operations@company.com&quot;</span><span class="p">]</span>
</span><span id="__span-0-930"><a id="__codelineno-0-930" name="__codelineno-0-930" href="#__codelineno-0-930"></a>            <span class="p">},</span>
</span><span id="__span-0-931"><a id="__codelineno-0-931" name="__codelineno-0-931" href="#__codelineno-0-931"></a>            <span class="s2">&quot;weekly_metrics&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-932"><a id="__codelineno-0-932" name="__codelineno-0-932" href="#__codelineno-0-932"></a>                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Weekly Performance Metrics&quot;</span><span class="p">,</span> 
</span><span id="__span-0-933"><a id="__codelineno-0-933" name="__codelineno-0-933" href="#__codelineno-0-933"></a>                <span class="s2">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;productivity_stats&quot;</span><span class="p">,</span> <span class="s2">&quot;automation_efficiency&quot;</span><span class="p">,</span> <span class="s2">&quot;error_analysis&quot;</span><span class="p">],</span>
</span><span id="__span-0-934"><a id="__codelineno-0-934" name="__codelineno-0-934" href="#__codelineno-0-934"></a>                <span class="s2">&quot;recipients&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;director@company.com&quot;</span><span class="p">,</span> <span class="s2">&quot;it@company.com&quot;</span><span class="p">]</span>
</span><span id="__span-0-935"><a id="__codelineno-0-935" name="__codelineno-0-935" href="#__codelineno-0-935"></a>            <span class="p">},</span>
</span><span id="__span-0-936"><a id="__codelineno-0-936" name="__codelineno-0-936" href="#__codelineno-0-936"></a>            <span class="s2">&quot;monthly_compliance&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-937"><a id="__codelineno-0-937" name="__codelineno-0-937" href="#__codelineno-0-937"></a>                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Monthly Compliance Report&quot;</span><span class="p">,</span>
</span><span id="__span-0-938"><a id="__codelineno-0-938" name="__codelineno-0-938" href="#__codelineno-0-938"></a>                <span class="s2">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;file_retention&quot;</span><span class="p">,</span> <span class="s2">&quot;security_compliance&quot;</span><span class="p">,</span> <span class="s2">&quot;audit_trail&quot;</span><span class="p">],</span>
</span><span id="__span-0-939"><a id="__codelineno-0-939" name="__codelineno-0-939" href="#__codelineno-0-939"></a>                <span class="s2">&quot;recipients&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;compliance@company.com&quot;</span><span class="p">,</span> <span class="s2">&quot;legal@company.com&quot;</span><span class="p">]</span>
</span><span id="__span-0-940"><a id="__codelineno-0-940" name="__codelineno-0-940" href="#__codelineno-0-940"></a>            <span class="p">}</span>
</span><span id="__span-0-941"><a id="__codelineno-0-941" name="__codelineno-0-941" href="#__codelineno-0-941"></a>        <span class="p">}</span>
</span><span id="__span-0-942"><a id="__codelineno-0-942" name="__codelineno-0-942" href="#__codelineno-0-942"></a>
</span><span id="__span-0-943"><a id="__codelineno-0-943" name="__codelineno-0-943" href="#__codelineno-0-943"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">simulate_file_organization</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskExecutionResult</span><span class="p">:</span>
</span><span id="__span-0-944"><a id="__codelineno-0-944" name="__codelineno-0-944" href="#__codelineno-0-944"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate organizing files in inbox according to business rules.&quot;&quot;&quot;</span>
</span><span id="__span-0-945"><a id="__codelineno-0-945" name="__codelineno-0-945" href="#__codelineno-0-945"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-946"><a id="__codelineno-0-946" name="__codelineno-0-946" href="#__codelineno-0-946"></a>        <span class="n">task_name</span> <span class="o">=</span> <span class="s2">&quot;file_organization&quot;</span>
</span><span id="__span-0-947"><a id="__codelineno-0-947" name="__codelineno-0-947" href="#__codelineno-0-947"></a>
</span><span id="__span-0-948"><a id="__codelineno-0-948" name="__codelineno-0-948" href="#__codelineno-0-948"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting </span><span class="si">{</span><span class="n">task_name</span><span class="si">}</span><span class="s2"> task...&quot;</span><span class="p">)</span>
</span><span id="__span-0-949"><a id="__codelineno-0-949" name="__codelineno-0-949" href="#__codelineno-0-949"></a>
</span><span id="__span-0-950"><a id="__codelineno-0-950" name="__codelineno-0-950" href="#__codelineno-0-950"></a>        <span class="c1"># Simulate files in inbox</span>
</span><span id="__span-0-951"><a id="__codelineno-0-951" name="__codelineno-0-951" href="#__codelineno-0-951"></a>        <span class="n">simulated_files</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-952"><a id="__codelineno-0-952" name="__codelineno-0-952" href="#__codelineno-0-952"></a>            <span class="s2">&quot;monthly_invoice_march_2024.pdf&quot;</span><span class="p">,</span>
</span><span id="__span-0-953"><a id="__codelineno-0-953" name="__codelineno-0-953" href="#__codelineno-0-953"></a>            <span class="s2">&quot;service_contract_renewal.docx&quot;</span><span class="p">,</span> 
</span><span id="__span-0-954"><a id="__codelineno-0-954" name="__codelineno-0-954" href="#__codelineno-0-954"></a>            <span class="s2">&quot;weekly_sales_report.xlsx&quot;</span><span class="p">,</span>
</span><span id="__span-0-955"><a id="__codelineno-0-955" name="__codelineno-0-955" href="#__codelineno-0-955"></a>            <span class="s2">&quot;customer_email_inquiry.msg&quot;</span><span class="p">,</span>
</span><span id="__span-0-956"><a id="__codelineno-0-956" name="__codelineno-0-956" href="#__codelineno-0-956"></a>            <span class="s2">&quot;annual_financial_report.pdf&quot;</span><span class="p">,</span>
</span><span id="__span-0-957"><a id="__codelineno-0-957" name="__codelineno-0-957" href="#__codelineno-0-957"></a>            <span class="s2">&quot;vendor_agreement_updated.pdf&quot;</span><span class="p">,</span>
</span><span id="__span-0-958"><a id="__codelineno-0-958" name="__codelineno-0-958" href="#__codelineno-0-958"></a>            <span class="s2">&quot;expense_receipt_office_supplies.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-0-959"><a id="__codelineno-0-959" name="__codelineno-0-959" href="#__codelineno-0-959"></a>            <span class="s2">&quot;project_status_memo.doc&quot;</span>
</span><span id="__span-0-960"><a id="__codelineno-0-960" name="__codelineno-0-960" href="#__codelineno-0-960"></a>        <span class="p">]</span>
</span><span id="__span-0-961"><a id="__codelineno-0-961" name="__codelineno-0-961" href="#__codelineno-0-961"></a>
</span><span id="__span-0-962"><a id="__codelineno-0-962" name="__codelineno-0-962" href="#__codelineno-0-962"></a>        <span class="n">organized_files</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-963"><a id="__codelineno-0-963" name="__codelineno-0-963" href="#__codelineno-0-963"></a>        <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-964"><a id="__codelineno-0-964" name="__codelineno-0-964" href="#__codelineno-0-964"></a>        <span class="n">processing_details</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-965"><a id="__codelineno-0-965" name="__codelineno-0-965" href="#__codelineno-0-965"></a>
</span><span id="__span-0-966"><a id="__codelineno-0-966" name="__codelineno-0-966" href="#__codelineno-0-966"></a>        <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">simulated_files</span><span class="p">:</span>
</span><span id="__span-0-967"><a id="__codelineno-0-967" name="__codelineno-0-967" href="#__codelineno-0-967"></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-968"><a id="__codelineno-0-968" name="__codelineno-0-968" href="#__codelineno-0-968"></a>                <span class="c1"># Determine file category</span>
</span><span id="__span-0-969"><a id="__codelineno-0-969" name="__codelineno-0-969" href="#__codelineno-0-969"></a>                <span class="n">category</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_categorize_file</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="__span-0-970"><a id="__codelineno-0-970" name="__codelineno-0-970" href="#__codelineno-0-970"></a>
</span><span id="__span-0-971"><a id="__codelineno-0-971" name="__codelineno-0-971" href="#__codelineno-0-971"></a>                <span class="k">if</span> <span class="n">category</span><span class="p">:</span>
</span><span id="__span-0-972"><a id="__codelineno-0-972" name="__codelineno-0-972" href="#__codelineno-0-972"></a>                    <span class="n">destination</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_organization_rules</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="s2">&quot;destination&quot;</span><span class="p">]</span>
</span><span id="__span-0-973"><a id="__codelineno-0-973" name="__codelineno-0-973" href="#__codelineno-0-973"></a>                    <span class="n">full_destination</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">destination</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-974"><a id="__codelineno-0-974" name="__codelineno-0-974" href="#__codelineno-0-974"></a>
</span><span id="__span-0-975"><a id="__codelineno-0-975" name="__codelineno-0-975" href="#__codelineno-0-975"></a>                    <span class="c1"># Simulate file move</span>
</span><span id="__span-0-976"><a id="__codelineno-0-976" name="__codelineno-0-976" href="#__codelineno-0-976"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Moving </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">destination</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-977"><a id="__codelineno-0-977" name="__codelineno-0-977" href="#__codelineno-0-977"></a>                    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">full_destination</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-978"><a id="__codelineno-0-978" name="__codelineno-0-978" href="#__codelineno-0-978"></a>
</span><span id="__span-0-979"><a id="__codelineno-0-979" name="__codelineno-0-979" href="#__codelineno-0-979"></a>                    <span class="c1"># Create metadata file</span>
</span><span id="__span-0-980"><a id="__codelineno-0-980" name="__codelineno-0-980" href="#__codelineno-0-980"></a>                    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-0-981"><a id="__codelineno-0-981" name="__codelineno-0-981" href="#__codelineno-0-981"></a>                        <span class="s2">&quot;original_filename&quot;</span><span class="p">:</span> <span class="n">filename</span><span class="p">,</span>
</span><span id="__span-0-982"><a id="__codelineno-0-982" name="__codelineno-0-982" href="#__codelineno-0-982"></a>                        <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="n">category</span><span class="p">,</span>
</span><span id="__span-0-983"><a id="__codelineno-0-983" name="__codelineno-0-983" href="#__codelineno-0-983"></a>                        <span class="s2">&quot;processed_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-0-984"><a id="__codelineno-0-984" name="__codelineno-0-984" href="#__codelineno-0-984"></a>                        <span class="s2">&quot;retention_until&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_organization_rules</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="s2">&quot;retention_days&quot;</span><span class="p">]))</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-0-985"><a id="__codelineno-0-985" name="__codelineno-0-985" href="#__codelineno-0-985"></a>                    <span class="p">}</span>
</span><span id="__span-0-986"><a id="__codelineno-0-986" name="__codelineno-0-986" href="#__codelineno-0-986"></a>
</span><span id="__span-0-987"><a id="__codelineno-0-987" name="__codelineno-0-987" href="#__codelineno-0-987"></a>                    <span class="n">metadata_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">full_destination</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.metadata.json&quot;</span>
</span><span id="__span-0-988"><a id="__codelineno-0-988" name="__codelineno-0-988" href="#__codelineno-0-988"></a>                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">metadata_filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="__span-0-989"><a id="__codelineno-0-989" name="__codelineno-0-989" href="#__codelineno-0-989"></a>                        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-0-990"><a id="__codelineno-0-990" name="__codelineno-0-990" href="#__codelineno-0-990"></a>
</span><span id="__span-0-991"><a id="__codelineno-0-991" name="__codelineno-0-991" href="#__codelineno-0-991"></a>                    <span class="n">processing_details</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Organized </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-992"><a id="__codelineno-0-992" name="__codelineno-0-992" href="#__codelineno-0-992"></a>                    <span class="n">organized_files</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-993"><a id="__codelineno-0-993" name="__codelineno-0-993" href="#__codelineno-0-993"></a>
</span><span id="__span-0-994"><a id="__codelineno-0-994" name="__codelineno-0-994" href="#__codelineno-0-994"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-995"><a id="__codelineno-0-995" name="__codelineno-0-995" href="#__codelineno-0-995"></a>                    <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not categorize file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-996"><a id="__codelineno-0-996" name="__codelineno-0-996" href="#__codelineno-0-996"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Warning: Could not categorize </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-997"><a id="__codelineno-0-997" name="__codelineno-0-997" href="#__codelineno-0-997"></a>
</span><span id="__span-0-998"><a id="__codelineno-0-998" name="__codelineno-0-998" href="#__codelineno-0-998"></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-999"><a id="__codelineno-0-999" name="__codelineno-0-999" href="#__codelineno-0-999"></a>                <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error processing </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1000"><a id="__codelineno-0-1000" name="__codelineno-0-1000" href="#__codelineno-0-1000"></a>
</span><span id="__span-0-1001"><a id="__codelineno-0-1001" name="__codelineno-0-1001" href="#__codelineno-0-1001"></a>        <span class="n">end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-1002"><a id="__codelineno-0-1002" name="__codelineno-0-1002" href="#__codelineno-0-1002"></a>
</span><span id="__span-0-1003"><a id="__codelineno-0-1003" name="__codelineno-0-1003" href="#__codelineno-0-1003"></a>        <span class="n">success</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</span><span id="__span-0-1004"><a id="__codelineno-0-1004" name="__codelineno-0-1004" href="#__codelineno-0-1004"></a>        <span class="n">details</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Organized </span><span class="si">{</span><span class="n">organized_files</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">simulated_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> files&quot;</span>
</span><span id="__span-0-1005"><a id="__codelineno-0-1005" name="__codelineno-0-1005" href="#__codelineno-0-1005"></a>        <span class="k">if</span> <span class="n">errors</span><span class="p">:</span>
</span><span id="__span-0-1006"><a id="__codelineno-0-1006" name="__codelineno-0-1006" href="#__codelineno-0-1006"></a>            <span class="n">details</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span><span class="si">}</span><span class="s2"> errors&quot;</span>
</span><span id="__span-0-1007"><a id="__codelineno-0-1007" name="__codelineno-0-1007" href="#__codelineno-0-1007"></a>
</span><span id="__span-0-1008"><a id="__codelineno-0-1008" name="__codelineno-0-1008" href="#__codelineno-0-1008"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">TaskExecutionResult</span><span class="p">(</span>
</span><span id="__span-0-1009"><a id="__codelineno-0-1009" name="__codelineno-0-1009" href="#__codelineno-0-1009"></a>            <span class="n">task_name</span><span class="o">=</span><span class="n">task_name</span><span class="p">,</span>
</span><span id="__span-0-1010"><a id="__codelineno-0-1010" name="__codelineno-0-1010" href="#__codelineno-0-1010"></a>            <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
</span><span id="__span-0-1011"><a id="__codelineno-0-1011" name="__codelineno-0-1011" href="#__codelineno-0-1011"></a>            <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
</span><span id="__span-0-1012"><a id="__codelineno-0-1012" name="__codelineno-0-1012" href="#__codelineno-0-1012"></a>            <span class="n">success</span><span class="o">=</span><span class="n">success</span><span class="p">,</span>
</span><span id="__span-0-1013"><a id="__codelineno-0-1013" name="__codelineno-0-1013" href="#__codelineno-0-1013"></a>            <span class="n">details</span><span class="o">=</span><span class="n">details</span><span class="p">,</span>
</span><span id="__span-0-1014"><a id="__codelineno-0-1014" name="__codelineno-0-1014" href="#__codelineno-0-1014"></a>            <span class="n">files_processed</span><span class="o">=</span><span class="n">organized_files</span><span class="p">,</span>
</span><span id="__span-0-1015"><a id="__codelineno-0-1015" name="__codelineno-0-1015" href="#__codelineno-0-1015"></a>            <span class="n">errors</span><span class="o">=</span><span class="n">errors</span>
</span><span id="__span-0-1016"><a id="__codelineno-0-1016" name="__codelineno-0-1016" href="#__codelineno-0-1016"></a>        <span class="p">)</span>
</span><span id="__span-0-1017"><a id="__codelineno-0-1017" name="__codelineno-0-1017" href="#__codelineno-0-1017"></a>
</span><span id="__span-0-1018"><a id="__codelineno-0-1018" name="__codelineno-0-1018" href="#__codelineno-0-1018"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-0-1019"><a id="__codelineno-0-1019" name="__codelineno-0-1019" href="#__codelineno-0-1019"></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="__span-0-1020"><a id="__codelineno-0-1020" name="__codelineno-0-1020" href="#__codelineno-0-1020"></a>
</span><span id="__span-0-1021"><a id="__codelineno-0-1021" name="__codelineno-0-1021" href="#__codelineno-0-1021"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_categorize_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-0-1022"><a id="__codelineno-0-1022" name="__codelineno-0-1022" href="#__codelineno-0-1022"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Categorize file based on naming patterns.&quot;&quot;&quot;</span>
</span><span id="__span-0-1023"><a id="__codelineno-0-1023" name="__codelineno-0-1023" href="#__codelineno-0-1023"></a>        <span class="n">filename_lower</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-0-1024"><a id="__codelineno-0-1024" name="__codelineno-0-1024" href="#__codelineno-0-1024"></a>
</span><span id="__span-0-1025"><a id="__codelineno-0-1025" name="__codelineno-0-1025" href="#__codelineno-0-1025"></a>        <span class="k">for</span> <span class="n">category</span><span class="p">,</span> <span class="n">rules</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_organization_rules</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-0-1026"><a id="__codelineno-0-1026" name="__codelineno-0-1026" href="#__codelineno-0-1026"></a>            <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="n">rules</span><span class="p">[</span><span class="s2">&quot;patterns&quot;</span><span class="p">]:</span>
</span><span id="__span-0-1027"><a id="__codelineno-0-1027" name="__codelineno-0-1027" href="#__codelineno-0-1027"></a>                <span class="c1"># Simple pattern matching (in production, would use proper glob/regex)</span>
</span><span id="__span-0-1028"><a id="__codelineno-0-1028" name="__codelineno-0-1028" href="#__codelineno-0-1028"></a>                <span class="n">pattern_clean</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="__span-0-1029"><a id="__codelineno-0-1029" name="__codelineno-0-1029" href="#__codelineno-0-1029"></a>                <span class="k">if</span> <span class="n">pattern_clean</span> <span class="ow">in</span> <span class="n">filename_lower</span><span class="p">:</span>
</span><span id="__span-0-1030"><a id="__codelineno-0-1030" name="__codelineno-0-1030" href="#__codelineno-0-1030"></a>                    <span class="k">return</span> <span class="n">category</span>
</span><span id="__span-0-1031"><a id="__codelineno-0-1031" name="__codelineno-0-1031" href="#__codelineno-0-1031"></a>
</span><span id="__span-0-1032"><a id="__codelineno-0-1032" name="__codelineno-0-1032" href="#__codelineno-0-1032"></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-0-1033"><a id="__codelineno-0-1033" name="__codelineno-0-1033" href="#__codelineno-0-1033"></a>
</span><span id="__span-0-1034"><a id="__codelineno-0-1034" name="__codelineno-0-1034" href="#__codelineno-0-1034"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_daily_report</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskExecutionResult</span><span class="p">:</span>
</span><span id="__span-0-1035"><a id="__codelineno-0-1035" name="__codelineno-0-1035" href="#__codelineno-0-1035"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate automated daily operations report.&quot;&quot;&quot;</span>
</span><span id="__span-0-1036"><a id="__codelineno-0-1036" name="__codelineno-0-1036" href="#__codelineno-0-1036"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-1037"><a id="__codelineno-0-1037" name="__codelineno-0-1037" href="#__codelineno-0-1037"></a>        <span class="n">task_name</span> <span class="o">=</span> <span class="s2">&quot;daily_report_generation&quot;</span>
</span><span id="__span-0-1038"><a id="__codelineno-0-1038" name="__codelineno-0-1038" href="#__codelineno-0-1038"></a>
</span><span id="__span-0-1039"><a id="__codelineno-0-1039" name="__codelineno-0-1039" href="#__codelineno-0-1039"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting </span><span class="si">{</span><span class="n">task_name</span><span class="si">}</span><span class="s2"> task...&quot;</span><span class="p">)</span>
</span><span id="__span-0-1040"><a id="__codelineno-0-1040" name="__codelineno-0-1040" href="#__codelineno-0-1040"></a>
</span><span id="__span-0-1041"><a id="__codelineno-0-1041" name="__codelineno-0-1041" href="#__codelineno-0-1041"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-1042"><a id="__codelineno-0-1042" name="__codelineno-0-1042" href="#__codelineno-0-1042"></a>            <span class="c1"># Collect data for report</span>
</span><span id="__span-0-1043"><a id="__codelineno-0-1043" name="__codelineno-0-1043" href="#__codelineno-0-1043"></a>            <span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
</span><span id="__span-0-1044"><a id="__codelineno-0-1044" name="__codelineno-0-1044" href="#__codelineno-0-1044"></a>            <span class="n">today_tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">task</span> <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_log</span> <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">start_time</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="o">==</span> <span class="n">today</span><span class="p">]</span>
</span><span id="__span-0-1045"><a id="__codelineno-0-1045" name="__codelineno-0-1045" href="#__codelineno-0-1045"></a>
</span><span id="__span-0-1046"><a id="__codelineno-0-1046" name="__codelineno-0-1046" href="#__codelineno-0-1046"></a>            <span class="c1"># Calculate metrics</span>
</span><span id="__span-0-1047"><a id="__codelineno-0-1047" name="__codelineno-0-1047" href="#__codelineno-0-1047"></a>            <span class="n">total_tasks</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">today_tasks</span><span class="p">)</span>
</span><span id="__span-0-1048"><a id="__codelineno-0-1048" name="__codelineno-0-1048" href="#__codelineno-0-1048"></a>            <span class="n">successful_tasks</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">today_tasks</span> <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">success</span><span class="p">)</span>
</span><span id="__span-0-1049"><a id="__codelineno-0-1049" name="__codelineno-0-1049" href="#__codelineno-0-1049"></a>            <span class="n">total_files_processed</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">files_processed</span> <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">today_tasks</span><span class="p">)</span>
</span><span id="__span-0-1050"><a id="__codelineno-0-1050" name="__codelineno-0-1050" href="#__codelineno-0-1050"></a>            <span class="n">total_errors</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span> <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">today_tasks</span><span class="p">)</span>
</span><span id="__span-0-1051"><a id="__codelineno-0-1051" name="__codelineno-0-1051" href="#__codelineno-0-1051"></a>
</span><span id="__span-0-1052"><a id="__codelineno-0-1052" name="__codelineno-0-1052" href="#__codelineno-0-1052"></a>            <span class="c1"># Generate report content</span>
</span><span id="__span-0-1053"><a id="__codelineno-0-1053" name="__codelineno-0-1053" href="#__codelineno-0-1053"></a>            <span class="n">report_content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-0-1054"><a id="__codelineno-0-1054" name="__codelineno-0-1054" href="#__codelineno-0-1054"></a><span class="s2">DAILY OPERATIONS SUMMARY</span>
</span><span id="__span-0-1055"><a id="__codelineno-0-1055" name="__codelineno-0-1055" href="#__codelineno-0-1055"></a><span class="s2">Date: </span><span class="si">{</span><span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-0-1056"><a id="__codelineno-0-1056" name="__codelineno-0-1056" href="#__codelineno-0-1056"></a><span class="s2">Generated: </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span><span class="si">}</span>
</span><span id="__span-0-1057"><a id="__codelineno-0-1057" name="__codelineno-0-1057" href="#__codelineno-0-1057"></a>
</span><span id="__span-0-1058"><a id="__codelineno-0-1058" name="__codelineno-0-1058" href="#__codelineno-0-1058"></a><span class="s2">TASK SUMMARY:</span>
</span><span id="__span-0-1059"><a id="__codelineno-0-1059" name="__codelineno-0-1059" href="#__codelineno-0-1059"></a><span class="s2">- Total Tasks Executed: </span><span class="si">{</span><span class="n">total_tasks</span><span class="si">}</span>
</span><span id="__span-0-1060"><a id="__codelineno-0-1060" name="__codelineno-0-1060" href="#__codelineno-0-1060"></a><span class="s2">- Successful Tasks: </span><span class="si">{</span><span class="n">successful_tasks</span><span class="si">}</span>
</span><span id="__span-0-1061"><a id="__codelineno-0-1061" name="__codelineno-0-1061" href="#__codelineno-0-1061"></a><span class="s2">- Failed Tasks: </span><span class="si">{</span><span class="n">total_tasks</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">successful_tasks</span><span class="si">}</span>
</span><span id="__span-0-1062"><a id="__codelineno-0-1062" name="__codelineno-0-1062" href="#__codelineno-0-1062"></a><span class="s2">- Success Rate: </span><span class="si">{</span><span class="p">(</span><span class="n">successful_tasks</span><span class="o">/</span><span class="n">total_tasks</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">% if total_tasks &gt; 0 else N/A</span>
</span><span id="__span-0-1063"><a id="__codelineno-0-1063" name="__codelineno-0-1063" href="#__codelineno-0-1063"></a>
</span><span id="__span-0-1064"><a id="__codelineno-0-1064" name="__codelineno-0-1064" href="#__codelineno-0-1064"></a><span class="s2">FILE PROCESSING:</span>
</span><span id="__span-0-1065"><a id="__codelineno-0-1065" name="__codelineno-0-1065" href="#__codelineno-0-1065"></a><span class="s2">- Total Files Processed: </span><span class="si">{</span><span class="n">total_files_processed</span><span class="si">}</span>
</span><span id="__span-0-1066"><a id="__codelineno-0-1066" name="__codelineno-0-1066" href="#__codelineno-0-1066"></a><span class="s2">- Total Errors Encountered: </span><span class="si">{</span><span class="n">total_errors</span><span class="si">}</span>
</span><span id="__span-0-1067"><a id="__codelineno-0-1067" name="__codelineno-0-1067" href="#__codelineno-0-1067"></a>
</span><span id="__span-0-1068"><a id="__codelineno-0-1068" name="__codelineno-0-1068" href="#__codelineno-0-1068"></a><span class="s2">TASK DETAILS:</span>
</span><span id="__span-0-1069"><a id="__codelineno-0-1069" name="__codelineno-0-1069" href="#__codelineno-0-1069"></a><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-0-1070"><a id="__codelineno-0-1070" name="__codelineno-0-1070" href="#__codelineno-0-1070"></a>
</span><span id="__span-0-1071"><a id="__codelineno-0-1071" name="__codelineno-0-1071" href="#__codelineno-0-1071"></a>            <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">today_tasks</span><span class="p">:</span>
</span><span id="__span-0-1072"><a id="__codelineno-0-1072" name="__codelineno-0-1072" href="#__codelineno-0-1072"></a>                <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;✅ SUCCESS&quot;</span> <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">success</span> <span class="k">else</span> <span class="s2">&quot;❌ FAILED&quot;</span>
</span><span id="__span-0-1073"><a id="__codelineno-0-1073" name="__codelineno-0-1073" href="#__codelineno-0-1073"></a>                <span class="n">report_content</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">task_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">duration</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s)</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-1074"><a id="__codelineno-0-1074" name="__codelineno-0-1074" href="#__codelineno-0-1074"></a>                <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
</span><span id="__span-0-1075"><a id="__codelineno-0-1075" name="__codelineno-0-1075" href="#__codelineno-0-1075"></a>                    <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
</span><span id="__span-0-1076"><a id="__codelineno-0-1076" name="__codelineno-0-1076" href="#__codelineno-0-1076"></a>                        <span class="n">report_content</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  Error: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-0-1077"><a id="__codelineno-0-1077" name="__codelineno-0-1077" href="#__codelineno-0-1077"></a>
</span><span id="__span-0-1078"><a id="__codelineno-0-1078" name="__codelineno-0-1078" href="#__codelineno-0-1078"></a>            <span class="c1"># Save report</span>
</span><span id="__span-0-1079"><a id="__codelineno-0-1079" name="__codelineno-0-1079" href="#__codelineno-0-1079"></a>            <span class="n">report_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/reports/daily_summary_</span><span class="si">{</span><span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">.txt&quot;</span>
</span><span id="__span-0-1080"><a id="__codelineno-0-1080" name="__codelineno-0-1080" href="#__codelineno-0-1080"></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">report_filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="__span-0-1081"><a id="__codelineno-0-1081" name="__codelineno-0-1081" href="#__codelineno-0-1081"></a>                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">report_content</span><span class="p">)</span>
</span><span id="__span-0-1082"><a id="__codelineno-0-1082" name="__codelineno-0-1082" href="#__codelineno-0-1082"></a>
</span><span id="__span-0-1083"><a id="__codelineno-0-1083" name="__codelineno-0-1083" href="#__codelineno-0-1083"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Daily report saved to: </span><span class="si">{</span><span class="n">report_filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1084"><a id="__codelineno-0-1084" name="__codelineno-0-1084" href="#__codelineno-0-1084"></a>
</span><span id="__span-0-1085"><a id="__codelineno-0-1085" name="__codelineno-0-1085" href="#__codelineno-0-1085"></a>            <span class="n">end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-1086"><a id="__codelineno-0-1086" name="__codelineno-0-1086" href="#__codelineno-0-1086"></a>
</span><span id="__span-0-1087"><a id="__codelineno-0-1087" name="__codelineno-0-1087" href="#__codelineno-0-1087"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">TaskExecutionResult</span><span class="p">(</span>
</span><span id="__span-0-1088"><a id="__codelineno-0-1088" name="__codelineno-0-1088" href="#__codelineno-0-1088"></a>                <span class="n">task_name</span><span class="o">=</span><span class="n">task_name</span><span class="p">,</span>
</span><span id="__span-0-1089"><a id="__codelineno-0-1089" name="__codelineno-0-1089" href="#__codelineno-0-1089"></a>                <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
</span><span id="__span-0-1090"><a id="__codelineno-0-1090" name="__codelineno-0-1090" href="#__codelineno-0-1090"></a>                <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
</span><span id="__span-0-1091"><a id="__codelineno-0-1091" name="__codelineno-0-1091" href="#__codelineno-0-1091"></a>                <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-0-1092"><a id="__codelineno-0-1092" name="__codelineno-0-1092" href="#__codelineno-0-1092"></a>                <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Generated daily report with </span><span class="si">{</span><span class="n">total_tasks</span><span class="si">}</span><span class="s2"> tasks, </span><span class="si">{</span><span class="n">total_files_processed</span><span class="si">}</span><span class="s2"> files processed&quot;</span><span class="p">,</span>
</span><span id="__span-0-1093"><a id="__codelineno-0-1093" name="__codelineno-0-1093" href="#__codelineno-0-1093"></a>                <span class="n">files_processed</span><span class="o">=</span><span class="mi">1</span>  <span class="c1"># The report file itself</span>
</span><span id="__span-0-1094"><a id="__codelineno-0-1094" name="__codelineno-0-1094" href="#__codelineno-0-1094"></a>            <span class="p">)</span>
</span><span id="__span-0-1095"><a id="__codelineno-0-1095" name="__codelineno-0-1095" href="#__codelineno-0-1095"></a>
</span><span id="__span-0-1096"><a id="__codelineno-0-1096" name="__codelineno-0-1096" href="#__codelineno-0-1096"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-1097"><a id="__codelineno-0-1097" name="__codelineno-0-1097" href="#__codelineno-0-1097"></a>            <span class="n">end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-1098"><a id="__codelineno-0-1098" name="__codelineno-0-1098" href="#__codelineno-0-1098"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">TaskExecutionResult</span><span class="p">(</span>
</span><span id="__span-0-1099"><a id="__codelineno-0-1099" name="__codelineno-0-1099" href="#__codelineno-0-1099"></a>                <span class="n">task_name</span><span class="o">=</span><span class="n">task_name</span><span class="p">,</span>
</span><span id="__span-0-1100"><a id="__codelineno-0-1100" name="__codelineno-0-1100" href="#__codelineno-0-1100"></a>                <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
</span><span id="__span-0-1101"><a id="__codelineno-0-1101" name="__codelineno-0-1101" href="#__codelineno-0-1101"></a>                <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
</span><span id="__span-0-1102"><a id="__codelineno-0-1102" name="__codelineno-0-1102" href="#__codelineno-0-1102"></a>                <span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-0-1103"><a id="__codelineno-0-1103" name="__codelineno-0-1103" href="#__codelineno-0-1103"></a>                <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Failed to generate daily report: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-0-1104"><a id="__codelineno-0-1104" name="__codelineno-0-1104" href="#__codelineno-0-1104"></a>                <span class="n">errors</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)]</span>
</span><span id="__span-0-1105"><a id="__codelineno-0-1105" name="__codelineno-0-1105" href="#__codelineno-0-1105"></a>            <span class="p">)</span>
</span><span id="__span-0-1106"><a id="__codelineno-0-1106" name="__codelineno-0-1106" href="#__codelineno-0-1106"></a>
</span><span id="__span-0-1107"><a id="__codelineno-0-1107" name="__codelineno-0-1107" href="#__codelineno-0-1107"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-0-1108"><a id="__codelineno-0-1108" name="__codelineno-0-1108" href="#__codelineno-0-1108"></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="__span-0-1109"><a id="__codelineno-0-1109" name="__codelineno-0-1109" href="#__codelineno-0-1109"></a>
</span><span id="__span-0-1110"><a id="__codelineno-0-1110" name="__codelineno-0-1110" href="#__codelineno-0-1110"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">cleanup_old_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">days_to_keep</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TaskExecutionResult</span><span class="p">:</span>
</span><span id="__span-0-1111"><a id="__codelineno-0-1111" name="__codelineno-0-1111" href="#__codelineno-0-1111"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Clean up old files based on retention policies.&quot;&quot;&quot;</span>
</span><span id="__span-0-1112"><a id="__codelineno-0-1112" name="__codelineno-0-1112" href="#__codelineno-0-1112"></a>        <span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-1113"><a id="__codelineno-0-1113" name="__codelineno-0-1113" href="#__codelineno-0-1113"></a>        <span class="n">task_name</span> <span class="o">=</span> <span class="s2">&quot;file_cleanup&quot;</span>
</span><span id="__span-0-1114"><a id="__codelineno-0-1114" name="__codelineno-0-1114" href="#__codelineno-0-1114"></a>
</span><span id="__span-0-1115"><a id="__codelineno-0-1115" name="__codelineno-0-1115" href="#__codelineno-0-1115"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting </span><span class="si">{</span><span class="n">task_name</span><span class="si">}</span><span class="s2"> task (removing files older than </span><span class="si">{</span><span class="n">days_to_keep</span><span class="si">}</span><span class="s2"> days)...&quot;</span><span class="p">)</span>
</span><span id="__span-0-1116"><a id="__codelineno-0-1116" name="__codelineno-0-1116" href="#__codelineno-0-1116"></a>
</span><span id="__span-0-1117"><a id="__codelineno-0-1117" name="__codelineno-0-1117" href="#__codelineno-0-1117"></a>        <span class="n">deleted_files</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1118"><a id="__codelineno-0-1118" name="__codelineno-0-1118" href="#__codelineno-0-1118"></a>        <span class="n">archived_files</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-0-1119"><a id="__codelineno-0-1119" name="__codelineno-0-1119" href="#__codelineno-0-1119"></a>        <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-1120"><a id="__codelineno-0-1120" name="__codelineno-0-1120" href="#__codelineno-0-1120"></a>
</span><span id="__span-0-1121"><a id="__codelineno-0-1121" name="__codelineno-0-1121" href="#__codelineno-0-1121"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-1122"><a id="__codelineno-0-1122" name="__codelineno-0-1122" href="#__codelineno-0-1122"></a>            <span class="n">cutoff_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">days_to_keep</span><span class="p">)</span>
</span><span id="__span-0-1123"><a id="__codelineno-0-1123" name="__codelineno-0-1123" href="#__codelineno-0-1123"></a>
</span><span id="__span-0-1124"><a id="__codelineno-0-1124" name="__codelineno-0-1124" href="#__codelineno-0-1124"></a>            <span class="c1"># Simulate finding old files</span>
</span><span id="__span-0-1125"><a id="__codelineno-0-1125" name="__codelineno-0-1125" href="#__codelineno-0-1125"></a>            <span class="n">old_files</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-0-1126"><a id="__codelineno-0-1126" name="__codelineno-0-1126" href="#__codelineno-0-1126"></a>                <span class="p">(</span><span class="s2">&quot;processed/financial/old_invoice_2023.pdf&quot;</span><span class="p">,</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">)),</span>
</span><span id="__span-0-1127"><a id="__codelineno-0-1127" name="__codelineno-0-1127" href="#__codelineno-0-1127"></a>                <span class="p">(</span><span class="s2">&quot;processed/reports/quarterly_report_q1.xlsx&quot;</span><span class="p">,</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> 
</span><span id="__span-0-1128"><a id="__codelineno-0-1128" name="__codelineno-0-1128" href="#__codelineno-0-1128"></a>                <span class="p">(</span><span class="s2">&quot;temp/temp_file_123.tmp&quot;</span><span class="p">,</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
</span><span id="__span-0-1129"><a id="__codelineno-0-1129" name="__codelineno-0-1129" href="#__codelineno-0-1129"></a>                <span class="p">(</span><span class="s2">&quot;processed/correspondence/old_email.msg&quot;</span><span class="p">,</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
</span><span id="__span-0-1130"><a id="__codelineno-0-1130" name="__codelineno-0-1130" href="#__codelineno-0-1130"></a>            <span class="p">]</span>
</span><span id="__span-0-1131"><a id="__codelineno-0-1131" name="__codelineno-0-1131" href="#__codelineno-0-1131"></a>
</span><span id="__span-0-1132"><a id="__codelineno-0-1132" name="__codelineno-0-1132" href="#__codelineno-0-1132"></a>            <span class="k">for</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">file_date</span> <span class="ow">in</span> <span class="n">old_files</span><span class="p">:</span>
</span><span id="__span-0-1133"><a id="__codelineno-0-1133" name="__codelineno-0-1133" href="#__codelineno-0-1133"></a>                <span class="n">full_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-1134"><a id="__codelineno-0-1134" name="__codelineno-0-1134" href="#__codelineno-0-1134"></a>
</span><span id="__span-0-1135"><a id="__codelineno-0-1135" name="__codelineno-0-1135" href="#__codelineno-0-1135"></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-1136"><a id="__codelineno-0-1136" name="__codelineno-0-1136" href="#__codelineno-0-1136"></a>                    <span class="k">if</span> <span class="n">file_date</span> <span class="o">&lt;</span> <span class="n">cutoff_date</span><span class="p">:</span>
</span><span id="__span-0-1137"><a id="__codelineno-0-1137" name="__codelineno-0-1137" href="#__codelineno-0-1137"></a>                        <span class="c1"># Check if file has retention policy</span>
</span><span id="__span-0-1138"><a id="__codelineno-0-1138" name="__codelineno-0-1138" href="#__codelineno-0-1138"></a>                        <span class="n">category</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_file_category_from_path</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="__span-0-1139"><a id="__codelineno-0-1139" name="__codelineno-0-1139" href="#__codelineno-0-1139"></a>
</span><span id="__span-0-1140"><a id="__codelineno-0-1140" name="__codelineno-0-1140" href="#__codelineno-0-1140"></a>                        <span class="k">if</span> <span class="n">category</span> <span class="ow">and</span> <span class="n">category</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_organization_rules</span><span class="p">:</span>
</span><span id="__span-0-1141"><a id="__codelineno-0-1141" name="__codelineno-0-1141" href="#__codelineno-0-1141"></a>                            <span class="n">retention_days</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_organization_rules</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="s2">&quot;retention_days&quot;</span><span class="p">]</span>
</span><span id="__span-0-1142"><a id="__codelineno-0-1142" name="__codelineno-0-1142" href="#__codelineno-0-1142"></a>                            <span class="n">retention_date</span> <span class="o">=</span> <span class="n">file_date</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">retention_days</span><span class="p">)</span>
</span><span id="__span-0-1143"><a id="__codelineno-0-1143" name="__codelineno-0-1143" href="#__codelineno-0-1143"></a>
</span><span id="__span-0-1144"><a id="__codelineno-0-1144" name="__codelineno-0-1144" href="#__codelineno-0-1144"></a>                            <span class="k">if</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">retention_date</span><span class="p">:</span>
</span><span id="__span-0-1145"><a id="__codelineno-0-1145" name="__codelineno-0-1145" href="#__codelineno-0-1145"></a>                                <span class="c1"># Safe to delete</span>
</span><span id="__span-0-1146"><a id="__codelineno-0-1146" name="__codelineno-0-1146" href="#__codelineno-0-1146"></a>                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Deleting expired file: </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1147"><a id="__codelineno-0-1147" name="__codelineno-0-1147" href="#__codelineno-0-1147"></a>                                <span class="n">deleted_files</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-1148"><a id="__codelineno-0-1148" name="__codelineno-0-1148" href="#__codelineno-0-1148"></a>                            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-1149"><a id="__codelineno-0-1149" name="__codelineno-0-1149" href="#__codelineno-0-1149"></a>                                <span class="c1"># Archive instead of delete</span>
</span><span id="__span-0-1150"><a id="__codelineno-0-1150" name="__codelineno-0-1150" href="#__codelineno-0-1150"></a>                                <span class="n">archive_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">workspace_path</span><span class="si">}</span><span class="s2">/archive/</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-0-1151"><a id="__codelineno-0-1151" name="__codelineno-0-1151" href="#__codelineno-0-1151"></a>                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Archiving file: </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2"> -&gt; archive/&quot;</span><span class="p">)</span>
</span><span id="__span-0-1152"><a id="__codelineno-0-1152" name="__codelineno-0-1152" href="#__codelineno-0-1152"></a>                                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">archive_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-1153"><a id="__codelineno-0-1153" name="__codelineno-0-1153" href="#__codelineno-0-1153"></a>                                <span class="n">archived_files</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-1154"><a id="__codelineno-0-1154" name="__codelineno-0-1154" href="#__codelineno-0-1154"></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-1155"><a id="__codelineno-0-1155" name="__codelineno-0-1155" href="#__codelineno-0-1155"></a>                            <span class="c1"># No retention policy, safe to delete if in temp</span>
</span><span id="__span-0-1156"><a id="__codelineno-0-1156" name="__codelineno-0-1156" href="#__codelineno-0-1156"></a>                            <span class="k">if</span> <span class="s2">&quot;temp&quot;</span> <span class="ow">in</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="__span-0-1157"><a id="__codelineno-0-1157" name="__codelineno-0-1157" href="#__codelineno-0-1157"></a>                                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Deleting temp file: </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1158"><a id="__codelineno-0-1158" name="__codelineno-0-1158" href="#__codelineno-0-1158"></a>                                <span class="n">deleted_files</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-0-1159"><a id="__codelineno-0-1159" name="__codelineno-0-1159" href="#__codelineno-0-1159"></a>
</span><span id="__span-0-1160"><a id="__codelineno-0-1160" name="__codelineno-0-1160" href="#__codelineno-0-1160"></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-1161"><a id="__codelineno-0-1161" name="__codelineno-0-1161" href="#__codelineno-0-1161"></a>                    <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error processing </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1162"><a id="__codelineno-0-1162" name="__codelineno-0-1162" href="#__codelineno-0-1162"></a>
</span><span id="__span-0-1163"><a id="__codelineno-0-1163" name="__codelineno-0-1163" href="#__codelineno-0-1163"></a>            <span class="n">end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-1164"><a id="__codelineno-0-1164" name="__codelineno-0-1164" href="#__codelineno-0-1164"></a>
</span><span id="__span-0-1165"><a id="__codelineno-0-1165" name="__codelineno-0-1165" href="#__codelineno-0-1165"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">TaskExecutionResult</span><span class="p">(</span>
</span><span id="__span-0-1166"><a id="__codelineno-0-1166" name="__codelineno-0-1166" href="#__codelineno-0-1166"></a>                <span class="n">task_name</span><span class="o">=</span><span class="n">task_name</span><span class="p">,</span>
</span><span id="__span-0-1167"><a id="__codelineno-0-1167" name="__codelineno-0-1167" href="#__codelineno-0-1167"></a>                <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
</span><span id="__span-0-1168"><a id="__codelineno-0-1168" name="__codelineno-0-1168" href="#__codelineno-0-1168"></a>                <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
</span><span id="__span-0-1169"><a id="__codelineno-0-1169" name="__codelineno-0-1169" href="#__codelineno-0-1169"></a>                <span class="n">success</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-1170"><a id="__codelineno-0-1170" name="__codelineno-0-1170" href="#__codelineno-0-1170"></a>                <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Cleanup complete: </span><span class="si">{</span><span class="n">deleted_files</span><span class="si">}</span><span class="s2"> files deleted, </span><span class="si">{</span><span class="n">archived_files</span><span class="si">}</span><span class="s2"> files archived&quot;</span><span class="p">,</span>
</span><span id="__span-0-1171"><a id="__codelineno-0-1171" name="__codelineno-0-1171" href="#__codelineno-0-1171"></a>                <span class="n">files_processed</span><span class="o">=</span><span class="n">deleted_files</span> <span class="o">+</span> <span class="n">archived_files</span><span class="p">,</span>
</span><span id="__span-0-1172"><a id="__codelineno-0-1172" name="__codelineno-0-1172" href="#__codelineno-0-1172"></a>                <span class="n">errors</span><span class="o">=</span><span class="n">errors</span>
</span><span id="__span-0-1173"><a id="__codelineno-0-1173" name="__codelineno-0-1173" href="#__codelineno-0-1173"></a>            <span class="p">)</span>
</span><span id="__span-0-1174"><a id="__codelineno-0-1174" name="__codelineno-0-1174" href="#__codelineno-0-1174"></a>
</span><span id="__span-0-1175"><a id="__codelineno-0-1175" name="__codelineno-0-1175" href="#__codelineno-0-1175"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-1176"><a id="__codelineno-0-1176" name="__codelineno-0-1176" href="#__codelineno-0-1176"></a>            <span class="n">end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-0-1177"><a id="__codelineno-0-1177" name="__codelineno-0-1177" href="#__codelineno-0-1177"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">TaskExecutionResult</span><span class="p">(</span>
</span><span id="__span-0-1178"><a id="__codelineno-0-1178" name="__codelineno-0-1178" href="#__codelineno-0-1178"></a>                <span class="n">task_name</span><span class="o">=</span><span class="n">task_name</span><span class="p">,</span>
</span><span id="__span-0-1179"><a id="__codelineno-0-1179" name="__codelineno-0-1179" href="#__codelineno-0-1179"></a>                <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
</span><span id="__span-0-1180"><a id="__codelineno-0-1180" name="__codelineno-0-1180" href="#__codelineno-0-1180"></a>                <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
</span><span id="__span-0-1181"><a id="__codelineno-0-1181" name="__codelineno-0-1181" href="#__codelineno-0-1181"></a>                <span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-0-1182"><a id="__codelineno-0-1182" name="__codelineno-0-1182" href="#__codelineno-0-1182"></a>                <span class="n">details</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Cleanup failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-0-1183"><a id="__codelineno-0-1183" name="__codelineno-0-1183" href="#__codelineno-0-1183"></a>                <span class="n">errors</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)]</span>
</span><span id="__span-0-1184"><a id="__codelineno-0-1184" name="__codelineno-0-1184" href="#__codelineno-0-1184"></a>            <span class="p">)</span>
</span><span id="__span-0-1185"><a id="__codelineno-0-1185" name="__codelineno-0-1185" href="#__codelineno-0-1185"></a>
</span><span id="__span-0-1186"><a id="__codelineno-0-1186" name="__codelineno-0-1186" href="#__codelineno-0-1186"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-0-1187"><a id="__codelineno-0-1187" name="__codelineno-0-1187" href="#__codelineno-0-1187"></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="__span-0-1188"><a id="__codelineno-0-1188" name="__codelineno-0-1188" href="#__codelineno-0-1188"></a>
</span><span id="__span-0-1189"><a id="__codelineno-0-1189" name="__codelineno-0-1189" href="#__codelineno-0-1189"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_file_category_from_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-0-1190"><a id="__codelineno-0-1190" name="__codelineno-0-1190" href="#__codelineno-0-1190"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Determine file category from its storage path.&quot;&quot;&quot;</span>
</span><span id="__span-0-1191"><a id="__codelineno-0-1191" name="__codelineno-0-1191" href="#__codelineno-0-1191"></a>        <span class="k">if</span> <span class="s2">&quot;financial&quot;</span> <span class="ow">in</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="__span-0-1192"><a id="__codelineno-0-1192" name="__codelineno-0-1192" href="#__codelineno-0-1192"></a>            <span class="k">return</span> <span class="s2">&quot;invoices&quot;</span>
</span><span id="__span-0-1193"><a id="__codelineno-0-1193" name="__codelineno-0-1193" href="#__codelineno-0-1193"></a>        <span class="k">elif</span> <span class="s2">&quot;legal&quot;</span> <span class="ow">in</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="__span-0-1194"><a id="__codelineno-0-1194" name="__codelineno-0-1194" href="#__codelineno-0-1194"></a>            <span class="k">return</span> <span class="s2">&quot;contracts&quot;</span>
</span><span id="__span-0-1195"><a id="__codelineno-0-1195" name="__codelineno-0-1195" href="#__codelineno-0-1195"></a>        <span class="k">elif</span> <span class="s2">&quot;reports&quot;</span> <span class="ow">in</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="__span-0-1196"><a id="__codelineno-0-1196" name="__codelineno-0-1196" href="#__codelineno-0-1196"></a>            <span class="k">return</span> <span class="s2">&quot;reports&quot;</span>
</span><span id="__span-0-1197"><a id="__codelineno-0-1197" name="__codelineno-0-1197" href="#__codelineno-0-1197"></a>        <span class="k">elif</span> <span class="s2">&quot;correspondence&quot;</span> <span class="ow">in</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="__span-0-1198"><a id="__codelineno-0-1198" name="__codelineno-0-1198" href="#__codelineno-0-1198"></a>            <span class="k">return</span> <span class="s2">&quot;correspondence&quot;</span>
</span><span id="__span-0-1199"><a id="__codelineno-0-1199" name="__codelineno-0-1199" href="#__codelineno-0-1199"></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-0-1200"><a id="__codelineno-0-1200" name="__codelineno-0-1200" href="#__codelineno-0-1200"></a>
</span><span id="__span-0-1201"><a id="__codelineno-0-1201" name="__codelineno-0-1201" href="#__codelineno-0-1201"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">run_daily_automation_cycle</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TaskExecutionResult</span><span class="p">]:</span>
</span><span id="__span-0-1202"><a id="__codelineno-0-1202" name="__codelineno-0-1202" href="#__codelineno-0-1202"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute complete daily automation cycle.&quot;&quot;&quot;</span>
</span><span id="__span-0-1203"><a id="__codelineno-0-1203" name="__codelineno-0-1203" href="#__codelineno-0-1203"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🤖 Starting Daily Administrative Automation Cycle&quot;</span><span class="p">)</span>
</span><span id="__span-0-1204"><a id="__codelineno-0-1204" name="__codelineno-0-1204" href="#__codelineno-0-1204"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span><span id="__span-0-1205"><a id="__codelineno-0-1205" name="__codelineno-0-1205" href="#__codelineno-0-1205"></a>
</span><span id="__span-0-1206"><a id="__codelineno-0-1206" name="__codelineno-0-1206" href="#__codelineno-0-1206"></a>        <span class="n">daily_results</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-1207"><a id="__codelineno-0-1207" name="__codelineno-0-1207" href="#__codelineno-0-1207"></a>
</span><span id="__span-0-1208"><a id="__codelineno-0-1208" name="__codelineno-0-1208" href="#__codelineno-0-1208"></a>        <span class="c1"># Task 1: Organize incoming files</span>
</span><span id="__span-0-1209"><a id="__codelineno-0-1209" name="__codelineno-0-1209" href="#__codelineno-0-1209"></a>        <span class="n">file_org_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulate_file_organization</span><span class="p">()</span>
</span><span id="__span-0-1210"><a id="__codelineno-0-1210" name="__codelineno-0-1210" href="#__codelineno-0-1210"></a>        <span class="n">daily_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file_org_result</span><span class="p">)</span>
</span><span id="__span-0-1211"><a id="__codelineno-0-1211" name="__codelineno-0-1211" href="#__codelineno-0-1211"></a>
</span><span id="__span-0-1212"><a id="__codelineno-0-1212" name="__codelineno-0-1212" href="#__codelineno-0-1212"></a>        <span class="c1"># Task 2: Clean up old files</span>
</span><span id="__span-0-1213"><a id="__codelineno-0-1213" name="__codelineno-0-1213" href="#__codelineno-0-1213"></a>        <span class="n">cleanup_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleanup_old_files</span><span class="p">()</span>
</span><span id="__span-0-1214"><a id="__codelineno-0-1214" name="__codelineno-0-1214" href="#__codelineno-0-1214"></a>        <span class="n">daily_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cleanup_result</span><span class="p">)</span>
</span><span id="__span-0-1215"><a id="__codelineno-0-1215" name="__codelineno-0-1215" href="#__codelineno-0-1215"></a>
</span><span id="__span-0-1216"><a id="__codelineno-0-1216" name="__codelineno-0-1216" href="#__codelineno-0-1216"></a>        <span class="c1"># Task 3: Generate daily report</span>
</span><span id="__span-0-1217"><a id="__codelineno-0-1217" name="__codelineno-0-1217" href="#__codelineno-0-1217"></a>        <span class="n">report_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_daily_report</span><span class="p">()</span>
</span><span id="__span-0-1218"><a id="__codelineno-0-1218" name="__codelineno-0-1218" href="#__codelineno-0-1218"></a>        <span class="n">daily_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">report_result</span><span class="p">)</span>
</span><span id="__span-0-1219"><a id="__codelineno-0-1219" name="__codelineno-0-1219" href="#__codelineno-0-1219"></a>
</span><span id="__span-0-1220"><a id="__codelineno-0-1220" name="__codelineno-0-1220" href="#__codelineno-0-1220"></a>        <span class="c1"># Summary</span>
</span><span id="__span-0-1221"><a id="__codelineno-0-1221" name="__codelineno-0-1221" href="#__codelineno-0-1221"></a>        <span class="n">total_tasks</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">daily_results</span><span class="p">)</span>
</span><span id="__span-0-1222"><a id="__codelineno-0-1222" name="__codelineno-0-1222" href="#__codelineno-0-1222"></a>        <span class="n">successful_tasks</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">daily_results</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">)</span>
</span><span id="__span-0-1223"><a id="__codelineno-0-1223" name="__codelineno-0-1223" href="#__codelineno-0-1223"></a>        <span class="n">total_duration</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">duration</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">daily_results</span><span class="p">)</span>
</span><span id="__span-0-1224"><a id="__codelineno-0-1224" name="__codelineno-0-1224" href="#__codelineno-0-1224"></a>
</span><span id="__span-0-1225"><a id="__codelineno-0-1225" name="__codelineno-0-1225" href="#__codelineno-0-1225"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1226"><a id="__codelineno-0-1226" name="__codelineno-0-1226" href="#__codelineno-0-1226"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Daily Automation Cycle Summary&quot;</span><span class="p">)</span>
</span><span id="__span-0-1227"><a id="__codelineno-0-1227" name="__codelineno-0-1227" href="#__codelineno-0-1227"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1228"><a id="__codelineno-0-1228" name="__codelineno-0-1228" href="#__codelineno-0-1228"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tasks Completed: </span><span class="si">{</span><span class="n">successful_tasks</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total_tasks</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1229"><a id="__codelineno-0-1229" name="__codelineno-0-1229" href="#__codelineno-0-1229"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total Processing Time: </span><span class="si">{</span><span class="n">total_duration</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>
</span><span id="__span-0-1230"><a id="__codelineno-0-1230" name="__codelineno-0-1230" href="#__codelineno-0-1230"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Automation Success Rate: </span><span class="si">{</span><span class="p">(</span><span class="n">successful_tasks</span><span class="o">/</span><span class="n">total_tasks</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-0-1231"><a id="__codelineno-0-1231" name="__codelineno-0-1231" href="#__codelineno-0-1231"></a>
</span><span id="__span-0-1232"><a id="__codelineno-0-1232" name="__codelineno-0-1232" href="#__codelineno-0-1232"></a>        <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">daily_results</span><span class="p">:</span>
</span><span id="__span-0-1233"><a id="__codelineno-0-1233" name="__codelineno-0-1233" href="#__codelineno-0-1233"></a>            <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;✅&quot;</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span> <span class="k">else</span> <span class="s2">&quot;❌&quot;</span>
</span><span id="__span-0-1234"><a id="__codelineno-0-1234" name="__codelineno-0-1234" href="#__codelineno-0-1234"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">task_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">details</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1235"><a id="__codelineno-0-1235" name="__codelineno-0-1235" href="#__codelineno-0-1235"></a>            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
</span><span id="__span-0-1236"><a id="__codelineno-0-1236" name="__codelineno-0-1236" href="#__codelineno-0-1236"></a>                <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
</span><span id="__span-0-1237"><a id="__codelineno-0-1237" name="__codelineno-0-1237" href="#__codelineno-0-1237"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   ⚠️  </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1238"><a id="__codelineno-0-1238" name="__codelineno-0-1238" href="#__codelineno-0-1238"></a>
</span><span id="__span-0-1239"><a id="__codelineno-0-1239" name="__codelineno-0-1239" href="#__codelineno-0-1239"></a>        <span class="k">return</span> <span class="n">daily_results</span>
</span><span id="__span-0-1240"><a id="__codelineno-0-1240" name="__codelineno-0-1240" href="#__codelineno-0-1240"></a>
</span><span id="__span-0-1241"><a id="__codelineno-0-1241" name="__codelineno-0-1241" href="#__codelineno-0-1241"></a><span class="c1"># Demonstration Functions</span>
</span><span id="__span-0-1242"><a id="__codelineno-0-1242" name="__codelineno-0-1242" href="#__codelineno-0-1242"></a><span class="k">def</span><span class="w"> </span><span class="nf">demonstrate_invoice_processing</span><span class="p">():</span>
</span><span id="__span-0-1243"><a id="__codelineno-0-1243" name="__codelineno-0-1243" href="#__codelineno-0-1243"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate invoice processing RPA system.&quot;&quot;&quot;</span>
</span><span id="__span-0-1244"><a id="__codelineno-0-1244" name="__codelineno-0-1244" href="#__codelineno-0-1244"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RPA Invoice Processing Demonstration&quot;</span><span class="p">)</span>
</span><span id="__span-0-1245"><a id="__codelineno-0-1245" name="__codelineno-0-1245" href="#__codelineno-0-1245"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="__span-0-1246"><a id="__codelineno-0-1246" name="__codelineno-0-1246" href="#__codelineno-0-1246"></a>
</span><span id="__span-0-1247"><a id="__codelineno-0-1247" name="__codelineno-0-1247" href="#__codelineno-0-1247"></a>    <span class="n">rpa_system</span> <span class="o">=</span> <span class="n">InvoiceProcessingRPA</span><span class="p">()</span>
</span><span id="__span-0-1248"><a id="__codelineno-0-1248" name="__codelineno-0-1248" href="#__codelineno-0-1248"></a>    <span class="n">batch_results</span> <span class="o">=</span> <span class="n">rpa_system</span><span class="o">.</span><span class="n">run_batch_processing</span><span class="p">()</span>
</span><span id="__span-0-1249"><a id="__codelineno-0-1249" name="__codelineno-0-1249" href="#__codelineno-0-1249"></a>
</span><span id="__span-0-1250"><a id="__codelineno-0-1250" name="__codelineno-0-1250" href="#__codelineno-0-1250"></a>    <span class="k">return</span> <span class="n">rpa_system</span><span class="p">,</span> <span class="n">batch_results</span>
</span><span id="__span-0-1251"><a id="__codelineno-0-1251" name="__codelineno-0-1251" href="#__codelineno-0-1251"></a>
</span><span id="__span-0-1252"><a id="__codelineno-0-1252" name="__codelineno-0-1252" href="#__codelineno-0-1252"></a><span class="k">def</span><span class="w"> </span><span class="nf">demonstrate_data_migration</span><span class="p">():</span>
</span><span id="__span-0-1253"><a id="__codelineno-0-1253" name="__codelineno-0-1253" href="#__codelineno-0-1253"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate data migration RPA system.&quot;&quot;&quot;</span>
</span><span id="__span-0-1254"><a id="__codelineno-0-1254" name="__codelineno-0-1254" href="#__codelineno-0-1254"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">RPA Data Migration Demonstration&quot;</span><span class="p">)</span>
</span><span id="__span-0-1255"><a id="__codelineno-0-1255" name="__codelineno-0-1255" href="#__codelineno-0-1255"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">35</span><span class="p">)</span>
</span><span id="__span-0-1256"><a id="__codelineno-0-1256" name="__codelineno-0-1256" href="#__codelineno-0-1256"></a>
</span><span id="__span-0-1257"><a id="__codelineno-0-1257" name="__codelineno-0-1257" href="#__codelineno-0-1257"></a>    <span class="n">migration_system</span> <span class="o">=</span> <span class="n">DataMigrationRPA</span><span class="p">()</span>
</span><span id="__span-0-1258"><a id="__codelineno-0-1258" name="__codelineno-0-1258" href="#__codelineno-0-1258"></a>
</span><span id="__span-0-1259"><a id="__codelineno-0-1259" name="__codelineno-0-1259" href="#__codelineno-0-1259"></a>    <span class="c1"># Migrate customer data</span>
</span><span id="__span-0-1260"><a id="__codelineno-0-1260" name="__codelineno-0-1260" href="#__codelineno-0-1260"></a>    <span class="n">customer_data</span> <span class="o">=</span> <span class="n">migration_system</span><span class="o">.</span><span class="n">load_source_data</span><span class="p">(</span><span class="s2">&quot;customers.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;customer_migration&quot;</span><span class="p">)</span>
</span><span id="__span-0-1261"><a id="__codelineno-0-1261" name="__codelineno-0-1261" href="#__codelineno-0-1261"></a>    <span class="n">customer_results</span> <span class="o">=</span> <span class="n">migration_system</span><span class="o">.</span><span class="n">migrate_batch</span><span class="p">(</span><span class="n">customer_data</span><span class="p">,</span> <span class="s2">&quot;customer_migration&quot;</span><span class="p">)</span>
</span><span id="__span-0-1262"><a id="__codelineno-0-1262" name="__codelineno-0-1262" href="#__codelineno-0-1262"></a>    <span class="n">customer_report</span> <span class="o">=</span> <span class="n">migration_system</span><span class="o">.</span><span class="n">generate_migration_report</span><span class="p">(</span><span class="n">customer_results</span><span class="p">)</span>
</span><span id="__span-0-1263"><a id="__codelineno-0-1263" name="__codelineno-0-1263" href="#__codelineno-0-1263"></a>
</span><span id="__span-0-1264"><a id="__codelineno-0-1264" name="__codelineno-0-1264" href="#__codelineno-0-1264"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Customer Migration Results:&quot;</span><span class="p">)</span>
</span><span id="__span-0-1265"><a id="__codelineno-0-1265" name="__codelineno-0-1265" href="#__codelineno-0-1265"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total Records: </span><span class="si">{</span><span class="n">customer_report</span><span class="p">[</span><span class="s1">&#39;migration_summary&#39;</span><span class="p">][</span><span class="s1">&#39;total_records&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1266"><a id="__codelineno-0-1266" name="__codelineno-0-1266" href="#__codelineno-0-1266"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Success Rate: </span><span class="si">{</span><span class="n">customer_report</span><span class="p">[</span><span class="s1">&#39;migration_summary&#39;</span><span class="p">][</span><span class="s1">&#39;success_rate&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-0-1267"><a id="__codelineno-0-1267" name="__codelineno-0-1267" href="#__codelineno-0-1267"></a>
</span><span id="__span-0-1268"><a id="__codelineno-0-1268" name="__codelineno-0-1268" href="#__codelineno-0-1268"></a>    <span class="c1"># Migrate product data  </span>
</span><span id="__span-0-1269"><a id="__codelineno-0-1269" name="__codelineno-0-1269" href="#__codelineno-0-1269"></a>    <span class="n">product_data</span> <span class="o">=</span> <span class="n">migration_system</span><span class="o">.</span><span class="n">load_source_data</span><span class="p">(</span><span class="s2">&quot;products.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;product_migration&quot;</span><span class="p">)</span>
</span><span id="__span-0-1270"><a id="__codelineno-0-1270" name="__codelineno-0-1270" href="#__codelineno-0-1270"></a>    <span class="n">product_results</span> <span class="o">=</span> <span class="n">migration_system</span><span class="o">.</span><span class="n">migrate_batch</span><span class="p">(</span><span class="n">product_data</span><span class="p">,</span> <span class="s2">&quot;product_migration&quot;</span><span class="p">)</span>
</span><span id="__span-0-1271"><a id="__codelineno-0-1271" name="__codelineno-0-1271" href="#__codelineno-0-1271"></a>    <span class="n">product_report</span> <span class="o">=</span> <span class="n">migration_system</span><span class="o">.</span><span class="n">generate_migration_report</span><span class="p">(</span><span class="n">product_results</span><span class="p">)</span>
</span><span id="__span-0-1272"><a id="__codelineno-0-1272" name="__codelineno-0-1272" href="#__codelineno-0-1272"></a>
</span><span id="__span-0-1273"><a id="__codelineno-0-1273" name="__codelineno-0-1273" href="#__codelineno-0-1273"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Product Migration Results:&quot;</span><span class="p">)</span>
</span><span id="__span-0-1274"><a id="__codelineno-0-1274" name="__codelineno-0-1274" href="#__codelineno-0-1274"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total Records: </span><span class="si">{</span><span class="n">product_report</span><span class="p">[</span><span class="s1">&#39;migration_summary&#39;</span><span class="p">][</span><span class="s1">&#39;total_records&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1275"><a id="__codelineno-0-1275" name="__codelineno-0-1275" href="#__codelineno-0-1275"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Success Rate: </span><span class="si">{</span><span class="n">product_report</span><span class="p">[</span><span class="s1">&#39;migration_summary&#39;</span><span class="p">][</span><span class="s1">&#39;success_rate&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-0-1276"><a id="__codelineno-0-1276" name="__codelineno-0-1276" href="#__codelineno-0-1276"></a>
</span><span id="__span-0-1277"><a id="__codelineno-0-1277" name="__codelineno-0-1277" href="#__codelineno-0-1277"></a>    <span class="k">return</span> <span class="n">migration_system</span><span class="p">,</span> <span class="n">customer_report</span><span class="p">,</span> <span class="n">product_report</span>
</span><span id="__span-0-1278"><a id="__codelineno-0-1278" name="__codelineno-0-1278" href="#__codelineno-0-1278"></a>
</span><span id="__span-0-1279"><a id="__codelineno-0-1279" name="__codelineno-0-1279" href="#__codelineno-0-1279"></a><span class="k">def</span><span class="w"> </span><span class="nf">demonstrate_administrative_tasks</span><span class="p">():</span>
</span><span id="__span-0-1280"><a id="__codelineno-0-1280" name="__codelineno-0-1280" href="#__codelineno-0-1280"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate administrative task automation.&quot;&quot;&quot;</span>
</span><span id="__span-0-1281"><a id="__codelineno-0-1281" name="__codelineno-0-1281" href="#__codelineno-0-1281"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">RPA Administrative Task Demonstration&quot;</span><span class="p">)</span> 
</span><span id="__span-0-1282"><a id="__codelineno-0-1282" name="__codelineno-0-1282" href="#__codelineno-0-1282"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="__span-0-1283"><a id="__codelineno-0-1283" name="__codelineno-0-1283" href="#__codelineno-0-1283"></a>
</span><span id="__span-0-1284"><a id="__codelineno-0-1284" name="__codelineno-0-1284" href="#__codelineno-0-1284"></a>    <span class="n">admin_system</span> <span class="o">=</span> <span class="n">AdministrativeTaskRPA</span><span class="p">()</span>
</span><span id="__span-0-1285"><a id="__codelineno-0-1285" name="__codelineno-0-1285" href="#__codelineno-0-1285"></a>    <span class="n">daily_results</span> <span class="o">=</span> <span class="n">admin_system</span><span class="o">.</span><span class="n">run_daily_automation_cycle</span><span class="p">()</span>
</span><span id="__span-0-1286"><a id="__codelineno-0-1286" name="__codelineno-0-1286" href="#__codelineno-0-1286"></a>
</span><span id="__span-0-1287"><a id="__codelineno-0-1287" name="__codelineno-0-1287" href="#__codelineno-0-1287"></a>    <span class="k">return</span> <span class="n">admin_system</span><span class="p">,</span> <span class="n">daily_results</span>
</span><span id="__span-0-1288"><a id="__codelineno-0-1288" name="__codelineno-0-1288" href="#__codelineno-0-1288"></a>
</span><span id="__span-0-1289"><a id="__codelineno-0-1289" name="__codelineno-0-1289" href="#__codelineno-0-1289"></a><span class="c1"># Run all demonstrations</span>
</span><span id="__span-0-1290"><a id="__codelineno-0-1290" name="__codelineno-0-1290" href="#__codelineno-0-1290"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-0-1291"><a id="__codelineno-0-1291" name="__codelineno-0-1291" href="#__codelineno-0-1291"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🤖 RPA PRACTICAL IMPLEMENTATION DEMONSTRATIONS&quot;</span><span class="p">)</span>
</span><span id="__span-0-1292"><a id="__codelineno-0-1292" name="__codelineno-0-1292" href="#__codelineno-0-1292"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span><span id="__span-0-1293"><a id="__codelineno-0-1293" name="__codelineno-0-1293" href="#__codelineno-0-1293"></a>
</span><span id="__span-0-1294"><a id="__codelineno-0-1294" name="__codelineno-0-1294" href="#__codelineno-0-1294"></a>    <span class="c1"># Invoice Processing</span>
</span><span id="__span-0-1295"><a id="__codelineno-0-1295" name="__codelineno-0-1295" href="#__codelineno-0-1295"></a>    <span class="n">invoice_system</span><span class="p">,</span> <span class="n">invoice_results</span> <span class="o">=</span> <span class="n">demonstrate_invoice_processing</span><span class="p">()</span>
</span><span id="__span-0-1296"><a id="__codelineno-0-1296" name="__codelineno-0-1296" href="#__codelineno-0-1296"></a>
</span><span id="__span-0-1297"><a id="__codelineno-0-1297" name="__codelineno-0-1297" href="#__codelineno-0-1297"></a>    <span class="c1"># Data Migration</span>
</span><span id="__span-0-1298"><a id="__codelineno-0-1298" name="__codelineno-0-1298" href="#__codelineno-0-1298"></a>    <span class="n">migration_system</span><span class="p">,</span> <span class="n">customer_rpt</span><span class="p">,</span> <span class="n">product_rpt</span> <span class="o">=</span> <span class="n">demonstrate_data_migration</span><span class="p">()</span>
</span><span id="__span-0-1299"><a id="__codelineno-0-1299" name="__codelineno-0-1299" href="#__codelineno-0-1299"></a>
</span><span id="__span-0-1300"><a id="__codelineno-0-1300" name="__codelineno-0-1300" href="#__codelineno-0-1300"></a>    <span class="c1"># Administrative Tasks</span>
</span><span id="__span-0-1301"><a id="__codelineno-0-1301" name="__codelineno-0-1301" href="#__codelineno-0-1301"></a>    <span class="n">admin_system</span><span class="p">,</span> <span class="n">admin_results</span> <span class="o">=</span> <span class="n">demonstrate_administrative_tasks</span><span class="p">()</span>
</span><span id="__span-0-1302"><a id="__codelineno-0-1302" name="__codelineno-0-1302" href="#__codelineno-0-1302"></a>
</span><span id="__span-0-1303"><a id="__codelineno-0-1303" name="__codelineno-0-1303" href="#__codelineno-0-1303"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-1304"><a id="__codelineno-0-1304" name="__codelineno-0-1304" href="#__codelineno-0-1304"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;RPA DEMONSTRATIONS COMPLETED&quot;</span><span class="p">)</span>
</span><span id="__span-0-1305"><a id="__codelineno-0-1305" name="__codelineno-0-1305" href="#__codelineno-0-1305"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All systems demonstrate practical automation of:&quot;</span><span class="p">)</span>
</span><span id="__span-0-1306"><a id="__codelineno-0-1306" name="__codelineno-0-1306" href="#__codelineno-0-1306"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;• Invoice processing workflows&quot;</span><span class="p">)</span>
</span><span id="__span-0-1307"><a id="__codelineno-0-1307" name="__codelineno-0-1307" href="#__codelineno-0-1307"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;• Data migration between systems&quot;</span><span class="p">)</span> 
</span><span id="__span-0-1308"><a id="__codelineno-0-1308" name="__codelineno-0-1308" href="#__codelineno-0-1308"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;• Repetitive administrative tasks&quot;</span><span class="p">)</span>
</span><span id="__span-0-1309"><a id="__codelineno-0-1309" name="__codelineno-0-1309" href="#__codelineno-0-1309"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span></code></pre></div>
<p>This concludes Part 1 focusing on RPA Implementation and Use Cases. The examples demonstrate practical Python-based automation for common business scenarios: invoice processing, data migration, and administrative task automation.</p>
<p>Key takeaways from Part 1:</p>
<ul>
<li>
<p><strong>RPA operates at the UI level</strong> without requiring system changes</p>
</li>
<li>
<p><strong>Rule-based workflows</strong> handle structured, repeatable processes</p>
</li>
<li>
<p><strong>Error handling and logging</strong> are crucial for production systems  </p>
</li>
<li>
<p><strong>Business rules integration</strong> ensures compliance and proper approvals</p>
</li>
<li>
<p><strong>Practical applications</strong> show measurable time and cost savings</p>
</li>
</ul>
<p>Key takeaways from Part 1:</p>
<ul>
<li>
<p><strong>RPA operates at the UI level</strong> without requiring system changes</p>
</li>
<li>
<p><strong>Rule-based workflows</strong> handle structured, repeatable processes</p>
</li>
<li>
<p><strong>Error handling and logging</strong> are crucial for production systems  </p>
</li>
<li>
<p><strong>Business rules integration</strong> ensures compliance and proper approvals</p>
</li>
<li>
<p><strong>Practical applications</strong> show measurable time and cost savings</p>
</li>
</ul>
<hr />
<h2 id="part-2-bpa-and-process-selection">Part 2: BPA and Process Selection<a class="headerlink" href="#part-2-bpa-and-process-selection" title="Permanent link">&para;</a></h2>
<h3 id="what-is-business-process-automation-bpa">What is Business Process Automation (BPA)?<a class="headerlink" href="#what-is-business-process-automation-bpa" title="Permanent link">&para;</a></h3>
<p><strong>Definition</strong>: BPA is process-level automation that redesigns business processes end-to-end, often integrating multiple systems and human approvals while potentially incorporating RPA and ML components.</p>
<p><strong>Key Characteristics</strong>:</p>
<ul>
<li>
<p><strong>End-to-End Process Integration</strong>: Connects multiple systems and stakeholders</p>
</li>
<li>
<p><strong>Process Redesign</strong>: Reengineers workflows for optimal efficiency</p>
</li>
<li>
<p><strong>Deep System Integration</strong>: Uses APIs, databases, and middleware</p>
</li>
<li>
<p><strong>Human-in-the-Loop</strong>: Incorporates human decision points and approvals</p>
</li>
<li>
<p><strong>Intelligent Components</strong>: May include ML models for decision-making</p>
</li>
</ul>
<h3 id="bpa-vs-rpa-understanding-the-differences">BPA vs RPA: Understanding the Differences<a class="headerlink" href="#bpa-vs-rpa-understanding-the-differences" title="Permanent link">&para;</a></h3>
<div class="diagram-container" data-container-id="kroki-diagram-1"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-1')">🔍 View Larger</button><div id="kroki-diagram-1" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="360px" preserveAspectRatio="xMaxYMax meet" style="width:1825px;height:360px;background:#FEFEFE;" version="1.1" viewBox="0 0 1825 360" width="1825px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-1"><defs /><g><rect fill="#FEFEFE" height="360" style="stroke:none;stroke-width:1;" width="1825" x="0" y="0" /><g class="cluster" data-entity="RPA vs BPA Comparison" data-source-line="5" data-uid="ent0002" id="cluster_RPA vs BPA Comparison"><path d="M13.5,11 L176.752,11 A3.75,3.75 0 0 1 179.252,13.5 L186.252,30.9688 L1815.5,30.9688 A2.5,2.5 0 0 1 1818,33.4688 L1818,351.06 A2.5,2.5 0 0 1 1815.5,353.56 L13.5,353.56 A2.5,2.5 0 0 1 11,351.06 L11,13.5 A2.5,2.5 0 0 1 13.5,11" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="11" x2="186.252" y1="30.9688" y2="30.9688" /><text fill="#000000" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="162.252" x="15" y="24.1387">RPA vs BPA Comparison</text></g><g class="cluster" data-entity="rpa" data-source-line="6" data-uid="ent0003" id="cluster_rpa"><rect fill="#FFFFFF" height="175.59" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="869" x="917" y="59" /><text fill="#000000" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="95.8828" x="1303.5586" y="72.1387">RPA Approach</text></g><g class="cluster" data-entity="bpa" data-source-line="20" data-uid="ent0011" id="cluster_bpa"><rect fill="#FFFFFF" height="175.59" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="834" x="43" y="59" /><text fill="#000000" font-family="Verdana" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="95.7891" x="412.1055" y="72.1387">BPA Approach</text></g><g class="entity" data-entity="legacy" data-source-line="34" data-uid="ent0019" id="entity_legacy"><rect fill="#FFFFFF" height="33.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="117.5527" x="1408.22" y="303.59" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="97.5527" x="1418.22" y="324.7287">Legacy Systems</text></g><g class="entity" data-entity="modern" data-source-line="35" data-uid="ent0020" id="entity_modern"><rect fill="#FFFFFF" height="33.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="142.3496" x="565.83" y="303.59" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="122.3496" x="575.83" y="324.7287">Modern Applications</text></g><g class="entity" data-entity="db" data-source-line="36" data-uid="ent0021" id="entity_db"><rect fill="#FFFFFF" height="33.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="83.5098" x="447.25" y="303.59" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="63.5098" x="457.25" y="324.7287">Databases</text></g><g class="entity" data-entity="apis" data-source-line="37" data-uid="ent0022" id="entity_apis"><rect fill="#FFFFFF" height="33.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="99.0488" x="313.48" y="303.59" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="79.0488" x="323.48" y="324.7287">External APIs</text></g><g class="entity" data-entity="rpa_ui" data-source-line="7" data-uid="ent0004" id="entity_rpa_ui"><rect fill="#FFFFFF" height="57.9375" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="124.8906" x="1637.55" y="148.68" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1742.4406" y="153.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1740.4406" y="155.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1740.4406" y="159.68" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="84.8906" x="1652.55" y="179.8187">User Interface</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="69.8906" x="1652.55" y="193.7874">Automation</text></g><g class="entity" data-entity="rpa_screen" data-source-line="8" data-uid="ent0005" id="entity_rpa_screen"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="138.0098" x="1319" y="155.67" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1437.0098" y="160.67" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1435.0098" y="162.67" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1435.0098" y="166.67" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="98.0098" x="1334" y="186.8087">Screen Scraping</text></g><g class="entity" data-entity="rpa_form" data-source-line="9" data-uid="ent0006" id="entity_rpa_form"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="110.1426" x="1491.93" y="155.67" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1582.0726" y="160.67" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1580.0726" y="162.67" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1580.0726" y="166.67" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="70.1426" x="1506.93" y="186.8087">Form Filling</text></g><g class="entity" data-entity="rpa_rules" data-source-line="10" data-uid="ent0007" id="entity_rpa_rules"><rect fill="#FFFFFF" height="43.9688" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="143.2188" x="1140.39" y="155.67" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1263.6088" y="160.67" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1261.6088" y="162.67" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1261.6088" y="166.67" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="103.2188" x="1155.39" y="186.8087">Rule-Based Logic</text></g><g class="entity" data-entity="GMN8" data-source-line="13" data-uid="ent0009" id="entity_GMN8"><path d="M940.64,144.72 L940.64,210.595 L1105.3587,210.595 L1105.3587,154.72 L1095.3587,144.72 L940.64,144.72" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M1095.3587,144.72 L1095.3587,154.72 L1105.3587,154.72 L1095.3587,144.72" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="131.8945" x="946.64" y="160.8587">&#8226; Operates at UI layer</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="128.6367" x="946.64" y="174.8274">&#8226; No system changes</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="143.7188" x="946.64" y="188.7962">&#8226; Quick implementation</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="125.373" x="946.64" y="202.7649">&#8226; Limited integration</text></g><g class="entity" data-entity="bpa_process" data-source-line="21" data-uid="ent0012" id="entity_bpa_process"><rect fill="#FFFFFF" height="57.9375" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="127.5215" x="725.24" y="148.68" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="832.7615" y="153.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="830.7615" y="155.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="830.7615" y="159.68" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="45.9961" x="740.24" y="179.8187">Process</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="87.5215" x="740.24" y="193.7874">Reengineering</text></g><g class="entity" data-entity="bpa_system" data-source-line="22" data-uid="ent0013" id="entity_bpa_system"><rect fill="#FFFFFF" height="57.9375" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="106.123" x="583.94" y="148.68" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="670.063" y="153.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="668.063" y="155.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="668.063" y="159.68" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="44.748" x="598.94" y="179.8187">System</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="66.123" x="598.94" y="193.7874">Integration</text></g><g class="entity" data-entity="bpa_workflow" data-source-line="23" data-uid="ent0014" id="entity_bpa_workflow"><rect fill="#FFFFFF" height="57.9375" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="122.1953" x="426.9" y="148.68" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="529.0953" y="153.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="527.0953" y="155.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="527.0953" y="159.68" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="55.8047" x="441.9" y="179.8187">Workflow</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="82.1953" x="441.9" y="193.7874">Orchestration</text></g><g class="entity" data-entity="bpa_ml" data-source-line="24" data-uid="ent0015" id="entity_bpa_ml"><rect fill="#FFFFFF" height="57.9375" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="109.8203" x="282.09" y="148.68" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="371.9103" y="153.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="369.9103" y="155.68" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="369.9103" y="159.68" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="69.8203" x="297.09" y="179.8187">Intelligence</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="33.457" x="297.09" y="193.7874">Layer</text></g><g class="entity" data-entity="GMN16" data-source-line="27" data-uid="ent0017" id="entity_GMN16"><path d="M66.78,144.72 L66.78,210.595 L247.2253,210.595 L247.2253,154.72 L237.2253,144.72 L66.78,144.72" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M237.2253,144.72 L237.2253,154.72 L247.2253,154.72 L237.2253,144.72" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="159.4453" x="72.78" y="160.8587">&#8226; Deep system integration</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="135.3633" x="72.78" y="174.8274">&#8226; Process optimization</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="156.2344" x="72.78" y="188.7962">&#8226; Comprehensive solution</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="158.332" x="72.78" y="202.7649">&#8226; Strategic transformation</text></g><g class="link" data-entity-1="rpa" data-entity-2="GMN8" data-source-line="13" data-uid="lnk10" id="link_rpa_GMN8"><path d="M1023,83.98 C1023,87.2 1023,118.86 1023,144.3" fill="none" id="rpa-GMN8" style="stroke:#000000;stroke-width:1;stroke-dasharray:7.0,7.0;" /></g><g class="link" data-entity-1="bpa" data-entity-2="GMN16" data-source-line="27" data-uid="lnk18" id="link_bpa_GMN16"><path d="M157,83.98 C157,87.2 157,118.86 157,144.3" fill="none" id="bpa-GMN16" style="stroke:#000000;stroke-width:1;stroke-dasharray:7.0,7.0;" /></g><g class="link" data-entity-1="rpa_ui" data-entity-2="legacy" data-source-line="40" data-uid="lnk23" id="link_rpa_ui_legacy"><path d="M1670.99,206.85 C1656.22,220.64 1637.69,237.13 1620,250.59 C1589.39,273.88 1555.2961,289.4049 1523.9961,301.0049" fill="none" id="rpa_ui-to-legacy" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="1518.37,303.09,1528.1991,303.7131,1523.0584,301.3525,1525.4191,296.2117,1518.37,303.09" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="114.4277" x="1606" y="270.7287">Surface interaction</text></g><g class="link" data-entity-1="rpa_screen" data-entity-2="legacy" data-source-line="41" data-uid="lnk24" id="link_rpa_screen_legacy"><path d="M1386.83,199.87 C1386.7,220.24 1389.17,251.15 1403,273.59 C1410.54,285.82 1417.6046,292.5284 1429.2746,299.9884" fill="none" id="rpa_screen-to-legacy" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="1434.33,303.22,1428.9014,295.0023,1430.1172,300.527,1424.5926,301.7428,1434.33,303.22" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="93.5273" x="1404" y="270.7287">Data extraction</text></g><g class="link" data-entity-1="rpa_form" data-entity-2="legacy" data-source-line="42" data-uid="lnk25" id="link_rpa_form_legacy"><path d="M1538.38,200.05 C1530.09,219.73 1516.7,249.44 1502,273.59 C1495.74,283.88 1491.4095,289.9359 1484.5895,298.4559" fill="none" id="rpa_form-to-legacy" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="1480.84,303.14,1489.587,298.6135,1483.9646,299.2366,1483.3415,293.6141,1480.84,303.14" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="64.1953" x="1511" y="270.7287">Data entry</text></g><g class="link" data-entity-1="bpa_system" data-entity-2="legacy" data-source-line="44" data-uid="lnk26" id="link_bpa_system_legacy"><path d="M656.97,207.06 C669.66,222.73 687.53,240.92 708,250.59 C723.82,258.07 1226.1801,299.829 1401.9401,314.259" fill="none" id="bpa_system-to-legacy" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="1407.92,314.75,1399.2775,310.027,1402.9368,314.3409,1398.6229,318.0002,1407.92,314.75" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="88.7168" x="921" y="270.7287">API integration</text></g><g class="link" data-entity-1="bpa_system" data-entity-2="modern" data-source-line="45" data-uid="lnk27" id="link_bpa_system_modern"><path d="M637,206.83 C637,235.75 637,273.74 637,297.31" fill="none" id="bpa_system-to-modern" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="637,303.31,641,294.31,637,298.31,633,294.31,637,303.31" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="108.5859" x="638" y="270.7287">Native integration</text></g><g class="link" data-entity-1="bpa_workflow" data-entity-2="db" data-source-line="46" data-uid="lnk28" id="link_bpa_workflow_db"><path d="M488.2,206.83 C488.41,235.75 488.6793,273.7401 488.8393,297.3101" fill="none" id="bpa_workflow-to-db" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="488.88,303.31,492.8188,294.2831,488.8461,298.3101,484.819,294.3374,488.88,303.31" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="80.4434" x="489" y="270.7287">Direct access</text></g><g class="link" data-entity-1="bpa_workflow" data-entity-2="apis" data-source-line="47" data-uid="lnk29" id="link_bpa_workflow_apis"><path d="M454.34,206.97 C437.95,221.56 418.5,240.13 403,258.59 C391.11,272.75 382.8407,285.4294 375.2907,298.1594" fill="none" id="bpa_workflow-to-apis" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="372.23,303.32,380.2615,297.6195,374.7806,299.0195,373.3806,293.5386,372.23,303.32" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="75.0352" x="404" y="270.7287">Service calls</text></g></g></svg></p></div></div>
<h3 id="when-to-apply-rpa-vs-bpa-decision-framework">When to Apply RPA vs BPA: Decision Framework<a class="headerlink" href="#when-to-apply-rpa-vs-bpa-decision-framework" title="Permanent link">&para;</a></h3>
<h4 id="rpa-is-appropriate-when">RPA is Appropriate When:<a class="headerlink" href="#rpa-is-appropriate-when" title="Permanent link">&para;</a></h4>
<p><strong>Process Characteristics</strong>:</p>
<ul>
<li>
<p>High volume, repetitive tasks</p>
</li>
<li>
<p>Well-defined, stable processes</p>
</li>
<li>
<p>Minimal exceptions or variations</p>
</li>
<li>
<p>Rule-based decision making</p>
</li>
<li>
<p>Short-term automation needs</p>
</li>
</ul>
<p><strong>Technical Environment</strong>:</p>
<ul>
<li>
<p>Legacy systems without APIs</p>
</li>
<li>
<p>No budget for system changes</p>
</li>
<li>
<p>Quick wins required</p>
</li>
<li>
<p>Minimal IT involvement desired</p>
</li>
<li>
<p>Existing processes work well</p>
</li>
</ul>
<p><strong>Example Scenarios</strong>:</p>
<ul>
<li>
<p>Data entry between systems</p>
</li>
<li>
<p>Report generation from multiple sources</p>
</li>
<li>
<p>Email processing and routing</p>
</li>
<li>
<p>File manipulation and organization</p>
</li>
</ul>
<h4 id="bpa-is-appropriate-when">BPA is Appropriate When:<a class="headerlink" href="#bpa-is-appropriate-when" title="Permanent link">&para;</a></h4>
<p><strong>Process Characteristics</strong>:</p>
<ul>
<li>
<p>Complex, cross-functional workflows</p>
</li>
<li>
<p>Process inefficiencies exist</p>
</li>
<li>
<p>Multiple stakeholders involved</p>
</li>
<li>
<p>Strategic business transformation</p>
</li>
<li>
<p>Long-term optimization goals</p>
</li>
</ul>
<p><strong>Technical Environment</strong>:</p>
<ul>
<li>
<p>Modern systems with integration capabilities</p>
</li>
<li>
<p>Budget for comprehensive solution</p>
</li>
<li>
<p>Strategic IT investment</p>
</li>
<li>
<p>Process reengineering acceptable</p>
</li>
<li>
<p>Scalability requirements</p>
</li>
</ul>
<p><strong>Example Scenarios</strong>:</p>
<ul>
<li>
<p>Customer onboarding workflows</p>
</li>
<li>
<p>Supply chain optimization</p>
</li>
<li>
<p>Regulatory compliance processes</p>
</li>
<li>
<p>Digital transformation initiatives</p>
</li>
</ul>
<h3 id="python-implementation-bpa-process-orchestration">Python Implementation: BPA Process Orchestration<a class="headerlink" href="#python-implementation-bpa-process-orchestration" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Callable</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="k">class</span><span class="w"> </span><span class="nc">ProcessStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Status of process execution.&quot;&quot;&quot;</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    <span class="n">PENDING</span> <span class="o">=</span> <span class="s2">&quot;pending&quot;</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    <span class="n">RUNNING</span> <span class="o">=</span> <span class="s2">&quot;running&quot;</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    <span class="n">WAITING_APPROVAL</span> <span class="o">=</span> <span class="s2">&quot;waiting_approval&quot;</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    <span class="n">COMPLETED</span> <span class="o">=</span> <span class="s2">&quot;completed&quot;</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>    <span class="n">FAILED</span> <span class="o">=</span> <span class="s2">&quot;failed&quot;</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    <span class="n">CANCELLED</span> <span class="o">=</span> <span class="s2">&quot;cancelled&quot;</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="k">class</span><span class="w"> </span><span class="nc">TaskType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Types of tasks in BPA workflows.&quot;&quot;&quot;</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>    <span class="n">AUTOMATED</span> <span class="o">=</span> <span class="s2">&quot;automated&quot;</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    <span class="n">HUMAN_APPROVAL</span> <span class="o">=</span> <span class="s2">&quot;human_approval&quot;</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    <span class="n">SYSTEM_INTEGRATION</span> <span class="o">=</span> <span class="s2">&quot;system_integration&quot;</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>    <span class="n">ML_DECISION</span> <span class="o">=</span> <span class="s2">&quot;ml_decision&quot;</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>    <span class="n">NOTIFICATION</span> <span class="o">=</span> <span class="s2">&quot;notification&quot;</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="nd">@dataclass</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="k">class</span><span class="w"> </span><span class="nc">WorkflowTask</span><span class="p">:</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a single task in a BPA workflow.&quot;&quot;&quot;</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>    <span class="n">task_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>    <span class="n">task_name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>    <span class="n">task_type</span><span class="p">:</span> <span class="n">TaskType</span>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    <span class="n">function</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>    <span class="n">depends_on</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>    <span class="n">timeout_minutes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>    <span class="n">retry_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>    <span class="n">approval_required</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>    <span class="n">approver_role</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a><span class="nd">@dataclass</span>
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a><span class="k">class</span><span class="w"> </span><span class="nc">ProcessInstance</span><span class="p">:</span>
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a running instance of a BPA process.&quot;&quot;&quot;</span>
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>    <span class="n">process_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>    <span class="n">process_name</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>    <span class="n">status</span><span class="p">:</span> <span class="n">ProcessStatus</span>
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>    <span class="n">created_date</span><span class="p">:</span> <span class="n">datetime</span>
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a>    <span class="n">updated_date</span><span class="p">:</span> <span class="n">datetime</span>
</span><span id="__span-1-48"><a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a>    <span class="n">input_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</span><span id="__span-1-49"><a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a>    <span class="n">current_task</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-1-50"><a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a>    <span class="n">completed_tasks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</span><span id="__span-1-51"><a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a>    <span class="n">failed_tasks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</span><span id="__span-1-52"><a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a>    <span class="n">approval_queue</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</span><span id="__span-1-53"><a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a>    <span class="n">process_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
</span><span id="__span-1-54"><a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a>
</span><span id="__span-1-55"><a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a><span class="k">class</span><span class="w"> </span><span class="nc">BPAOrchestrationEngine</span><span class="p">:</span>
</span><span id="__span-1-56"><a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-1-57"><a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a><span class="sd">    Business Process Automation orchestration engine.</span>
</span><span id="__span-1-58"><a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a><span class="sd">    Demonstrates end-to-end process automation with human interaction.</span>
</span><span id="__span-1-59"><a id="__codelineno-1-59" name="__codelineno-1-59" href="#__codelineno-1-59"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-1-60"><a id="__codelineno-1-60" name="__codelineno-1-60" href="#__codelineno-1-60"></a>
</span><span id="__span-1-61"><a id="__codelineno-1-61" name="__codelineno-1-61" href="#__codelineno-1-61"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-1-62"><a id="__codelineno-1-62" name="__codelineno-1-62" href="#__codelineno-1-62"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">workflows</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-63"><a id="__codelineno-1-63" name="__codelineno-1-63" href="#__codelineno-1-63"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">running_processes</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-64"><a id="__codelineno-1-64" name="__codelineno-1-64" href="#__codelineno-1-64"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">completed_processes</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-65"><a id="__codelineno-1-65" name="__codelineno-1-65" href="#__codelineno-1-65"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">approval_queue</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-66"><a id="__codelineno-1-66" name="__codelineno-1-66" href="#__codelineno-1-66"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">system_integrations</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-67"><a id="__codelineno-1-67" name="__codelineno-1-67" href="#__codelineno-1-67"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ml_models</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-68"><a id="__codelineno-1-68" name="__codelineno-1-68" href="#__codelineno-1-68"></a>
</span><span id="__span-1-69"><a id="__codelineno-1-69" name="__codelineno-1-69" href="#__codelineno-1-69"></a>        <span class="c1"># Setup logging</span>
</span><span id="__span-1-70"><a id="__codelineno-1-70" name="__codelineno-1-70" href="#__codelineno-1-70"></a>        <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
</span><span id="__span-1-71"><a id="__codelineno-1-71" name="__codelineno-1-71" href="#__codelineno-1-71"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="__span-1-72"><a id="__codelineno-1-72" name="__codelineno-1-72" href="#__codelineno-1-72"></a>
</span><span id="__span-1-73"><a id="__codelineno-1-73" name="__codelineno-1-73" href="#__codelineno-1-73"></a>        <span class="c1"># Initialize system components</span>
</span><span id="__span-1-74"><a id="__codelineno-1-74" name="__codelineno-1-74" href="#__codelineno-1-74"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_system_integrations</span><span class="p">()</span>
</span><span id="__span-1-75"><a id="__codelineno-1-75" name="__codelineno-1-75" href="#__codelineno-1-75"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize_ml_models</span><span class="p">()</span>
</span><span id="__span-1-76"><a id="__codelineno-1-76" name="__codelineno-1-76" href="#__codelineno-1-76"></a>
</span><span id="__span-1-77"><a id="__codelineno-1-77" name="__codelineno-1-77" href="#__codelineno-1-77"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_system_integrations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-1-78"><a id="__codelineno-1-78" name="__codelineno-1-78" href="#__codelineno-1-78"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize connections to external systems.&quot;&quot;&quot;</span>
</span><span id="__span-1-79"><a id="__codelineno-1-79" name="__codelineno-1-79" href="#__codelineno-1-79"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">system_integrations</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-80"><a id="__codelineno-1-80" name="__codelineno-1-80" href="#__codelineno-1-80"></a>            <span class="s2">&quot;crm_system&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-81"><a id="__codelineno-1-81" name="__codelineno-1-81" href="#__codelineno-1-81"></a>                <span class="s2">&quot;base_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.crm.company.com&quot;</span><span class="p">,</span>
</span><span id="__span-1-82"><a id="__codelineno-1-82" name="__codelineno-1-82" href="#__codelineno-1-82"></a>                <span class="s2">&quot;auth_token&quot;</span><span class="p">:</span> <span class="s2">&quot;secure_token_123&quot;</span><span class="p">,</span>
</span><span id="__span-1-83"><a id="__codelineno-1-83" name="__codelineno-1-83" href="#__codelineno-1-83"></a>                <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
</span><span id="__span-1-84"><a id="__codelineno-1-84" name="__codelineno-1-84" href="#__codelineno-1-84"></a>                <span class="s2">&quot;methods&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;create_customer&quot;</span><span class="p">,</span> <span class="s2">&quot;update_customer&quot;</span><span class="p">,</span> <span class="s2">&quot;get_customer&quot;</span><span class="p">]</span>
</span><span id="__span-1-85"><a id="__codelineno-1-85" name="__codelineno-1-85" href="#__codelineno-1-85"></a>            <span class="p">},</span>
</span><span id="__span-1-86"><a id="__codelineno-1-86" name="__codelineno-1-86" href="#__codelineno-1-86"></a>            <span class="s2">&quot;erp_system&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-87"><a id="__codelineno-1-87" name="__codelineno-1-87" href="#__codelineno-1-87"></a>                <span class="s2">&quot;base_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.erp.company.com&quot;</span><span class="p">,</span> 
</span><span id="__span-1-88"><a id="__codelineno-1-88" name="__codelineno-1-88" href="#__codelineno-1-88"></a>                <span class="s2">&quot;auth_token&quot;</span><span class="p">:</span> <span class="s2">&quot;secure_token_456&quot;</span><span class="p">,</span>
</span><span id="__span-1-89"><a id="__codelineno-1-89" name="__codelineno-1-89" href="#__codelineno-1-89"></a>                <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span>
</span><span id="__span-1-90"><a id="__codelineno-1-90" name="__codelineno-1-90" href="#__codelineno-1-90"></a>                <span class="s2">&quot;methods&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;create_order&quot;</span><span class="p">,</span> <span class="s2">&quot;update_inventory&quot;</span><span class="p">,</span> <span class="s2">&quot;process_payment&quot;</span><span class="p">]</span>
</span><span id="__span-1-91"><a id="__codelineno-1-91" name="__codelineno-1-91" href="#__codelineno-1-91"></a>            <span class="p">},</span>
</span><span id="__span-1-92"><a id="__codelineno-1-92" name="__codelineno-1-92" href="#__codelineno-1-92"></a>            <span class="s2">&quot;email_service&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-93"><a id="__codelineno-1-93" name="__codelineno-1-93" href="#__codelineno-1-93"></a>                <span class="s2">&quot;smtp_server&quot;</span><span class="p">:</span> <span class="s2">&quot;smtp.company.com&quot;</span><span class="p">,</span>
</span><span id="__span-1-94"><a id="__codelineno-1-94" name="__codelineno-1-94" href="#__codelineno-1-94"></a>                <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">587</span><span class="p">,</span>
</span><span id="__span-1-95"><a id="__codelineno-1-95" name="__codelineno-1-95" href="#__codelineno-1-95"></a>                <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;bpa_engine@company.com&quot;</span><span class="p">,</span>
</span><span id="__span-1-96"><a id="__codelineno-1-96" name="__codelineno-1-96" href="#__codelineno-1-96"></a>                <span class="s2">&quot;methods&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;send_notification&quot;</span><span class="p">,</span> <span class="s2">&quot;send_approval_request&quot;</span><span class="p">]</span>
</span><span id="__span-1-97"><a id="__codelineno-1-97" name="__codelineno-1-97" href="#__codelineno-1-97"></a>            <span class="p">},</span>
</span><span id="__span-1-98"><a id="__codelineno-1-98" name="__codelineno-1-98" href="#__codelineno-1-98"></a>            <span class="s2">&quot;document_storage&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-99"><a id="__codelineno-1-99" name="__codelineno-1-99" href="#__codelineno-1-99"></a>                <span class="s2">&quot;base_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://docs.company.com/api&quot;</span><span class="p">,</span>
</span><span id="__span-1-100"><a id="__codelineno-1-100" name="__codelineno-1-100" href="#__codelineno-1-100"></a>                <span class="s2">&quot;auth_token&quot;</span><span class="p">:</span> <span class="s2">&quot;secure_token_789&quot;</span><span class="p">,</span>
</span><span id="__span-1-101"><a id="__codelineno-1-101" name="__codelineno-1-101" href="#__codelineno-1-101"></a>                <span class="s2">&quot;methods&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;store_document&quot;</span><span class="p">,</span> <span class="s2">&quot;retrieve_document&quot;</span><span class="p">,</span> <span class="s2">&quot;archive_document&quot;</span><span class="p">]</span>
</span><span id="__span-1-102"><a id="__codelineno-1-102" name="__codelineno-1-102" href="#__codelineno-1-102"></a>            <span class="p">}</span>
</span><span id="__span-1-103"><a id="__codelineno-1-103" name="__codelineno-1-103" href="#__codelineno-1-103"></a>        <span class="p">}</span>
</span><span id="__span-1-104"><a id="__codelineno-1-104" name="__codelineno-1-104" href="#__codelineno-1-104"></a>
</span><span id="__span-1-105"><a id="__codelineno-1-105" name="__codelineno-1-105" href="#__codelineno-1-105"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_initialize_ml_models</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-1-106"><a id="__codelineno-1-106" name="__codelineno-1-106" href="#__codelineno-1-106"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize ML models for intelligent decision making.&quot;&quot;&quot;</span>
</span><span id="__span-1-107"><a id="__codelineno-1-107" name="__codelineno-1-107" href="#__codelineno-1-107"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">ml_models</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-108"><a id="__codelineno-1-108" name="__codelineno-1-108" href="#__codelineno-1-108"></a>            <span class="s2">&quot;fraud_detection&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-109"><a id="__codelineno-1-109" name="__codelineno-1-109" href="#__codelineno-1-109"></a>                <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="s2">&quot;classification&quot;</span><span class="p">,</span>
</span><span id="__span-1-110"><a id="__codelineno-1-110" name="__codelineno-1-110" href="#__codelineno-1-110"></a>                <span class="s2">&quot;confidence_threshold&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
</span><span id="__span-1-111"><a id="__codelineno-1-111" name="__codelineno-1-111" href="#__codelineno-1-111"></a>                <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;transaction_amount&quot;</span><span class="p">,</span> <span class="s2">&quot;customer_history&quot;</span><span class="p">,</span> <span class="s2">&quot;location&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">]</span>
</span><span id="__span-1-112"><a id="__codelineno-1-112" name="__codelineno-1-112" href="#__codelineno-1-112"></a>            <span class="p">},</span>
</span><span id="__span-1-113"><a id="__codelineno-1-113" name="__codelineno-1-113" href="#__codelineno-1-113"></a>            <span class="s2">&quot;priority_classification&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-114"><a id="__codelineno-1-114" name="__codelineno-1-114" href="#__codelineno-1-114"></a>                <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="s2">&quot;classification&quot;</span><span class="p">,</span> 
</span><span id="__span-1-115"><a id="__codelineno-1-115" name="__codelineno-1-115" href="#__codelineno-1-115"></a>                <span class="s2">&quot;confidence_threshold&quot;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>
</span><span id="__span-1-116"><a id="__codelineno-1-116" name="__codelineno-1-116" href="#__codelineno-1-116"></a>                <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;customer_tier&quot;</span><span class="p">,</span> <span class="s2">&quot;request_type&quot;</span><span class="p">,</span> <span class="s2">&quot;urgency_keywords&quot;</span><span class="p">]</span>
</span><span id="__span-1-117"><a id="__codelineno-1-117" name="__codelineno-1-117" href="#__codelineno-1-117"></a>            <span class="p">},</span>
</span><span id="__span-1-118"><a id="__codelineno-1-118" name="__codelineno-1-118" href="#__codelineno-1-118"></a>            <span class="s2">&quot;document_classifier&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-1-119"><a id="__codelineno-1-119" name="__codelineno-1-119" href="#__codelineno-1-119"></a>                <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="s2">&quot;classification&quot;</span><span class="p">,</span>
</span><span id="__span-1-120"><a id="__codelineno-1-120" name="__codelineno-1-120" href="#__codelineno-1-120"></a>                <span class="s2">&quot;confidence_threshold&quot;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">,</span>
</span><span id="__span-1-121"><a id="__codelineno-1-121" name="__codelineno-1-121" href="#__codelineno-1-121"></a>                <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;document_type&quot;</span><span class="p">,</span> <span class="s2">&quot;content_analysis&quot;</span><span class="p">,</span> <span class="s2">&quot;metadata&quot;</span><span class="p">]</span>
</span><span id="__span-1-122"><a id="__codelineno-1-122" name="__codelineno-1-122" href="#__codelineno-1-122"></a>            <span class="p">}</span>
</span><span id="__span-1-123"><a id="__codelineno-1-123" name="__codelineno-1-123" href="#__codelineno-1-123"></a>        <span class="p">}</span>
</span><span id="__span-1-124"><a id="__codelineno-1-124" name="__codelineno-1-124" href="#__codelineno-1-124"></a>
</span><span id="__span-1-125"><a id="__codelineno-1-125" name="__codelineno-1-125" href="#__codelineno-1-125"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">define_workflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workflow_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tasks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">WorkflowTask</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-1-126"><a id="__codelineno-1-126" name="__codelineno-1-126" href="#__codelineno-1-126"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Define a new BPA workflow.&quot;&quot;&quot;</span>
</span><span id="__span-1-127"><a id="__codelineno-1-127" name="__codelineno-1-127" href="#__codelineno-1-127"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">workflows</span><span class="p">[</span><span class="n">workflow_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-128"><a id="__codelineno-1-128" name="__codelineno-1-128" href="#__codelineno-1-128"></a>            <span class="s2">&quot;tasks&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">task</span><span class="o">.</span><span class="n">task_id</span><span class="p">:</span> <span class="n">task</span> <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">},</span>
</span><span id="__span-1-129"><a id="__codelineno-1-129" name="__codelineno-1-129" href="#__codelineno-1-129"></a>            <span class="s2">&quot;task_order&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">task</span><span class="o">.</span><span class="n">task_id</span> <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">],</span>
</span><span id="__span-1-130"><a id="__codelineno-1-130" name="__codelineno-1-130" href="#__codelineno-1-130"></a>            <span class="s2">&quot;created_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-1-131"><a id="__codelineno-1-131" name="__codelineno-1-131" href="#__codelineno-1-131"></a>        <span class="p">}</span>
</span><span id="__span-1-132"><a id="__codelineno-1-132" name="__codelineno-1-132" href="#__codelineno-1-132"></a>
</span><span id="__span-1-133"><a id="__codelineno-1-133" name="__codelineno-1-133" href="#__codelineno-1-133"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Defined workflow: </span><span class="si">{</span><span class="n">workflow_name</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span><span class="si">}</span><span class="s2"> tasks&quot;</span><span class="p">)</span>
</span><span id="__span-1-134"><a id="__codelineno-1-134" name="__codelineno-1-134" href="#__codelineno-1-134"></a>
</span><span id="__span-1-135"><a id="__codelineno-1-135" name="__codelineno-1-135" href="#__codelineno-1-135"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workflow_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">input_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-1-136"><a id="__codelineno-1-136" name="__codelineno-1-136" href="#__codelineno-1-136"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a new process instance.&quot;&quot;&quot;</span>
</span><span id="__span-1-137"><a id="__codelineno-1-137" name="__codelineno-1-137" href="#__codelineno-1-137"></a>        <span class="k">if</span> <span class="n">workflow_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflows</span><span class="p">:</span>
</span><span id="__span-1-138"><a id="__codelineno-1-138" name="__codelineno-1-138" href="#__codelineno-1-138"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Workflow &#39;</span><span class="si">{</span><span class="n">workflow_name</span><span class="si">}</span><span class="s2">&#39; not found&quot;</span><span class="p">)</span>
</span><span id="__span-1-139"><a id="__codelineno-1-139" name="__codelineno-1-139" href="#__codelineno-1-139"></a>
</span><span id="__span-1-140"><a id="__codelineno-1-140" name="__codelineno-1-140" href="#__codelineno-1-140"></a>        <span class="n">process_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
</span><span id="__span-1-141"><a id="__codelineno-1-141" name="__codelineno-1-141" href="#__codelineno-1-141"></a>
</span><span id="__span-1-142"><a id="__codelineno-1-142" name="__codelineno-1-142" href="#__codelineno-1-142"></a>        <span class="n">process_instance</span> <span class="o">=</span> <span class="n">ProcessInstance</span><span class="p">(</span>
</span><span id="__span-1-143"><a id="__codelineno-1-143" name="__codelineno-1-143" href="#__codelineno-1-143"></a>            <span class="n">process_id</span><span class="o">=</span><span class="n">process_id</span><span class="p">,</span>
</span><span id="__span-1-144"><a id="__codelineno-1-144" name="__codelineno-1-144" href="#__codelineno-1-144"></a>            <span class="n">process_name</span><span class="o">=</span><span class="n">workflow_name</span><span class="p">,</span>
</span><span id="__span-1-145"><a id="__codelineno-1-145" name="__codelineno-1-145" href="#__codelineno-1-145"></a>            <span class="n">status</span><span class="o">=</span><span class="n">ProcessStatus</span><span class="o">.</span><span class="n">PENDING</span><span class="p">,</span>
</span><span id="__span-1-146"><a id="__codelineno-1-146" name="__codelineno-1-146" href="#__codelineno-1-146"></a>            <span class="n">created_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="__span-1-147"><a id="__codelineno-1-147" name="__codelineno-1-147" href="#__codelineno-1-147"></a>            <span class="n">updated_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="__span-1-148"><a id="__codelineno-1-148" name="__codelineno-1-148" href="#__codelineno-1-148"></a>            <span class="n">input_data</span><span class="o">=</span><span class="n">input_data</span><span class="p">,</span>
</span><span id="__span-1-149"><a id="__codelineno-1-149" name="__codelineno-1-149" href="#__codelineno-1-149"></a>            <span class="n">process_data</span><span class="o">=</span><span class="n">input_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="__span-1-150"><a id="__codelineno-1-150" name="__codelineno-1-150" href="#__codelineno-1-150"></a>        <span class="p">)</span>
</span><span id="__span-1-151"><a id="__codelineno-1-151" name="__codelineno-1-151" href="#__codelineno-1-151"></a>
</span><span id="__span-1-152"><a id="__codelineno-1-152" name="__codelineno-1-152" href="#__codelineno-1-152"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">running_processes</span><span class="p">[</span><span class="n">process_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">process_instance</span>
</span><span id="__span-1-153"><a id="__codelineno-1-153" name="__codelineno-1-153" href="#__codelineno-1-153"></a>
</span><span id="__span-1-154"><a id="__codelineno-1-154" name="__codelineno-1-154" href="#__codelineno-1-154"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Started process </span><span class="si">{</span><span class="n">process_id</span><span class="si">}</span><span class="s2"> for workflow </span><span class="si">{</span><span class="n">workflow_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-155"><a id="__codelineno-1-155" name="__codelineno-1-155" href="#__codelineno-1-155"></a>
</span><span id="__span-1-156"><a id="__codelineno-1-156" name="__codelineno-1-156" href="#__codelineno-1-156"></a>        <span class="c1"># Start execution</span>
</span><span id="__span-1-157"><a id="__codelineno-1-157" name="__codelineno-1-157" href="#__codelineno-1-157"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_process</span><span class="p">(</span><span class="n">process_id</span><span class="p">)</span>
</span><span id="__span-1-158"><a id="__codelineno-1-158" name="__codelineno-1-158" href="#__codelineno-1-158"></a>
</span><span id="__span-1-159"><a id="__codelineno-1-159" name="__codelineno-1-159" href="#__codelineno-1-159"></a>        <span class="k">return</span> <span class="n">process_id</span>
</span><span id="__span-1-160"><a id="__codelineno-1-160" name="__codelineno-1-160" href="#__codelineno-1-160"></a>
</span><span id="__span-1-161"><a id="__codelineno-1-161" name="__codelineno-1-161" href="#__codelineno-1-161"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_execute_process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">process_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-1-162"><a id="__codelineno-1-162" name="__codelineno-1-162" href="#__codelineno-1-162"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute a process instance.&quot;&quot;&quot;</span>
</span><span id="__span-1-163"><a id="__codelineno-1-163" name="__codelineno-1-163" href="#__codelineno-1-163"></a>        <span class="n">process</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">running_processes</span><span class="p">[</span><span class="n">process_id</span><span class="p">]</span>
</span><span id="__span-1-164"><a id="__codelineno-1-164" name="__codelineno-1-164" href="#__codelineno-1-164"></a>        <span class="n">workflow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">workflows</span><span class="p">[</span><span class="n">process</span><span class="o">.</span><span class="n">process_name</span><span class="p">]</span>
</span><span id="__span-1-165"><a id="__codelineno-1-165" name="__codelineno-1-165" href="#__codelineno-1-165"></a>
</span><span id="__span-1-166"><a id="__codelineno-1-166" name="__codelineno-1-166" href="#__codelineno-1-166"></a>        <span class="n">process</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">ProcessStatus</span><span class="o">.</span><span class="n">RUNNING</span>
</span><span id="__span-1-167"><a id="__codelineno-1-167" name="__codelineno-1-167" href="#__codelineno-1-167"></a>        <span class="n">process</span><span class="o">.</span><span class="n">updated_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-1-168"><a id="__codelineno-1-168" name="__codelineno-1-168" href="#__codelineno-1-168"></a>
</span><span id="__span-1-169"><a id="__codelineno-1-169" name="__codelineno-1-169" href="#__codelineno-1-169"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-1-170"><a id="__codelineno-1-170" name="__codelineno-1-170" href="#__codelineno-1-170"></a>            <span class="k">for</span> <span class="n">task_id</span> <span class="ow">in</span> <span class="n">workflow</span><span class="p">[</span><span class="s2">&quot;task_order&quot;</span><span class="p">]:</span>
</span><span id="__span-1-171"><a id="__codelineno-1-171" name="__codelineno-1-171" href="#__codelineno-1-171"></a>                <span class="k">if</span> <span class="n">task_id</span> <span class="ow">in</span> <span class="n">process</span><span class="o">.</span><span class="n">completed_tasks</span><span class="p">:</span>
</span><span id="__span-1-172"><a id="__codelineno-1-172" name="__codelineno-1-172" href="#__codelineno-1-172"></a>                    <span class="k">continue</span>
</span><span id="__span-1-173"><a id="__codelineno-1-173" name="__codelineno-1-173" href="#__codelineno-1-173"></a>
</span><span id="__span-1-174"><a id="__codelineno-1-174" name="__codelineno-1-174" href="#__codelineno-1-174"></a>                <span class="n">task</span> <span class="o">=</span> <span class="n">workflow</span><span class="p">[</span><span class="s2">&quot;tasks&quot;</span><span class="p">][</span><span class="n">task_id</span><span class="p">]</span>
</span><span id="__span-1-175"><a id="__codelineno-1-175" name="__codelineno-1-175" href="#__codelineno-1-175"></a>
</span><span id="__span-1-176"><a id="__codelineno-1-176" name="__codelineno-1-176" href="#__codelineno-1-176"></a>                <span class="c1"># Check dependencies</span>
</span><span id="__span-1-177"><a id="__codelineno-1-177" name="__codelineno-1-177" href="#__codelineno-1-177"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_dependencies</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">process</span><span class="p">):</span>
</span><span id="__span-1-178"><a id="__codelineno-1-178" name="__codelineno-1-178" href="#__codelineno-1-178"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dependencies not met for task </span><span class="si">{</span><span class="n">task_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-179"><a id="__codelineno-1-179" name="__codelineno-1-179" href="#__codelineno-1-179"></a>                    <span class="k">continue</span>
</span><span id="__span-1-180"><a id="__codelineno-1-180" name="__codelineno-1-180" href="#__codelineno-1-180"></a>
</span><span id="__span-1-181"><a id="__codelineno-1-181" name="__codelineno-1-181" href="#__codelineno-1-181"></a>                <span class="n">process</span><span class="o">.</span><span class="n">current_task</span> <span class="o">=</span> <span class="n">task_id</span>
</span><span id="__span-1-182"><a id="__codelineno-1-182" name="__codelineno-1-182" href="#__codelineno-1-182"></a>
</span><span id="__span-1-183"><a id="__codelineno-1-183" name="__codelineno-1-183" href="#__codelineno-1-183"></a>                <span class="c1"># Execute task based on type</span>
</span><span id="__span-1-184"><a id="__codelineno-1-184" name="__codelineno-1-184" href="#__codelineno-1-184"></a>                <span class="n">success</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">process</span><span class="p">)</span>
</span><span id="__span-1-185"><a id="__codelineno-1-185" name="__codelineno-1-185" href="#__codelineno-1-185"></a>
</span><span id="__span-1-186"><a id="__codelineno-1-186" name="__codelineno-1-186" href="#__codelineno-1-186"></a>                <span class="k">if</span> <span class="n">success</span><span class="p">:</span>
</span><span id="__span-1-187"><a id="__codelineno-1-187" name="__codelineno-1-187" href="#__codelineno-1-187"></a>                    <span class="n">process</span><span class="o">.</span><span class="n">completed_tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span>
</span><span id="__span-1-188"><a id="__codelineno-1-188" name="__codelineno-1-188" href="#__codelineno-1-188"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Completed task </span><span class="si">{</span><span class="n">task_id</span><span class="si">}</span><span class="s2"> in process </span><span class="si">{</span><span class="n">process_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-189"><a id="__codelineno-1-189" name="__codelineno-1-189" href="#__codelineno-1-189"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-190"><a id="__codelineno-1-190" name="__codelineno-1-190" href="#__codelineno-1-190"></a>                    <span class="n">process</span><span class="o">.</span><span class="n">failed_tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span>
</span><span id="__span-1-191"><a id="__codelineno-1-191" name="__codelineno-1-191" href="#__codelineno-1-191"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed task </span><span class="si">{</span><span class="n">task_id</span><span class="si">}</span><span class="s2"> in process </span><span class="si">{</span><span class="n">process_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-192"><a id="__codelineno-1-192" name="__codelineno-1-192" href="#__codelineno-1-192"></a>                    <span class="n">process</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">ProcessStatus</span><span class="o">.</span><span class="n">FAILED</span>
</span><span id="__span-1-193"><a id="__codelineno-1-193" name="__codelineno-1-193" href="#__codelineno-1-193"></a>                    <span class="k">return</span>
</span><span id="__span-1-194"><a id="__codelineno-1-194" name="__codelineno-1-194" href="#__codelineno-1-194"></a>
</span><span id="__span-1-195"><a id="__codelineno-1-195" name="__codelineno-1-195" href="#__codelineno-1-195"></a>                <span class="n">process</span><span class="o">.</span><span class="n">updated_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-1-196"><a id="__codelineno-1-196" name="__codelineno-1-196" href="#__codelineno-1-196"></a>
</span><span id="__span-1-197"><a id="__codelineno-1-197" name="__codelineno-1-197" href="#__codelineno-1-197"></a>            <span class="c1"># All tasks completed</span>
</span><span id="__span-1-198"><a id="__codelineno-1-198" name="__codelineno-1-198" href="#__codelineno-1-198"></a>            <span class="n">process</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">ProcessStatus</span><span class="o">.</span><span class="n">COMPLETED</span>
</span><span id="__span-1-199"><a id="__codelineno-1-199" name="__codelineno-1-199" href="#__codelineno-1-199"></a>            <span class="n">process</span><span class="o">.</span><span class="n">current_task</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-1-200"><a id="__codelineno-1-200" name="__codelineno-1-200" href="#__codelineno-1-200"></a>
</span><span id="__span-1-201"><a id="__codelineno-1-201" name="__codelineno-1-201" href="#__codelineno-1-201"></a>            <span class="c1"># Move to completed processes</span>
</span><span id="__span-1-202"><a id="__codelineno-1-202" name="__codelineno-1-202" href="#__codelineno-1-202"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed_processes</span><span class="p">[</span><span class="n">process_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">process</span>
</span><span id="__span-1-203"><a id="__codelineno-1-203" name="__codelineno-1-203" href="#__codelineno-1-203"></a>            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">running_processes</span><span class="p">[</span><span class="n">process_id</span><span class="p">]</span>
</span><span id="__span-1-204"><a id="__codelineno-1-204" name="__codelineno-1-204" href="#__codelineno-1-204"></a>
</span><span id="__span-1-205"><a id="__codelineno-1-205" name="__codelineno-1-205" href="#__codelineno-1-205"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Process </span><span class="si">{</span><span class="n">process_id</span><span class="si">}</span><span class="s2"> completed successfully&quot;</span><span class="p">)</span>
</span><span id="__span-1-206"><a id="__codelineno-1-206" name="__codelineno-1-206" href="#__codelineno-1-206"></a>
</span><span id="__span-1-207"><a id="__codelineno-1-207" name="__codelineno-1-207" href="#__codelineno-1-207"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-1-208"><a id="__codelineno-1-208" name="__codelineno-1-208" href="#__codelineno-1-208"></a>            <span class="n">process</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">ProcessStatus</span><span class="o">.</span><span class="n">FAILED</span>
</span><span id="__span-1-209"><a id="__codelineno-1-209" name="__codelineno-1-209" href="#__codelineno-1-209"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Process </span><span class="si">{</span><span class="n">process_id</span><span class="si">}</span><span class="s2"> failed with error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-210"><a id="__codelineno-1-210" name="__codelineno-1-210" href="#__codelineno-1-210"></a>
</span><span id="__span-1-211"><a id="__codelineno-1-211" name="__codelineno-1-211" href="#__codelineno-1-211"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_check_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">WorkflowTask</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="n">ProcessInstance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-1-212"><a id="__codelineno-1-212" name="__codelineno-1-212" href="#__codelineno-1-212"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if task dependencies are satisfied.&quot;&quot;&quot;</span>
</span><span id="__span-1-213"><a id="__codelineno-1-213" name="__codelineno-1-213" href="#__codelineno-1-213"></a>        <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">depends_on</span><span class="p">:</span>
</span><span id="__span-1-214"><a id="__codelineno-1-214" name="__codelineno-1-214" href="#__codelineno-1-214"></a>            <span class="k">if</span> <span class="n">dependency</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">process</span><span class="o">.</span><span class="n">completed_tasks</span><span class="p">:</span>
</span><span id="__span-1-215"><a id="__codelineno-1-215" name="__codelineno-1-215" href="#__codelineno-1-215"></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-1-216"><a id="__codelineno-1-216" name="__codelineno-1-216" href="#__codelineno-1-216"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-1-217"><a id="__codelineno-1-217" name="__codelineno-1-217" href="#__codelineno-1-217"></a>
</span><span id="__span-1-218"><a id="__codelineno-1-218" name="__codelineno-1-218" href="#__codelineno-1-218"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_execute_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">WorkflowTask</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="n">ProcessInstance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-1-219"><a id="__codelineno-1-219" name="__codelineno-1-219" href="#__codelineno-1-219"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute a single task.&quot;&quot;&quot;</span>
</span><span id="__span-1-220"><a id="__codelineno-1-220" name="__codelineno-1-220" href="#__codelineno-1-220"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing task </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">task_id</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">task_type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="__span-1-221"><a id="__codelineno-1-221" name="__codelineno-1-221" href="#__codelineno-1-221"></a>
</span><span id="__span-1-222"><a id="__codelineno-1-222" name="__codelineno-1-222" href="#__codelineno-1-222"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-1-223"><a id="__codelineno-1-223" name="__codelineno-1-223" href="#__codelineno-1-223"></a>            <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="n">TaskType</span><span class="o">.</span><span class="n">AUTOMATED</span><span class="p">:</span>
</span><span id="__span-1-224"><a id="__codelineno-1-224" name="__codelineno-1-224" href="#__codelineno-1-224"></a>                <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_automated_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">process</span><span class="p">)</span>
</span><span id="__span-1-225"><a id="__codelineno-1-225" name="__codelineno-1-225" href="#__codelineno-1-225"></a>            <span class="k">elif</span> <span class="n">task</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="n">TaskType</span><span class="o">.</span><span class="n">HUMAN_APPROVAL</span><span class="p">:</span>
</span><span id="__span-1-226"><a id="__codelineno-1-226" name="__codelineno-1-226" href="#__codelineno-1-226"></a>                <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_approval_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">process</span><span class="p">)</span>
</span><span id="__span-1-227"><a id="__codelineno-1-227" name="__codelineno-1-227" href="#__codelineno-1-227"></a>            <span class="k">elif</span> <span class="n">task</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="n">TaskType</span><span class="o">.</span><span class="n">SYSTEM_INTEGRATION</span><span class="p">:</span>
</span><span id="__span-1-228"><a id="__codelineno-1-228" name="__codelineno-1-228" href="#__codelineno-1-228"></a>                <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_integration_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">process</span><span class="p">)</span>
</span><span id="__span-1-229"><a id="__codelineno-1-229" name="__codelineno-1-229" href="#__codelineno-1-229"></a>            <span class="k">elif</span> <span class="n">task</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="n">TaskType</span><span class="o">.</span><span class="n">ML_DECISION</span><span class="p">:</span>
</span><span id="__span-1-230"><a id="__codelineno-1-230" name="__codelineno-1-230" href="#__codelineno-1-230"></a>                <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_ml_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">process</span><span class="p">)</span>
</span><span id="__span-1-231"><a id="__codelineno-1-231" name="__codelineno-1-231" href="#__codelineno-1-231"></a>            <span class="k">elif</span> <span class="n">task</span><span class="o">.</span><span class="n">task_type</span> <span class="o">==</span> <span class="n">TaskType</span><span class="o">.</span><span class="n">NOTIFICATION</span><span class="p">:</span>
</span><span id="__span-1-232"><a id="__codelineno-1-232" name="__codelineno-1-232" href="#__codelineno-1-232"></a>                <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_notification_task</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">process</span><span class="p">)</span>
</span><span id="__span-1-233"><a id="__codelineno-1-233" name="__codelineno-1-233" href="#__codelineno-1-233"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-234"><a id="__codelineno-1-234" name="__codelineno-1-234" href="#__codelineno-1-234"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown task type: </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">task_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-235"><a id="__codelineno-1-235" name="__codelineno-1-235" href="#__codelineno-1-235"></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-1-236"><a id="__codelineno-1-236" name="__codelineno-1-236" href="#__codelineno-1-236"></a>
</span><span id="__span-1-237"><a id="__codelineno-1-237" name="__codelineno-1-237" href="#__codelineno-1-237"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-1-238"><a id="__codelineno-1-238" name="__codelineno-1-238" href="#__codelineno-1-238"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">task_id</span><span class="si">}</span><span class="s2"> failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-239"><a id="__codelineno-1-239" name="__codelineno-1-239" href="#__codelineno-1-239"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-1-240"><a id="__codelineno-1-240" name="__codelineno-1-240" href="#__codelineno-1-240"></a>
</span><span id="__span-1-241"><a id="__codelineno-1-241" name="__codelineno-1-241" href="#__codelineno-1-241"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_execute_automated_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">WorkflowTask</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="n">ProcessInstance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-1-242"><a id="__codelineno-1-242" name="__codelineno-1-242" href="#__codelineno-1-242"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute automated task logic.&quot;&quot;&quot;</span>
</span><span id="__span-1-243"><a id="__codelineno-1-243" name="__codelineno-1-243" href="#__codelineno-1-243"></a>        <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">function</span><span class="p">:</span>
</span><span id="__span-1-244"><a id="__codelineno-1-244" name="__codelineno-1-244" href="#__codelineno-1-244"></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="__span-1-245"><a id="__codelineno-1-245" name="__codelineno-1-245" href="#__codelineno-1-245"></a>                <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">task</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="p">)</span>
</span><span id="__span-1-246"><a id="__codelineno-1-246" name="__codelineno-1-246" href="#__codelineno-1-246"></a>                <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
</span><span id="__span-1-247"><a id="__codelineno-1-247" name="__codelineno-1-247" href="#__codelineno-1-247"></a>                    <span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-1-248"><a id="__codelineno-1-248" name="__codelineno-1-248" href="#__codelineno-1-248"></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-1-249"><a id="__codelineno-1-249" name="__codelineno-1-249" href="#__codelineno-1-249"></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-1-250"><a id="__codelineno-1-250" name="__codelineno-1-250" href="#__codelineno-1-250"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Automated task </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">task_id</span><span class="si">}</span><span class="s2"> failed: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-251"><a id="__codelineno-1-251" name="__codelineno-1-251" href="#__codelineno-1-251"></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-1-252"><a id="__codelineno-1-252" name="__codelineno-1-252" href="#__codelineno-1-252"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-1-253"><a id="__codelineno-1-253" name="__codelineno-1-253" href="#__codelineno-1-253"></a>
</span><span id="__span-1-254"><a id="__codelineno-1-254" name="__codelineno-1-254" href="#__codelineno-1-254"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_execute_approval_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">WorkflowTask</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="n">ProcessInstance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-1-255"><a id="__codelineno-1-255" name="__codelineno-1-255" href="#__codelineno-1-255"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute human approval task.&quot;&quot;&quot;</span>
</span><span id="__span-1-256"><a id="__codelineno-1-256" name="__codelineno-1-256" href="#__codelineno-1-256"></a>        <span class="n">approval_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
</span><span id="__span-1-257"><a id="__codelineno-1-257" name="__codelineno-1-257" href="#__codelineno-1-257"></a>
</span><span id="__span-1-258"><a id="__codelineno-1-258" name="__codelineno-1-258" href="#__codelineno-1-258"></a>        <span class="n">approval_request</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-259"><a id="__codelineno-1-259" name="__codelineno-1-259" href="#__codelineno-1-259"></a>            <span class="s2">&quot;approval_id&quot;</span><span class="p">:</span> <span class="n">approval_id</span><span class="p">,</span>
</span><span id="__span-1-260"><a id="__codelineno-1-260" name="__codelineno-1-260" href="#__codelineno-1-260"></a>            <span class="s2">&quot;process_id&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">process_id</span><span class="p">,</span>
</span><span id="__span-1-261"><a id="__codelineno-1-261" name="__codelineno-1-261" href="#__codelineno-1-261"></a>            <span class="s2">&quot;task_id&quot;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">task_id</span><span class="p">,</span>
</span><span id="__span-1-262"><a id="__codelineno-1-262" name="__codelineno-1-262" href="#__codelineno-1-262"></a>            <span class="s2">&quot;approver_role&quot;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">approver_role</span><span class="p">,</span>
</span><span id="__span-1-263"><a id="__codelineno-1-263" name="__codelineno-1-263" href="#__codelineno-1-263"></a>            <span class="s2">&quot;created_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="__span-1-264"><a id="__codelineno-1-264" name="__codelineno-1-264" href="#__codelineno-1-264"></a>            <span class="s2">&quot;data_for_review&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="p">,</span>
</span><span id="__span-1-265"><a id="__codelineno-1-265" name="__codelineno-1-265" href="#__codelineno-1-265"></a>            <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="n">task</span><span class="o">.</span><span class="n">timeout_minutes</span><span class="p">)</span>
</span><span id="__span-1-266"><a id="__codelineno-1-266" name="__codelineno-1-266" href="#__codelineno-1-266"></a>        <span class="p">}</span>
</span><span id="__span-1-267"><a id="__codelineno-1-267" name="__codelineno-1-267" href="#__codelineno-1-267"></a>
</span><span id="__span-1-268"><a id="__codelineno-1-268" name="__codelineno-1-268" href="#__codelineno-1-268"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">approval_queue</span><span class="p">[</span><span class="n">approval_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">approval_request</span>
</span><span id="__span-1-269"><a id="__codelineno-1-269" name="__codelineno-1-269" href="#__codelineno-1-269"></a>        <span class="n">process</span><span class="o">.</span><span class="n">approval_queue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">approval_id</span><span class="p">)</span>
</span><span id="__span-1-270"><a id="__codelineno-1-270" name="__codelineno-1-270" href="#__codelineno-1-270"></a>        <span class="n">process</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">ProcessStatus</span><span class="o">.</span><span class="n">WAITING_APPROVAL</span>
</span><span id="__span-1-271"><a id="__codelineno-1-271" name="__codelineno-1-271" href="#__codelineno-1-271"></a>
</span><span id="__span-1-272"><a id="__codelineno-1-272" name="__codelineno-1-272" href="#__codelineno-1-272"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created approval request </span><span class="si">{</span><span class="n">approval_id</span><span class="si">}</span><span class="s2"> for task </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">task_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-273"><a id="__codelineno-1-273" name="__codelineno-1-273" href="#__codelineno-1-273"></a>
</span><span id="__span-1-274"><a id="__codelineno-1-274" name="__codelineno-1-274" href="#__codelineno-1-274"></a>        <span class="c1"># In real implementation, would send notification to approver</span>
</span><span id="__span-1-275"><a id="__codelineno-1-275" name="__codelineno-1-275" href="#__codelineno-1-275"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_simulate_approval_notification</span><span class="p">(</span><span class="n">approval_request</span><span class="p">)</span>
</span><span id="__span-1-276"><a id="__codelineno-1-276" name="__codelineno-1-276" href="#__codelineno-1-276"></a>
</span><span id="__span-1-277"><a id="__codelineno-1-277" name="__codelineno-1-277" href="#__codelineno-1-277"></a>        <span class="c1"># For demo, auto-approve after delay</span>
</span><span id="__span-1-278"><a id="__codelineno-1-278" name="__codelineno-1-278" href="#__codelineno-1-278"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Simulate approval time</span>
</span><span id="__span-1-279"><a id="__codelineno-1-279" name="__codelineno-1-279" href="#__codelineno-1-279"></a>        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_simulate_approval_decision</span><span class="p">(</span><span class="n">approval_id</span><span class="p">)</span>
</span><span id="__span-1-280"><a id="__codelineno-1-280" name="__codelineno-1-280" href="#__codelineno-1-280"></a>
</span><span id="__span-1-281"><a id="__codelineno-1-281" name="__codelineno-1-281" href="#__codelineno-1-281"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_execute_integration_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">WorkflowTask</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="n">ProcessInstance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-1-282"><a id="__codelineno-1-282" name="__codelineno-1-282" href="#__codelineno-1-282"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute system integration task.&quot;&quot;&quot;</span>
</span><span id="__span-1-283"><a id="__codelineno-1-283" name="__codelineno-1-283" href="#__codelineno-1-283"></a>        <span class="c1"># Simulate API call to external system</span>
</span><span id="__span-1-284"><a id="__codelineno-1-284" name="__codelineno-1-284" href="#__codelineno-1-284"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Simulate network delay</span>
</span><span id="__span-1-285"><a id="__codelineno-1-285" name="__codelineno-1-285" href="#__codelineno-1-285"></a>
</span><span id="__span-1-286"><a id="__codelineno-1-286" name="__codelineno-1-286" href="#__codelineno-1-286"></a>        <span class="c1"># Example: Create customer in CRM</span>
</span><span id="__span-1-287"><a id="__codelineno-1-287" name="__codelineno-1-287" href="#__codelineno-1-287"></a>        <span class="k">if</span> <span class="s2">&quot;create_customer&quot;</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">task_name</span><span class="p">:</span>
</span><span id="__span-1-288"><a id="__codelineno-1-288" name="__codelineno-1-288" href="#__codelineno-1-288"></a>            <span class="n">customer_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-289"><a id="__codelineno-1-289" name="__codelineno-1-289" href="#__codelineno-1-289"></a>                <span class="s2">&quot;customer_id&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;CUST_</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-1-290"><a id="__codelineno-1-290" name="__codelineno-1-290" href="#__codelineno-1-290"></a>                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;customer_name&quot;</span><span class="p">,</span> <span class="s2">&quot;Unknown&quot;</span><span class="p">),</span>
</span><span id="__span-1-291"><a id="__codelineno-1-291" name="__codelineno-1-291" href="#__codelineno-1-291"></a>                <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
</span><span id="__span-1-292"><a id="__codelineno-1-292" name="__codelineno-1-292" href="#__codelineno-1-292"></a>                <span class="s2">&quot;created_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-1-293"><a id="__codelineno-1-293" name="__codelineno-1-293" href="#__codelineno-1-293"></a>            <span class="p">}</span>
</span><span id="__span-1-294"><a id="__codelineno-1-294" name="__codelineno-1-294" href="#__codelineno-1-294"></a>            <span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="p">[</span><span class="s2">&quot;crm_customer_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">customer_data</span><span class="p">[</span><span class="s2">&quot;customer_id&quot;</span><span class="p">]</span>
</span><span id="__span-1-295"><a id="__codelineno-1-295" name="__codelineno-1-295" href="#__codelineno-1-295"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created customer </span><span class="si">{</span><span class="n">customer_data</span><span class="p">[</span><span class="s1">&#39;customer_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> in CRM&quot;</span><span class="p">)</span>
</span><span id="__span-1-296"><a id="__codelineno-1-296" name="__codelineno-1-296" href="#__codelineno-1-296"></a>
</span><span id="__span-1-297"><a id="__codelineno-1-297" name="__codelineno-1-297" href="#__codelineno-1-297"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-1-298"><a id="__codelineno-1-298" name="__codelineno-1-298" href="#__codelineno-1-298"></a>
</span><span id="__span-1-299"><a id="__codelineno-1-299" name="__codelineno-1-299" href="#__codelineno-1-299"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_execute_ml_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">WorkflowTask</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="n">ProcessInstance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-1-300"><a id="__codelineno-1-300" name="__codelineno-1-300" href="#__codelineno-1-300"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute ML-based decision task.&quot;&quot;&quot;</span>
</span><span id="__span-1-301"><a id="__codelineno-1-301" name="__codelineno-1-301" href="#__codelineno-1-301"></a>        <span class="c1"># Simulate ML model execution</span>
</span><span id="__span-1-302"><a id="__codelineno-1-302" name="__codelineno-1-302" href="#__codelineno-1-302"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Simulate model inference time</span>
</span><span id="__span-1-303"><a id="__codelineno-1-303" name="__codelineno-1-303" href="#__codelineno-1-303"></a>
</span><span id="__span-1-304"><a id="__codelineno-1-304" name="__codelineno-1-304" href="#__codelineno-1-304"></a>        <span class="c1"># Example: Fraud detection</span>
</span><span id="__span-1-305"><a id="__codelineno-1-305" name="__codelineno-1-305" href="#__codelineno-1-305"></a>        <span class="k">if</span> <span class="s2">&quot;fraud_detection&quot;</span> <span class="ow">in</span> <span class="n">task</span><span class="o">.</span><span class="n">task_name</span><span class="p">:</span>
</span><span id="__span-1-306"><a id="__codelineno-1-306" name="__codelineno-1-306" href="#__codelineno-1-306"></a>            <span class="c1"># Simulate fraud score calculation</span>
</span><span id="__span-1-307"><a id="__codelineno-1-307" name="__codelineno-1-307" href="#__codelineno-1-307"></a>            <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-1-308"><a id="__codelineno-1-308" name="__codelineno-1-308" href="#__codelineno-1-308"></a>            <span class="n">fraud_score</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-1-309"><a id="__codelineno-1-309" name="__codelineno-1-309" href="#__codelineno-1-309"></a>
</span><span id="__span-1-310"><a id="__codelineno-1-310" name="__codelineno-1-310" href="#__codelineno-1-310"></a>            <span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="p">[</span><span class="s2">&quot;fraud_score&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fraud_score</span>
</span><span id="__span-1-311"><a id="__codelineno-1-311" name="__codelineno-1-311" href="#__codelineno-1-311"></a>            <span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="p">[</span><span class="s2">&quot;fraud_risk&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;high&quot;</span> <span class="k">if</span> <span class="n">fraud_score</span> <span class="o">&gt;</span> <span class="mf">0.7</span> <span class="k">else</span> <span class="s2">&quot;low&quot;</span>
</span><span id="__span-1-312"><a id="__codelineno-1-312" name="__codelineno-1-312" href="#__codelineno-1-312"></a>
</span><span id="__span-1-313"><a id="__codelineno-1-313" name="__codelineno-1-313" href="#__codelineno-1-313"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fraud detection score: </span><span class="si">{</span><span class="n">fraud_score</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-314"><a id="__codelineno-1-314" name="__codelineno-1-314" href="#__codelineno-1-314"></a>
</span><span id="__span-1-315"><a id="__codelineno-1-315" name="__codelineno-1-315" href="#__codelineno-1-315"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-1-316"><a id="__codelineno-1-316" name="__codelineno-1-316" href="#__codelineno-1-316"></a>
</span><span id="__span-1-317"><a id="__codelineno-1-317" name="__codelineno-1-317" href="#__codelineno-1-317"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_execute_notification_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="n">WorkflowTask</span><span class="p">,</span> <span class="n">process</span><span class="p">:</span> <span class="n">ProcessInstance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-1-318"><a id="__codelineno-1-318" name="__codelineno-1-318" href="#__codelineno-1-318"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute notification task.&quot;&quot;&quot;</span>
</span><span id="__span-1-319"><a id="__codelineno-1-319" name="__codelineno-1-319" href="#__codelineno-1-319"></a>        <span class="c1"># Simulate sending notification</span>
</span><span id="__span-1-320"><a id="__codelineno-1-320" name="__codelineno-1-320" href="#__codelineno-1-320"></a>        <span class="n">recipient</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">process_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;notification_recipient&quot;</span><span class="p">,</span> <span class="s2">&quot;customer@email.com&quot;</span><span class="p">)</span>
</span><span id="__span-1-321"><a id="__codelineno-1-321" name="__codelineno-1-321" href="#__codelineno-1-321"></a>        <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Process </span><span class="si">{</span><span class="n">process</span><span class="o">.</span><span class="n">process_name</span><span class="si">}</span><span class="s2"> update for </span><span class="si">{</span><span class="n">process</span><span class="o">.</span><span class="n">process_id</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-1-322"><a id="__codelineno-1-322" name="__codelineno-1-322" href="#__codelineno-1-322"></a>
</span><span id="__span-1-323"><a id="__codelineno-1-323" name="__codelineno-1-323" href="#__codelineno-1-323"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending notification to </span><span class="si">{</span><span class="n">recipient</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-324"><a id="__codelineno-1-324" name="__codelineno-1-324" href="#__codelineno-1-324"></a>
</span><span id="__span-1-325"><a id="__codelineno-1-325" name="__codelineno-1-325" href="#__codelineno-1-325"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-1-326"><a id="__codelineno-1-326" name="__codelineno-1-326" href="#__codelineno-1-326"></a>
</span><span id="__span-1-327"><a id="__codelineno-1-327" name="__codelineno-1-327" href="#__codelineno-1-327"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_simulate_approval_notification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">approval_request</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-1-328"><a id="__codelineno-1-328" name="__codelineno-1-328" href="#__codelineno-1-328"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate sending approval notification.&quot;&quot;&quot;</span>
</span><span id="__span-1-329"><a id="__codelineno-1-329" name="__codelineno-1-329" href="#__codelineno-1-329"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sending approval request to </span><span class="si">{</span><span class="n">approval_request</span><span class="p">[</span><span class="s1">&#39;approver_role&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-330"><a id="__codelineno-1-330" name="__codelineno-1-330" href="#__codelineno-1-330"></a>
</span><span id="__span-1-331"><a id="__codelineno-1-331" name="__codelineno-1-331" href="#__codelineno-1-331"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_simulate_approval_decision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">approval_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-1-332"><a id="__codelineno-1-332" name="__codelineno-1-332" href="#__codelineno-1-332"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Simulate approval decision (for demo purposes).&quot;&quot;&quot;</span>
</span><span id="__span-1-333"><a id="__codelineno-1-333" name="__codelineno-1-333" href="#__codelineno-1-333"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-1-334"><a id="__codelineno-1-334" name="__codelineno-1-334" href="#__codelineno-1-334"></a>
</span><span id="__span-1-335"><a id="__codelineno-1-335" name="__codelineno-1-335" href="#__codelineno-1-335"></a>        <span class="k">if</span> <span class="n">approval_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">approval_queue</span><span class="p">:</span>
</span><span id="__span-1-336"><a id="__codelineno-1-336" name="__codelineno-1-336" href="#__codelineno-1-336"></a>            <span class="c1"># Simulate approval decision</span>
</span><span id="__span-1-337"><a id="__codelineno-1-337" name="__codelineno-1-337" href="#__codelineno-1-337"></a>            <span class="n">approved</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>  <span class="c1"># 75% approval rate</span>
</span><span id="__span-1-338"><a id="__codelineno-1-338" name="__codelineno-1-338" href="#__codelineno-1-338"></a>
</span><span id="__span-1-339"><a id="__codelineno-1-339" name="__codelineno-1-339" href="#__codelineno-1-339"></a>            <span class="n">approval_request</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">approval_queue</span><span class="p">[</span><span class="n">approval_id</span><span class="p">]</span>
</span><span id="__span-1-340"><a id="__codelineno-1-340" name="__codelineno-1-340" href="#__codelineno-1-340"></a>            <span class="n">approval_request</span><span class="p">[</span><span class="s2">&quot;decision&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;approved&quot;</span> <span class="k">if</span> <span class="n">approved</span> <span class="k">else</span> <span class="s2">&quot;rejected&quot;</span>
</span><span id="__span-1-341"><a id="__codelineno-1-341" name="__codelineno-1-341" href="#__codelineno-1-341"></a>            <span class="n">approval_request</span><span class="p">[</span><span class="s2">&quot;decided_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-1-342"><a id="__codelineno-1-342" name="__codelineno-1-342" href="#__codelineno-1-342"></a>
</span><span id="__span-1-343"><a id="__codelineno-1-343" name="__codelineno-1-343" href="#__codelineno-1-343"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Approval </span><span class="si">{</span><span class="n">approval_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="s1">&#39;APPROVED&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">approved</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;REJECTED&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-344"><a id="__codelineno-1-344" name="__codelineno-1-344" href="#__codelineno-1-344"></a>
</span><span id="__span-1-345"><a id="__codelineno-1-345" name="__codelineno-1-345" href="#__codelineno-1-345"></a>            <span class="c1"># Remove from queue</span>
</span><span id="__span-1-346"><a id="__codelineno-1-346" name="__codelineno-1-346" href="#__codelineno-1-346"></a>            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">approval_queue</span><span class="p">[</span><span class="n">approval_id</span><span class="p">]</span>
</span><span id="__span-1-347"><a id="__codelineno-1-347" name="__codelineno-1-347" href="#__codelineno-1-347"></a>
</span><span id="__span-1-348"><a id="__codelineno-1-348" name="__codelineno-1-348" href="#__codelineno-1-348"></a>            <span class="k">return</span> <span class="n">approved</span>
</span><span id="__span-1-349"><a id="__codelineno-1-349" name="__codelineno-1-349" href="#__codelineno-1-349"></a>
</span><span id="__span-1-350"><a id="__codelineno-1-350" name="__codelineno-1-350" href="#__codelineno-1-350"></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-1-351"><a id="__codelineno-1-351" name="__codelineno-1-351" href="#__codelineno-1-351"></a>
</span><span id="__span-1-352"><a id="__codelineno-1-352" name="__codelineno-1-352" href="#__codelineno-1-352"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_process_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">process_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="__span-1-353"><a id="__codelineno-1-353" name="__codelineno-1-353" href="#__codelineno-1-353"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Get current status of a process.&quot;&quot;&quot;</span>
</span><span id="__span-1-354"><a id="__codelineno-1-354" name="__codelineno-1-354" href="#__codelineno-1-354"></a>        <span class="k">if</span> <span class="n">process_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">running_processes</span><span class="p">:</span>
</span><span id="__span-1-355"><a id="__codelineno-1-355" name="__codelineno-1-355" href="#__codelineno-1-355"></a>            <span class="n">process</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">running_processes</span><span class="p">[</span><span class="n">process_id</span><span class="p">]</span>
</span><span id="__span-1-356"><a id="__codelineno-1-356" name="__codelineno-1-356" href="#__codelineno-1-356"></a>        <span class="k">elif</span> <span class="n">process_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed_processes</span><span class="p">:</span>
</span><span id="__span-1-357"><a id="__codelineno-1-357" name="__codelineno-1-357" href="#__codelineno-1-357"></a>            <span class="n">process</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">completed_processes</span><span class="p">[</span><span class="n">process_id</span><span class="p">]</span>
</span><span id="__span-1-358"><a id="__codelineno-1-358" name="__codelineno-1-358" href="#__codelineno-1-358"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-1-359"><a id="__codelineno-1-359" name="__codelineno-1-359" href="#__codelineno-1-359"></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-1-360"><a id="__codelineno-1-360" name="__codelineno-1-360" href="#__codelineno-1-360"></a>
</span><span id="__span-1-361"><a id="__codelineno-1-361" name="__codelineno-1-361" href="#__codelineno-1-361"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-1-362"><a id="__codelineno-1-362" name="__codelineno-1-362" href="#__codelineno-1-362"></a>            <span class="s2">&quot;process_id&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">process_id</span><span class="p">,</span>
</span><span id="__span-1-363"><a id="__codelineno-1-363" name="__codelineno-1-363" href="#__codelineno-1-363"></a>            <span class="s2">&quot;process_name&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">process_name</span><span class="p">,</span>
</span><span id="__span-1-364"><a id="__codelineno-1-364" name="__codelineno-1-364" href="#__codelineno-1-364"></a>            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span id="__span-1-365"><a id="__codelineno-1-365" name="__codelineno-1-365" href="#__codelineno-1-365"></a>            <span class="s2">&quot;created_date&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">created_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-1-366"><a id="__codelineno-1-366" name="__codelineno-1-366" href="#__codelineno-1-366"></a>            <span class="s2">&quot;updated_date&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">updated_date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-1-367"><a id="__codelineno-1-367" name="__codelineno-1-367" href="#__codelineno-1-367"></a>            <span class="s2">&quot;current_task&quot;</span><span class="p">:</span> <span class="n">process</span><span class="o">.</span><span class="n">current_task</span><span class="p">,</span>
</span><span id="__span-1-368"><a id="__codelineno-1-368" name="__codelineno-1-368" href="#__codelineno-1-368"></a>            <span class="s2">&quot;completed_tasks&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">completed_tasks</span><span class="p">),</span>
</span><span id="__span-1-369"><a id="__codelineno-1-369" name="__codelineno-1-369" href="#__codelineno-1-369"></a>            <span class="s2">&quot;failed_tasks&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">failed_tasks</span><span class="p">),</span>
</span><span id="__span-1-370"><a id="__codelineno-1-370" name="__codelineno-1-370" href="#__codelineno-1-370"></a>            <span class="s2">&quot;pending_approvals&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">approval_queue</span><span class="p">)</span>
</span><span id="__span-1-371"><a id="__codelineno-1-371" name="__codelineno-1-371" href="#__codelineno-1-371"></a>        <span class="p">}</span>
</span><span id="__span-1-372"><a id="__codelineno-1-372" name="__codelineno-1-372" href="#__codelineno-1-372"></a>
</span><span id="__span-1-373"><a id="__codelineno-1-373" name="__codelineno-1-373" href="#__codelineno-1-373"></a><span class="c1">### Example BPA Workflow: Customer Onboarding</span>
</span><span id="__span-1-374"><a id="__codelineno-1-374" name="__codelineno-1-374" href="#__codelineno-1-374"></a>
</span><span id="__span-1-375"><a id="__codelineno-1-375" name="__codelineno-1-375" href="#__codelineno-1-375"></a><span class="err">```</span><span class="n">python</span>
</span><span id="__span-1-376"><a id="__codelineno-1-376" name="__codelineno-1-376" href="#__codelineno-1-376"></a>
</span><span id="__span-1-377"><a id="__codelineno-1-377" name="__codelineno-1-377" href="#__codelineno-1-377"></a><span class="c1">## Example: Define customer onboarding workflow</span>
</span><span id="__span-1-378"><a id="__codelineno-1-378" name="__codelineno-1-378" href="#__codelineno-1-378"></a>
</span><span id="__span-1-379"><a id="__codelineno-1-379" name="__codelineno-1-379" href="#__codelineno-1-379"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">validate_customer_data</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
</span><span id="__span-1-380"><a id="__codelineno-1-380" name="__codelineno-1-380" href="#__codelineno-1-380"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate customer information.&quot;&quot;&quot;</span>
</span><span id="__span-1-381"><a id="__codelineno-1-381" name="__codelineno-1-381" href="#__codelineno-1-381"></a>    <span class="n">required_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;customer_name&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span> <span class="s2">&quot;address&quot;</span><span class="p">]</span>
</span><span id="__span-1-382"><a id="__codelineno-1-382" name="__codelineno-1-382" href="#__codelineno-1-382"></a>
</span><span id="__span-1-383"><a id="__codelineno-1-383" name="__codelineno-1-383" href="#__codelineno-1-383"></a>    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">required_fields</span><span class="p">:</span>
</span><span id="__span-1-384"><a id="__codelineno-1-384" name="__codelineno-1-384" href="#__codelineno-1-384"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field</span><span class="p">):</span>
</span><span id="__span-1-385"><a id="__codelineno-1-385" name="__codelineno-1-385" href="#__codelineno-1-385"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Missing required field: </span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-386"><a id="__codelineno-1-386" name="__codelineno-1-386" href="#__codelineno-1-386"></a>
</span><span id="__span-1-387"><a id="__codelineno-1-387" name="__codelineno-1-387" href="#__codelineno-1-387"></a>    <span class="c1">## Simulate validation logic</span>
</span><span id="__span-1-388"><a id="__codelineno-1-388" name="__codelineno-1-388" href="#__codelineno-1-388"></a>
</span><span id="__span-1-389"><a id="__codelineno-1-389" name="__codelineno-1-389" href="#__codelineno-1-389"></a>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</span><span id="__span-1-390"><a id="__codelineno-1-390" name="__codelineno-1-390" href="#__codelineno-1-390"></a>
</span><span id="__span-1-391"><a id="__codelineno-1-391" name="__codelineno-1-391" href="#__codelineno-1-391"></a>    <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-1-392"><a id="__codelineno-1-392" name="__codelineno-1-392" href="#__codelineno-1-392"></a>        <span class="s2">&quot;validation_status&quot;</span><span class="p">:</span> <span class="s2">&quot;passed&quot;</span><span class="p">,</span>
</span><span id="__span-1-393"><a id="__codelineno-1-393" name="__codelineno-1-393" href="#__codelineno-1-393"></a>        <span class="s2">&quot;validated_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-1-394"><a id="__codelineno-1-394" name="__codelineno-1-394" href="#__codelineno-1-394"></a>    <span class="p">}</span>
</span><span id="__span-1-395"><a id="__codelineno-1-395" name="__codelineno-1-395" href="#__codelineno-1-395"></a>
</span><span id="__span-1-396"><a id="__codelineno-1-396" name="__codelineno-1-396" href="#__codelineno-1-396"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">check_duplicate_customer</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
</span><span id="__span-1-397"><a id="__codelineno-1-397" name="__codelineno-1-397" href="#__codelineno-1-397"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Check for duplicate customers.&quot;&quot;&quot;</span>
</span><span id="__span-1-398"><a id="__codelineno-1-398" name="__codelineno-1-398" href="#__codelineno-1-398"></a>
</span><span id="__span-1-399"><a id="__codelineno-1-399" name="__codelineno-1-399" href="#__codelineno-1-399"></a>    <span class="c1">## Simulate database lookup</span>
</span><span id="__span-1-400"><a id="__codelineno-1-400" name="__codelineno-1-400" href="#__codelineno-1-400"></a>
</span><span id="__span-1-401"><a id="__codelineno-1-401" name="__codelineno-1-401" href="#__codelineno-1-401"></a>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-1-402"><a id="__codelineno-1-402" name="__codelineno-1-402" href="#__codelineno-1-402"></a>
</span><span id="__span-1-403"><a id="__codelineno-1-403" name="__codelineno-1-403" href="#__codelineno-1-403"></a>    <span class="c1">## For demo, randomly decide if duplicate</span>
</span><span id="__span-1-404"><a id="__codelineno-1-404" name="__codelineno-1-404" href="#__codelineno-1-404"></a>
</span><span id="__span-1-405"><a id="__codelineno-1-405" name="__codelineno-1-405" href="#__codelineno-1-405"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-1-406"><a id="__codelineno-1-406" name="__codelineno-1-406" href="#__codelineno-1-406"></a>    <span class="n">is_duplicate</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>  <span class="c1"># 25% chance</span>
</span><span id="__span-1-407"><a id="__codelineno-1-407" name="__codelineno-1-407" href="#__codelineno-1-407"></a>
</span><span id="__span-1-408"><a id="__codelineno-1-408" name="__codelineno-1-408" href="#__codelineno-1-408"></a>    <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-1-409"><a id="__codelineno-1-409" name="__codelineno-1-409" href="#__codelineno-1-409"></a>        <span class="s2">&quot;duplicate_check&quot;</span><span class="p">:</span> <span class="s2">&quot;failed&quot;</span> <span class="k">if</span> <span class="n">is_duplicate</span> <span class="k">else</span> <span class="s2">&quot;passed&quot;</span><span class="p">,</span>
</span><span id="__span-1-410"><a id="__codelineno-1-410" name="__codelineno-1-410" href="#__codelineno-1-410"></a>        <span class="s2">&quot;duplicate_found&quot;</span><span class="p">:</span> <span class="n">is_duplicate</span>
</span><span id="__span-1-411"><a id="__codelineno-1-411" name="__codelineno-1-411" href="#__codelineno-1-411"></a>    <span class="p">}</span>
</span><span id="__span-1-412"><a id="__codelineno-1-412" name="__codelineno-1-412" href="#__codelineno-1-412"></a>
</span><span id="__span-1-413"><a id="__codelineno-1-413" name="__codelineno-1-413" href="#__codelineno-1-413"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">calculate_customer_tier</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
</span><span id="__span-1-414"><a id="__codelineno-1-414" name="__codelineno-1-414" href="#__codelineno-1-414"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;ML-based customer tier calculation.&quot;&quot;&quot;</span>
</span><span id="__span-1-415"><a id="__codelineno-1-415" name="__codelineno-1-415" href="#__codelineno-1-415"></a>
</span><span id="__span-1-416"><a id="__codelineno-1-416" name="__codelineno-1-416" href="#__codelineno-1-416"></a>    <span class="c1">## Simulate ML model for customer segmentation</span>
</span><span id="__span-1-417"><a id="__codelineno-1-417" name="__codelineno-1-417" href="#__codelineno-1-417"></a>
</span><span id="__span-1-418"><a id="__codelineno-1-418" name="__codelineno-1-418" href="#__codelineno-1-418"></a>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
</span><span id="__span-1-419"><a id="__codelineno-1-419" name="__codelineno-1-419" href="#__codelineno-1-419"></a>
</span><span id="__span-1-420"><a id="__codelineno-1-420" name="__codelineno-1-420" href="#__codelineno-1-420"></a>    <span class="c1">## Simple logic based on available data</span>
</span><span id="__span-1-421"><a id="__codelineno-1-421" name="__codelineno-1-421" href="#__codelineno-1-421"></a>
</span><span id="__span-1-422"><a id="__codelineno-1-422" name="__codelineno-1-422" href="#__codelineno-1-422"></a>    <span class="n">tiers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;bronze&quot;</span><span class="p">,</span> <span class="s2">&quot;silver&quot;</span><span class="p">,</span> <span class="s2">&quot;gold&quot;</span><span class="p">,</span> <span class="s2">&quot;platinum&quot;</span><span class="p">]</span>
</span><span id="__span-1-423"><a id="__codelineno-1-423" name="__codelineno-1-423" href="#__codelineno-1-423"></a>    <span class="n">tier</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">tiers</span><span class="p">)</span>
</span><span id="__span-1-424"><a id="__codelineno-1-424" name="__codelineno-1-424" href="#__codelineno-1-424"></a>
</span><span id="__span-1-425"><a id="__codelineno-1-425" name="__codelineno-1-425" href="#__codelineno-1-425"></a>    <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-1-426"><a id="__codelineno-1-426" name="__codelineno-1-426" href="#__codelineno-1-426"></a>        <span class="s2">&quot;customer_tier&quot;</span><span class="p">:</span> <span class="n">tier</span><span class="p">,</span>
</span><span id="__span-1-427"><a id="__codelineno-1-427" name="__codelineno-1-427" href="#__codelineno-1-427"></a>        <span class="s2">&quot;tier_calculated_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-1-428"><a id="__codelineno-1-428" name="__codelineno-1-428" href="#__codelineno-1-428"></a>    <span class="p">}</span>
</span><span id="__span-1-429"><a id="__codelineno-1-429" name="__codelineno-1-429" href="#__codelineno-1-429"></a>
</span><span id="__span-1-430"><a id="__codelineno-1-430" name="__codelineno-1-430" href="#__codelineno-1-430"></a><span class="k">def</span><span class="w"> </span><span class="nf">demonstrate_bpa_workflow</span><span class="p">():</span>
</span><span id="__span-1-431"><a id="__codelineno-1-431" name="__codelineno-1-431" href="#__codelineno-1-431"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate BPA workflow orchestration.&quot;&quot;&quot;</span>
</span><span id="__span-1-432"><a id="__codelineno-1-432" name="__codelineno-1-432" href="#__codelineno-1-432"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;BPA Workflow Orchestration Demonstration&quot;</span><span class="p">)</span>
</span><span id="__span-1-433"><a id="__codelineno-1-433" name="__codelineno-1-433" href="#__codelineno-1-433"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">45</span><span class="p">)</span>
</span><span id="__span-1-434"><a id="__codelineno-1-434" name="__codelineno-1-434" href="#__codelineno-1-434"></a>
</span><span id="__span-1-435"><a id="__codelineno-1-435" name="__codelineno-1-435" href="#__codelineno-1-435"></a>    <span class="c1">## Create BPA engine</span>
</span><span id="__span-1-436"><a id="__codelineno-1-436" name="__codelineno-1-436" href="#__codelineno-1-436"></a>
</span><span id="__span-1-437"><a id="__codelineno-1-437" name="__codelineno-1-437" href="#__codelineno-1-437"></a>    <span class="n">bpa_engine</span> <span class="o">=</span> <span class="n">BPAOrchestrationEngine</span><span class="p">()</span>
</span><span id="__span-1-438"><a id="__codelineno-1-438" name="__codelineno-1-438" href="#__codelineno-1-438"></a>
</span><span id="__span-1-439"><a id="__codelineno-1-439" name="__codelineno-1-439" href="#__codelineno-1-439"></a>    <span class="c1">## Define customer onboarding workflow</span>
</span><span id="__span-1-440"><a id="__codelineno-1-440" name="__codelineno-1-440" href="#__codelineno-1-440"></a>
</span><span id="__span-1-441"><a id="__codelineno-1-441" name="__codelineno-1-441" href="#__codelineno-1-441"></a>    <span class="n">onboarding_tasks</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-1-442"><a id="__codelineno-1-442" name="__codelineno-1-442" href="#__codelineno-1-442"></a>        <span class="n">WorkflowTask</span><span class="p">(</span>
</span><span id="__span-1-443"><a id="__codelineno-1-443" name="__codelineno-1-443" href="#__codelineno-1-443"></a>            <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;validate_data&quot;</span><span class="p">,</span>
</span><span id="__span-1-444"><a id="__codelineno-1-444" name="__codelineno-1-444" href="#__codelineno-1-444"></a>            <span class="n">task_name</span><span class="o">=</span><span class="s2">&quot;Validate Customer Data&quot;</span><span class="p">,</span>
</span><span id="__span-1-445"><a id="__codelineno-1-445" name="__codelineno-1-445" href="#__codelineno-1-445"></a>            <span class="n">task_type</span><span class="o">=</span><span class="n">TaskType</span><span class="o">.</span><span class="n">AUTOMATED</span><span class="p">,</span>
</span><span id="__span-1-446"><a id="__codelineno-1-446" name="__codelineno-1-446" href="#__codelineno-1-446"></a>            <span class="n">function</span><span class="o">=</span><span class="n">validate_customer_data</span>
</span><span id="__span-1-447"><a id="__codelineno-1-447" name="__codelineno-1-447" href="#__codelineno-1-447"></a>        <span class="p">),</span>
</span><span id="__span-1-448"><a id="__codelineno-1-448" name="__codelineno-1-448" href="#__codelineno-1-448"></a>        <span class="n">WorkflowTask</span><span class="p">(</span>
</span><span id="__span-1-449"><a id="__codelineno-1-449" name="__codelineno-1-449" href="#__codelineno-1-449"></a>            <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;duplicate_check&quot;</span><span class="p">,</span>
</span><span id="__span-1-450"><a id="__codelineno-1-450" name="__codelineno-1-450" href="#__codelineno-1-450"></a>            <span class="n">task_name</span><span class="o">=</span><span class="s2">&quot;Check for Duplicate Customer&quot;</span><span class="p">,</span>
</span><span id="__span-1-451"><a id="__codelineno-1-451" name="__codelineno-1-451" href="#__codelineno-1-451"></a>            <span class="n">task_type</span><span class="o">=</span><span class="n">TaskType</span><span class="o">.</span><span class="n">SYSTEM_INTEGRATION</span><span class="p">,</span>
</span><span id="__span-1-452"><a id="__codelineno-1-452" name="__codelineno-1-452" href="#__codelineno-1-452"></a>            <span class="n">function</span><span class="o">=</span><span class="n">check_duplicate_customer</span><span class="p">,</span>
</span><span id="__span-1-453"><a id="__codelineno-1-453" name="__codelineno-1-453" href="#__codelineno-1-453"></a>            <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;validate_data&quot;</span><span class="p">]</span>
</span><span id="__span-1-454"><a id="__codelineno-1-454" name="__codelineno-1-454" href="#__codelineno-1-454"></a>        <span class="p">),</span>
</span><span id="__span-1-455"><a id="__codelineno-1-455" name="__codelineno-1-455" href="#__codelineno-1-455"></a>        <span class="n">WorkflowTask</span><span class="p">(</span>
</span><span id="__span-1-456"><a id="__codelineno-1-456" name="__codelineno-1-456" href="#__codelineno-1-456"></a>            <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;manager_approval&quot;</span><span class="p">,</span>
</span><span id="__span-1-457"><a id="__codelineno-1-457" name="__codelineno-1-457" href="#__codelineno-1-457"></a>            <span class="n">task_name</span><span class="o">=</span><span class="s2">&quot;Manager Approval for New Customer&quot;</span><span class="p">,</span>
</span><span id="__span-1-458"><a id="__codelineno-1-458" name="__codelineno-1-458" href="#__codelineno-1-458"></a>            <span class="n">task_type</span><span class="o">=</span><span class="n">TaskType</span><span class="o">.</span><span class="n">HUMAN_APPROVAL</span><span class="p">,</span>
</span><span id="__span-1-459"><a id="__codelineno-1-459" name="__codelineno-1-459" href="#__codelineno-1-459"></a>            <span class="n">approver_role</span><span class="o">=</span><span class="s2">&quot;customer_manager&quot;</span><span class="p">,</span>
</span><span id="__span-1-460"><a id="__codelineno-1-460" name="__codelineno-1-460" href="#__codelineno-1-460"></a>            <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;duplicate_check&quot;</span><span class="p">],</span>
</span><span id="__span-1-461"><a id="__codelineno-1-461" name="__codelineno-1-461" href="#__codelineno-1-461"></a>            <span class="n">timeout_minutes</span><span class="o">=</span><span class="mi">120</span>
</span><span id="__span-1-462"><a id="__codelineno-1-462" name="__codelineno-1-462" href="#__codelineno-1-462"></a>        <span class="p">),</span>
</span><span id="__span-1-463"><a id="__codelineno-1-463" name="__codelineno-1-463" href="#__codelineno-1-463"></a>        <span class="n">WorkflowTask</span><span class="p">(</span>
</span><span id="__span-1-464"><a id="__codelineno-1-464" name="__codelineno-1-464" href="#__codelineno-1-464"></a>            <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;create_crm_record&quot;</span><span class="p">,</span>
</span><span id="__span-1-465"><a id="__codelineno-1-465" name="__codelineno-1-465" href="#__codelineno-1-465"></a>            <span class="n">task_name</span><span class="o">=</span><span class="s2">&quot;Create Customer in CRM&quot;</span><span class="p">,</span>
</span><span id="__span-1-466"><a id="__codelineno-1-466" name="__codelineno-1-466" href="#__codelineno-1-466"></a>            <span class="n">task_type</span><span class="o">=</span><span class="n">TaskType</span><span class="o">.</span><span class="n">SYSTEM_INTEGRATION</span><span class="p">,</span>
</span><span id="__span-1-467"><a id="__codelineno-1-467" name="__codelineno-1-467" href="#__codelineno-1-467"></a>            <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;manager_approval&quot;</span><span class="p">]</span>
</span><span id="__span-1-468"><a id="__codelineno-1-468" name="__codelineno-1-468" href="#__codelineno-1-468"></a>        <span class="p">),</span>
</span><span id="__span-1-469"><a id="__codelineno-1-469" name="__codelineno-1-469" href="#__codelineno-1-469"></a>        <span class="n">WorkflowTask</span><span class="p">(</span>
</span><span id="__span-1-470"><a id="__codelineno-1-470" name="__codelineno-1-470" href="#__codelineno-1-470"></a>            <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;calculate_tier&quot;</span><span class="p">,</span>
</span><span id="__span-1-471"><a id="__codelineno-1-471" name="__codelineno-1-471" href="#__codelineno-1-471"></a>            <span class="n">task_name</span><span class="o">=</span><span class="s2">&quot;Calculate Customer Tier&quot;</span><span class="p">,</span>
</span><span id="__span-1-472"><a id="__codelineno-1-472" name="__codelineno-1-472" href="#__codelineno-1-472"></a>            <span class="n">task_type</span><span class="o">=</span><span class="n">TaskType</span><span class="o">.</span><span class="n">ML_DECISION</span><span class="p">,</span>
</span><span id="__span-1-473"><a id="__codelineno-1-473" name="__codelineno-1-473" href="#__codelineno-1-473"></a>            <span class="n">function</span><span class="o">=</span><span class="n">calculate_customer_tier</span><span class="p">,</span>
</span><span id="__span-1-474"><a id="__codelineno-1-474" name="__codelineno-1-474" href="#__codelineno-1-474"></a>            <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;create_crm_record&quot;</span><span class="p">]</span>
</span><span id="__span-1-475"><a id="__codelineno-1-475" name="__codelineno-1-475" href="#__codelineno-1-475"></a>        <span class="p">),</span>
</span><span id="__span-1-476"><a id="__codelineno-1-476" name="__codelineno-1-476" href="#__codelineno-1-476"></a>        <span class="n">WorkflowTask</span><span class="p">(</span>
</span><span id="__span-1-477"><a id="__codelineno-1-477" name="__codelineno-1-477" href="#__codelineno-1-477"></a>            <span class="n">task_id</span><span class="o">=</span><span class="s2">&quot;welcome_notification&quot;</span><span class="p">,</span>
</span><span id="__span-1-478"><a id="__codelineno-1-478" name="__codelineno-1-478" href="#__codelineno-1-478"></a>            <span class="n">task_name</span><span class="o">=</span><span class="s2">&quot;Send Welcome Notification&quot;</span><span class="p">,</span>
</span><span id="__span-1-479"><a id="__codelineno-1-479" name="__codelineno-1-479" href="#__codelineno-1-479"></a>            <span class="n">task_type</span><span class="o">=</span><span class="n">TaskType</span><span class="o">.</span><span class="n">NOTIFICATION</span><span class="p">,</span>
</span><span id="__span-1-480"><a id="__codelineno-1-480" name="__codelineno-1-480" href="#__codelineno-1-480"></a>            <span class="n">depends_on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;calculate_tier&quot;</span><span class="p">]</span>
</span><span id="__span-1-481"><a id="__codelineno-1-481" name="__codelineno-1-481" href="#__codelineno-1-481"></a>        <span class="p">)</span>
</span><span id="__span-1-482"><a id="__codelineno-1-482" name="__codelineno-1-482" href="#__codelineno-1-482"></a>    <span class="p">]</span>
</span><span id="__span-1-483"><a id="__codelineno-1-483" name="__codelineno-1-483" href="#__codelineno-1-483"></a>
</span><span id="__span-1-484"><a id="__codelineno-1-484" name="__codelineno-1-484" href="#__codelineno-1-484"></a>    <span class="c1">## Register workflow</span>
</span><span id="__span-1-485"><a id="__codelineno-1-485" name="__codelineno-1-485" href="#__codelineno-1-485"></a>
</span><span id="__span-1-486"><a id="__codelineno-1-486" name="__codelineno-1-486" href="#__codelineno-1-486"></a>    <span class="n">bpa_engine</span><span class="o">.</span><span class="n">define_workflow</span><span class="p">(</span><span class="s2">&quot;customer_onboarding&quot;</span><span class="p">,</span> <span class="n">onboarding_tasks</span><span class="p">)</span>
</span><span id="__span-1-487"><a id="__codelineno-1-487" name="__codelineno-1-487" href="#__codelineno-1-487"></a>
</span><span id="__span-1-488"><a id="__codelineno-1-488" name="__codelineno-1-488" href="#__codelineno-1-488"></a>    <span class="k">return</span> <span class="n">bpa_engine</span>
</span><span id="__span-1-489"><a id="__codelineno-1-489" name="__codelineno-1-489" href="#__codelineno-1-489"></a>
</span><span id="__span-1-490"><a id="__codelineno-1-490" name="__codelineno-1-490" href="#__codelineno-1-490"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_bpa_demo</span><span class="p">():</span>
</span><span id="__span-1-491"><a id="__codelineno-1-491" name="__codelineno-1-491" href="#__codelineno-1-491"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the BPA demonstration.&quot;&quot;&quot;</span>
</span><span id="__span-1-492"><a id="__codelineno-1-492" name="__codelineno-1-492" href="#__codelineno-1-492"></a>    <span class="n">bpa_engine</span> <span class="o">=</span> <span class="n">demonstrate_bpa_workflow</span><span class="p">()</span>
</span><span id="__span-1-493"><a id="__codelineno-1-493" name="__codelineno-1-493" href="#__codelineno-1-493"></a>
</span><span id="__span-1-494"><a id="__codelineno-1-494" name="__codelineno-1-494" href="#__codelineno-1-494"></a>    <span class="c1">## Sample customer data</span>
</span><span id="__span-1-495"><a id="__codelineno-1-495" name="__codelineno-1-495" href="#__codelineno-1-495"></a>
</span><span id="__span-1-496"><a id="__codelineno-1-496" name="__codelineno-1-496" href="#__codelineno-1-496"></a>    <span class="n">customer_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-1-497"><a id="__codelineno-1-497" name="__codelineno-1-497" href="#__codelineno-1-497"></a>        <span class="s2">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s2">&quot;John Smith&quot;</span><span class="p">,</span>
</span><span id="__span-1-498"><a id="__codelineno-1-498" name="__codelineno-1-498" href="#__codelineno-1-498"></a>        <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;john.smith@email.com&quot;</span><span class="p">,</span>
</span><span id="__span-1-499"><a id="__codelineno-1-499" name="__codelineno-1-499" href="#__codelineno-1-499"></a>        <span class="s2">&quot;phone&quot;</span><span class="p">:</span> <span class="s2">&quot;(555) 123-4567&quot;</span><span class="p">,</span>
</span><span id="__span-1-500"><a id="__codelineno-1-500" name="__codelineno-1-500" href="#__codelineno-1-500"></a>        <span class="s2">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;123 Main St, City, State 12345&quot;</span><span class="p">,</span>
</span><span id="__span-1-501"><a id="__codelineno-1-501" name="__codelineno-1-501" href="#__codelineno-1-501"></a>        <span class="s2">&quot;notification_recipient&quot;</span><span class="p">:</span> <span class="s2">&quot;john.smith@email.com&quot;</span>
</span><span id="__span-1-502"><a id="__codelineno-1-502" name="__codelineno-1-502" href="#__codelineno-1-502"></a>    <span class="p">}</span>
</span><span id="__span-1-503"><a id="__codelineno-1-503" name="__codelineno-1-503" href="#__codelineno-1-503"></a>
</span><span id="__span-1-504"><a id="__codelineno-1-504" name="__codelineno-1-504" href="#__codelineno-1-504"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Starting customer onboarding process...&quot;</span><span class="p">)</span>
</span><span id="__span-1-505"><a id="__codelineno-1-505" name="__codelineno-1-505" href="#__codelineno-1-505"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Customer: </span><span class="si">{</span><span class="n">customer_data</span><span class="p">[</span><span class="s1">&#39;customer_name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-506"><a id="__codelineno-1-506" name="__codelineno-1-506" href="#__codelineno-1-506"></a>
</span><span id="__span-1-507"><a id="__codelineno-1-507" name="__codelineno-1-507" href="#__codelineno-1-507"></a>    <span class="c1">## Start process</span>
</span><span id="__span-1-508"><a id="__codelineno-1-508" name="__codelineno-1-508" href="#__codelineno-1-508"></a>
</span><span id="__span-1-509"><a id="__codelineno-1-509" name="__codelineno-1-509" href="#__codelineno-1-509"></a>    <span class="n">process_id</span> <span class="o">=</span> <span class="k">await</span> <span class="n">bpa_engine</span><span class="o">.</span><span class="n">start_process</span><span class="p">(</span><span class="s2">&quot;customer_onboarding&quot;</span><span class="p">,</span> <span class="n">customer_data</span><span class="p">)</span>
</span><span id="__span-1-510"><a id="__codelineno-1-510" name="__codelineno-1-510" href="#__codelineno-1-510"></a>
</span><span id="__span-1-511"><a id="__codelineno-1-511" name="__codelineno-1-511" href="#__codelineno-1-511"></a>    <span class="c1">## Monitor process (simulate monitoring)</span>
</span><span id="__span-1-512"><a id="__codelineno-1-512" name="__codelineno-1-512" href="#__codelineno-1-512"></a>
</span><span id="__span-1-513"><a id="__codelineno-1-513" name="__codelineno-1-513" href="#__codelineno-1-513"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>  <span class="c1"># Monitor for up to 10 iterations</span>
</span><span id="__span-1-514"><a id="__codelineno-1-514" name="__codelineno-1-514" href="#__codelineno-1-514"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-1-515"><a id="__codelineno-1-515" name="__codelineno-1-515" href="#__codelineno-1-515"></a>
</span><span id="__span-1-516"><a id="__codelineno-1-516" name="__codelineno-1-516" href="#__codelineno-1-516"></a>        <span class="n">status</span> <span class="o">=</span> <span class="n">bpa_engine</span><span class="o">.</span><span class="n">get_process_status</span><span class="p">(</span><span class="n">process_id</span><span class="p">)</span>
</span><span id="__span-1-517"><a id="__codelineno-1-517" name="__codelineno-1-517" href="#__codelineno-1-517"></a>        <span class="k">if</span> <span class="n">status</span><span class="p">:</span>
</span><span id="__span-1-518"><a id="__codelineno-1-518" name="__codelineno-1-518" href="#__codelineno-1-518"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Process Status: </span><span class="si">{</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - Completed: </span><span class="si">{</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;completed_tasks&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> tasks&quot;</span><span class="p">)</span>
</span><span id="__span-1-519"><a id="__codelineno-1-519" name="__codelineno-1-519" href="#__codelineno-1-519"></a>
</span><span id="__span-1-520"><a id="__codelineno-1-520" name="__codelineno-1-520" href="#__codelineno-1-520"></a>            <span class="k">if</span> <span class="n">status</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="s1">&#39;failed&#39;</span><span class="p">]:</span>
</span><span id="__span-1-521"><a id="__codelineno-1-521" name="__codelineno-1-521" href="#__codelineno-1-521"></a>                <span class="k">break</span>
</span><span id="__span-1-522"><a id="__codelineno-1-522" name="__codelineno-1-522" href="#__codelineno-1-522"></a>
</span><span id="__span-1-523"><a id="__codelineno-1-523" name="__codelineno-1-523" href="#__codelineno-1-523"></a>    <span class="c1">## Final status</span>
</span><span id="__span-1-524"><a id="__codelineno-1-524" name="__codelineno-1-524" href="#__codelineno-1-524"></a>
</span><span id="__span-1-525"><a id="__codelineno-1-525" name="__codelineno-1-525" href="#__codelineno-1-525"></a>    <span class="n">final_status</span> <span class="o">=</span> <span class="n">bpa_engine</span><span class="o">.</span><span class="n">get_process_status</span><span class="p">(</span><span class="n">process_id</span><span class="p">)</span>
</span><span id="__span-1-526"><a id="__codelineno-1-526" name="__codelineno-1-526" href="#__codelineno-1-526"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Final Process Status: </span><span class="si">{</span><span class="n">final_status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-1-527"><a id="__codelineno-1-527" name="__codelineno-1-527" href="#__codelineno-1-527"></a>
</span><span id="__span-1-528"><a id="__codelineno-1-528" name="__codelineno-1-528" href="#__codelineno-1-528"></a>    <span class="k">return</span> <span class="n">bpa_engine</span><span class="p">,</span> <span class="n">process_id</span>
</span><span id="__span-1-529"><a id="__codelineno-1-529" name="__codelineno-1-529" href="#__codelineno-1-529"></a>
</span><span id="__span-1-530"><a id="__codelineno-1-530" name="__codelineno-1-530" href="#__codelineno-1-530"></a><span class="c1">## Run demo (in async environment)</span>
</span><span id="__span-1-531"><a id="__codelineno-1-531" name="__codelineno-1-531" href="#__codelineno-1-531"></a>
</span><span id="__span-1-532"><a id="__codelineno-1-532" name="__codelineno-1-532" href="#__codelineno-1-532"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-1-533"><a id="__codelineno-1-533" name="__codelineno-1-533" href="#__codelineno-1-533"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
</span><span id="__span-1-534"><a id="__codelineno-1-534" name="__codelineno-1-534" href="#__codelineno-1-534"></a>    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">run_bpa_demo</span><span class="p">())</span>
</span></code></pre></div>
<h3 id="low-code-platforms-vs-custom-scripts">Low-Code Platforms vs Custom Scripts<a class="headerlink" href="#low-code-platforms-vs-custom-scripts" title="Permanent link">&para;</a></h3>
<h4 id="low-codeno-code-rpa-platforms">Low-Code/No-Code RPA Platforms<a class="headerlink" href="#low-codeno-code-rpa-platforms" title="Permanent link">&para;</a></h4>
<p><strong>Popular Platforms</strong>:
- <strong>UiPath</strong>: Visual workflow designer, extensive activity library
- <strong>Automation Anywhere</strong>: Cloud-native platform with AI capabilities<br />
- <strong>Blue Prism</strong>: Enterprise-focused with strong governance features
- <strong>Microsoft Power Automate</strong>: Integrated with Office 365 ecosystem</p>
<p><strong>Advantages</strong>:
- <strong>Rapid Development</strong>: Visual designers accelerate bot creation
- <strong>Non-Technical Users</strong>: Business users can build automations
- <strong>Pre-built Connectors</strong>: Ready-made integrations for common applications
- <strong>Enterprise Features</strong>: Governance, monitoring, and compliance tools</p>
<p><strong>Limitations</strong>:
- <strong>Vendor Lock-in</strong>: Proprietary platforms limit flexibility
- <strong>Licensing Costs</strong>: Per-bot or per-user pricing can be expensive
- <strong>Customization Limits</strong>: Complex logic may require custom code
- <strong>Performance Overhead</strong>: Platform abstraction may impact speed</p>
<h4 id="custom-python-scripts">Custom Python Scripts<a class="headerlink" href="#custom-python-scripts" title="Permanent link">&para;</a></h4>
<p><strong>Advantages</strong>:
- <strong>Complete Control</strong>: Full customization and optimization capability
- <strong>Cost Effective</strong>: No licensing fees for runtime or development
- <strong>Integration Flexibility</strong>: Can integrate with any system or API
- <strong>Performance</strong>: Direct code execution without platform overhead
- <strong>Open Source Libraries</strong>: Leverage existing Python ecosystem</p>
<p><strong>Limitations</strong>:
- <strong>Development Time</strong>: Longer initial development cycles
- <strong>Technical Expertise</strong>: Requires programming skills
- <strong>Maintenance Burden</strong>: Must handle updates and bug fixes
- <strong>Monitoring Tools</strong>: Need to build or buy separate monitoring solutions</p>
<h3 id="decision-matrix-platform-vs-custom-development">Decision Matrix: Platform vs Custom Development<a class="headerlink" href="#decision-matrix-platform-vs-custom-development" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Factor</th>
<th>Low-Code Platform</th>
<th>Custom Python</th>
<th>Recommendation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Development Speed</strong></td>
<td>⭐⭐⭐⭐⭐</td>
<td>⭐⭐⭐</td>
<td>Platform for quick wins</td>
</tr>
<tr>
<td><strong>Total Cost (5 years)</strong></td>
<td>⭐⭐</td>
<td>⭐⭐⭐⭐⭐</td>
<td>Custom for scale</td>
</tr>
<tr>
<td><strong>Flexibility</strong></td>
<td>⭐⭐⭐</td>
<td>⭐⭐⭐⭐⭐</td>
<td>Custom for complex needs</td>
</tr>
<tr>
<td><strong>Maintenance</strong></td>
<td>⭐⭐⭐⭐</td>
<td>⭐⭐</td>
<td>Platform for simplicity</td>
</tr>
<tr>
<td><strong>Scalability</strong></td>
<td>⭐⭐⭐</td>
<td>⭐⭐⭐⭐⭐</td>
<td>Custom for growth</td>
</tr>
<tr>
<td><strong>Governance</strong></td>
<td>⭐⭐⭐⭐⭐</td>
<td>⭐⭐</td>
<td>Platform for compliance</td>
</tr>
</tbody>
</table>
<h3 id="process-reengineering-vs-rpa-strategic-considerations">Process Reengineering vs RPA: Strategic Considerations<a class="headerlink" href="#process-reengineering-vs-rpa-strategic-considerations" title="Permanent link">&para;</a></h3>
<h4 id="when-to-reengineer-the-process-bpa-approach">When to Reengineer the Process (BPA Approach)<a class="headerlink" href="#when-to-reengineer-the-process-bpa-approach" title="Permanent link">&para;</a></h4>
<p><strong>Indicators for Reengineering</strong>:
- Process has fundamental inefficiencies
- Multiple manual handoffs between systems
- High error rates due to process complexity
- Regulatory or compliance changes required
- Strategic business transformation underway</p>
<p><strong>Reengineering Benefits</strong>:
- <strong>Optimized Workflows</strong>: Eliminate unnecessary steps
- <strong>Better Integration</strong>: Native system connections
- <strong>Scalability</strong>: Process designed for future growth
- <strong>Data Quality</strong>: Consistent data flow and validation
- <strong>Strategic Alignment</strong>: Process supports business objectives</p>
<p><strong>Example: Loan Approval Process Reengineering</strong></p>
<p><em>Current State (RPA Target)</em>:
1. Customer submits paper application
2. Staff manually enters data into loan system
3. Credit check performed manually
4. Manager reviews paper file
5. Decision communicated via phone call</p>
<p><em>Reengineered State (BPA Approach)</em>:
1. Customer submits digital application
2. Automated data validation and credit integration
3. ML-based risk assessment with human oversight
4. Digital approval workflow with audit trail
5. Automated decision communication and next steps</p>
<h4 id="when-to-use-rpa-preserve-existing-process">When to Use RPA (Preserve Existing Process)<a class="headerlink" href="#when-to-use-rpa-preserve-existing-process" title="Permanent link">&para;</a></h4>
<p><strong>Indicators for RPA</strong>:
- Process works well but is labor-intensive
- Legacy systems that cannot be changed
- Temporary automation need
- Limited budget for process redesign
- Quick wins to demonstrate automation value</p>
<p><strong>RPA Benefits</strong>:
- <strong>Fast Implementation</strong>: Can be deployed in weeks
- <strong>Low Risk</strong>: No changes to existing systems
- <strong>Quick ROI</strong>: Immediate labor cost reduction
- <strong>Minimal Disruption</strong>: Process remains familiar to users
- <strong>Proof of Concept</strong>: Demonstrates automation value</p>
<h3 id="tooling-ecosystem-comparison">Tooling Ecosystem Comparison<a class="headerlink" href="#tooling-ecosystem-comparison" title="Permanent link">&para;</a></h3>
<h4 id="enterprise-rpa-platforms">Enterprise RPA Platforms<a class="headerlink" href="#enterprise-rpa-platforms" title="Permanent link">&para;</a></h4>
<p><strong>UiPath</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>Strengths: Comprehensive ecosystem, strong community
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Use Cases: Large enterprise deployments, complex workflows
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Licensing: Per-robot pricing, enterprise features
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>Learning Curve: Moderate, good documentation
</span></code></pre></div>
<p><strong>Automation Anywhere</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Strengths: Cloud-native, AI integration, scalability
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Use Cases: Cloud-first organizations, AI-enhanced automation
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Licensing: SaaS model, usage-based pricing
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>Learning Curve: Low, intuitive interface
</span></code></pre></div>
<p><strong>Blue Prism</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>Strengths: Enterprise governance, security, audit trail
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>Use Cases: Highly regulated industries, enterprise IT
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>Licensing: Per-robot, enterprise focused
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>Learning Curve: Higher, more technical approach
</span></code></pre></div>
<h4 id="custom-development-approaches">Custom Development Approaches<a class="headerlink" href="#custom-development-approaches" title="Permanent link">&para;</a></h4>
<p><strong>Python + Selenium</strong>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">## Web automation example</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">selenium</span><span class="w"> </span><span class="kn">import</span> <span class="n">webdriver</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">selenium.webdriver.common.by</span><span class="w"> </span><span class="kn">import</span> <span class="n">By</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">automate_web_form</span><span class="p">():</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>        <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://example-portal.com/form&quot;</span><span class="p">)</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>        <span class="c1">## Fill form fields</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>        <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;customer_name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;John Doe&quot;</span><span class="p">)</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>        <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">&quot;john@email.com&quot;</span><span class="p">)</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>        <span class="c1">## Submit form</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>        <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//button[@type=&#39;submit&#39;]&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>        <span class="c1">## Wait for confirmation</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>        <span class="n">confirmation</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">CLASS_NAME</span><span class="p">,</span> <span class="s2">&quot;success-message&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>        <span class="k">return</span> <span class="n">confirmation</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>    <span class="k">finally</span><span class="p">:</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>        <span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></code></pre></div>
<p><strong>Python + API Integration</strong>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">## API-based integration example</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">integrate_systems</span><span class="p">():</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>    <span class="c1">## Get data from source system</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>        <span class="s2">&quot;https://source-system.com/api/customers&quot;</span><span class="p">,</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>        <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer token123&quot;</span><span class="p">}</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>    <span class="p">)</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>    <span class="n">customers</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>    <span class="c1">## Process and send to target system</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>    <span class="k">for</span> <span class="n">customer</span> <span class="ow">in</span> <span class="n">customers</span><span class="p">:</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>        <span class="n">processed_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">customer</span><span class="p">[</span><span class="s2">&quot;full_name&quot;</span><span class="p">],</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>            <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="n">customer</span><span class="p">[</span><span class="s2">&quot;email_address&quot;</span><span class="p">],</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>        <span class="p">}</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>        <span class="n">target_response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>            <span class="s2">&quot;https://target-system.com/api/customers&quot;</span><span class="p">,</span>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>            <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer token456&quot;</span><span class="p">},</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>            <span class="n">json</span><span class="o">=</span><span class="n">processed_data</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>        <span class="p">)</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>        <span class="k">if</span> <span class="n">target_response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">201</span><span class="p">:</span>
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to create customer: </span><span class="si">{</span><span class="n">customer</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">customers</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="making-the-right-choice-decision-framework">Making the Right Choice: Decision Framework<a class="headerlink" href="#making-the-right-choice-decision-framework" title="Permanent link">&para;</a></h3>
<div class="diagram-container" data-container-id="kroki-diagram-2"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-2')">🔍 View Larger</button><div id="kroki-diagram-2" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="395px" preserveAspectRatio="xMaxYMax meet" style="width:1683px;height:395px;background:#FEFEFE;" version="1.1" viewBox="0 0 1683 395" width="1683px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-2"><defs /><g><rect fill="#FEFEFE" height="395" style="stroke:none;stroke-width:1;" width="1683" x="0" y="0" /><ellipse cx="861.8229" cy="15" fill="#FFFFFF" rx="10" ry="10" style="stroke:#000000;stroke-width:1;" /><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="226.2734" x="748.6862" y="45" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="206.2734" x="758.6862" y="66.1387">Automation Opportunity Identified</text><polygon fill="#FFFFFF" points="763.9742,98.9688,959.6715,98.9688,971.6715,110.9688,959.6715,122.9688,763.9742,122.9688,751.9742,110.9688,763.9742,98.9688" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="195.6973" x="763.9742" y="115.123">Process fundamentally efficient?</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="20.7363" x="731.2379" y="108.1387">yes</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="14.9473" x="971.6715" y="108.1387">no</text><polygon fill="#FFFFFF" points="414.4607,132.9688,546.2146,132.9688,558.2146,144.9688,546.2146,156.9688,414.4607,156.9688,402.4607,144.9688,414.4607,132.9688" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="131.7539" x="414.4607" y="149.123">Legacy systems only?</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="20.7363" x="381.7244" y="142.1387">yes</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="14.9473" x="558.2146" y="142.1387">no</text><polygon fill="#FFFFFF" points="143.6714,166.9688,331.6694,166.9688,343.6694,178.9688,331.6694,190.9688,143.6714,190.9688,131.6714,178.9688,143.6714,166.9688" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="187.998" x="143.6714" y="183.123">Quick implementation needed?</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="20.7363" x="110.9351" y="176.1387">yes</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="14.9473" x="343.6694" y="176.1387">no</text><path d="M172.5332,200.9688 L172.5332,222.9219 L152.5332,226.9219 L172.5332,230.9219 L172.5332,252.875 A0,0 0 0 0 172.5332,252.875 L305.2305,252.875 A0,0 0 0 0 305.2305,252.875 L305.2305,210.9688 L295.2305,200.9688 L172.5332,200.9688 A0,0 0 0 0 172.5332,200.9688" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M295.2305,200.9688 L295.2305,210.9688 L305.2305,210.9688 L295.2305,200.9688" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="111.6973" x="178.5332" y="217.1074">&#8226; Fast deployment</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="83.1797" x="178.5332" y="231.0762">&#8226; Minimal risk</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="100.7227" x="178.5332" y="245.0449">&#8226; Immediate ROI</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="146.5332" x="6" y="209.9375" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="126.5332" x="16" y="231.0762">Choose RPA Platform</text><path d="M486.918,200.9688 L486.918,222.9219 L466.918,226.9219 L486.918,230.9219 L486.918,252.875 A0,0 0 0 0 486.918,252.875 L616.5625,252.875 A0,0 0 0 0 616.5625,252.875 L616.5625,210.9688 L606.5625,200.9688 L486.918,200.9688 A0,0 0 0 0 486.918,200.9688" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M606.5625,200.9688 L606.5625,210.9688 L616.5625,210.9688 L606.5625,200.9688" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="93.7207" x="492.918" y="217.1074">&#8226; Cost effective</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="77.7422" x="492.918" y="231.0762">&#8226; Full control</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="108.6445" x="492.918" y="245.0449">&#8226; Future flexibility</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="141.6875" x="325.2305" y="209.9375" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="121.6875" x="335.2305" y="231.0762">Choose Custom RPA</text><polygon fill="#FFFFFF" points="237.6704,258.875,249.6704,270.875,237.6704,282.875,225.6704,270.875,237.6704,258.875" style="stroke:#000000;stroke-width:1;" /><path d="M799.4473,166.9688 L799.4473,188.9219 L779.4473,192.9219 L799.4473,196.9219 L799.4473,218.875 A0,0 0 0 0 799.4473,218.875 L978.7793,218.875 A0,0 0 0 0 978.7793,218.875 L978.7793,176.9688 L968.7793,166.9688 L799.4473,166.9688 A0,0 0 0 0 799.4473,166.9688" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M968.7793,166.9688 L968.7793,176.9688 L978.7793,176.9688 L968.7793,166.9688" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="112.248" x="805.4473" y="183.1074">&#8226; Deep integration</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="135.3633" x="805.4473" y="197.0762">&#8226; Process optimization</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="158.332" x="805.4473" y="211.0449">&#8226; Strategic transformation</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="152.8848" x="626.5625" y="175.9375" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="132.8848" x="636.5625" y="197.0762">Choose BPA Approach</text><polygon fill="#FFFFFF" points="480.3376,288.875,492.3376,300.875,480.3376,312.875,468.3376,300.875,480.3376,288.875" style="stroke:#000000;stroke-width:1;" /><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="215.3574" x="1133.4689" y="132.9688" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="195.3574" x="1143.4689" y="154.1074">Process Reengineering Required</text><polygon fill="#FFFFFF" points="1156.6466,201.9375,1325.6486,201.9375,1337.6486,213.9375,1325.6486,225.9375,1156.6466,225.9375,1144.6466,213.9375,1156.6466,201.9375" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="169.002" x="1156.6466" y="218.0918">Complex integration needs?</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="20.7363" x="1123.9103" y="211.1074">yes</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="14.9473" x="1337.6486" y="211.1074">no</text><path d="M1158.2008,235.9375 L1158.2008,257.8906 L1138.2008,261.8906 L1158.2008,265.8906 L1158.2008,287.8438 A0,0 0 0 0 1158.2008,287.8438 L1317.6344,287.8438 A0,0 0 0 0 1317.6344,287.8438 L1317.6344,245.9375 L1307.6344,235.9375 L1158.2008,235.9375 A0,0 0 0 0 1158.2008,235.9375" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M1307.6344,235.9375 L1307.6344,245.9375 L1317.6344,245.9375 L1307.6344,235.9375" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="110.8535" x="1164.2008" y="252.0762">&#8226; Tailored solution</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="125.373" x="1164.2008" y="266.0449">&#8226; System integration</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="138.4336" x="1164.2008" y="280.0137">&#8226; Scalable architecture</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="141.582" x="996.6188" y="244.9063" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="121.582" x="1006.6188" y="266.0449">Choose Custom BPA</text><path d="M1512.1364,235.9375 L1512.1364,257.8906 L1492.1364,261.8906 L1512.1364,265.8906 L1512.1364,287.8438 A0,0 0 0 0 1512.1364,287.8438 L1676.2809,287.8438 A0,0 0 0 0 1676.2809,287.8438 L1676.2809,245.9375 L1666.2809,235.9375 L1512.1364,235.9375 A0,0 0 0 0 1512.1364,235.9375" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M1666.2809,235.9375 L1666.2809,245.9375 L1676.2809,245.9375 L1666.2809,235.9375" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="128.127" x="1518.1364" y="252.0762">&#8226; Rapid development</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="143.1445" x="1518.1364" y="266.0449">&#8226; Business user friendly</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="126.2754" x="1518.1364" y="280.0137">&#8226; Enterprise features</text><rect fill="#FFFFFF" height="33.9688" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1;" width="154.502" x="1337.6344" y="244.9063" /><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="134.502" x="1347.6344" y="266.0449">Choose Low-Code BPA</text><polygon fill="#FFFFFF" points="1241.1476,293.8438,1253.1476,305.8438,1241.1476,317.8438,1229.1476,305.8438,1241.1476,293.8438" style="stroke:#000000;stroke-width:1;" /><polygon fill="#FFFFFF" points="861.8229,323.8438,873.8229,335.8438,861.8229,347.8438,849.8229,335.8438,861.8229,323.8438" style="stroke:#000000;stroke-width:1;" /><ellipse cx="861.8229" cy="378.8438" fill="none" rx="11" ry="11" style="stroke:#000000;stroke-width:1;" /><ellipse cx="861.8229" cy="378.8438" fill="#FFFFFF" rx="6" ry="6" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="861.8229" x2="861.8229" y1="25" y2="45" /><polygon fill="#000000" points="857.8229,35,861.8229,45,865.8229,35,861.8229,39" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="131.6714" x2="79.2666" y1="178.9688" y2="178.9688" /><line style="stroke:#000000;stroke-width:1;" x1="79.2666" x2="79.2666" y1="178.9688" y2="209.9375" /><polygon fill="#000000" points="75.2666,199.9375,79.2666,209.9375,83.2666,199.9375,79.2666,203.9375" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="343.6694" x2="396.0742" y1="178.9688" y2="178.9688" /><line style="stroke:#000000;stroke-width:1;" x1="396.0742" x2="396.0742" y1="178.9688" y2="209.9375" /><polygon fill="#000000" points="392.0742,199.9375,396.0742,209.9375,400.0742,199.9375,396.0742,203.9375" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="79.2666" x2="79.2666" y1="243.9063" y2="270.875" /><line style="stroke:#000000;stroke-width:1;" x1="79.2666" x2="225.6704" y1="270.875" y2="270.875" /><polygon fill="#000000" points="215.6704,266.875,225.6704,270.875,215.6704,274.875,219.6704,270.875" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="396.0742" x2="396.0742" y1="243.9063" y2="270.875" /><line style="stroke:#000000;stroke-width:1;" x1="396.0742" x2="249.6704" y1="270.875" y2="270.875" /><polygon fill="#000000" points="259.6704,266.875,249.6704,270.875,259.6704,274.875,255.6704,270.875" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="402.4607" x2="237.6704" y1="144.9688" y2="144.9688" /><line style="stroke:#000000;stroke-width:1;" x1="237.6704" x2="237.6704" y1="144.9688" y2="166.9688" /><polygon fill="#000000" points="233.6704,156.9688,237.6704,166.9688,241.6704,156.9688,237.6704,160.9688" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="558.2146" x2="703.0049" y1="144.9688" y2="144.9688" /><line style="stroke:#000000;stroke-width:1;" x1="703.0049" x2="703.0049" y1="144.9688" y2="175.9375" /><polygon fill="#000000" points="699.0049,165.9375,703.0049,175.9375,707.0049,165.9375,703.0049,169.9375" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="237.6704" x2="237.6704" y1="282.875" y2="300.875" /><line style="stroke:#000000;stroke-width:1;" x1="237.6704" x2="468.3376" y1="300.875" y2="300.875" /><polygon fill="#000000" points="458.3376,296.875,468.3376,300.875,458.3376,304.875,462.3376,300.875" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="703.0049" x2="703.0049" y1="209.9063" y2="300.875" /><line style="stroke:#000000;stroke-width:1;" x1="703.0049" x2="492.3376" y1="300.875" y2="300.875" /><polygon fill="#000000" points="502.3376,296.875,492.3376,300.875,502.3376,304.875,498.3376,300.875" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="1144.6466" x2="1067.4098" y1="213.9375" y2="213.9375" /><line style="stroke:#000000;stroke-width:1;" x1="1067.4098" x2="1067.4098" y1="213.9375" y2="244.9063" /><polygon fill="#000000" points="1063.4098,234.9063,1067.4098,244.9063,1071.4098,234.9063,1067.4098,238.9063" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="1337.6486" x2="1414.8854" y1="213.9375" y2="213.9375" /><line style="stroke:#000000;stroke-width:1;" x1="1414.8854" x2="1414.8854" y1="213.9375" y2="244.9063" /><polygon fill="#000000" points="1410.8854,234.9063,1414.8854,244.9063,1418.8854,234.9063,1414.8854,238.9063" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="1067.4098" x2="1067.4098" y1="278.875" y2="305.8438" /><line style="stroke:#000000;stroke-width:1;" x1="1067.4098" x2="1229.1476" y1="305.8438" y2="305.8438" /><polygon fill="#000000" points="1219.1476,301.8438,1229.1476,305.8438,1219.1476,309.8438,1223.1476,305.8438" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="1414.8854" x2="1414.8854" y1="278.875" y2="305.8438" /><line style="stroke:#000000;stroke-width:1;" x1="1414.8854" x2="1253.1476" y1="305.8438" y2="305.8438" /><polygon fill="#000000" points="1263.1476,301.8438,1253.1476,305.8438,1263.1476,309.8438,1259.1476,305.8438" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="1241.1476" x2="1241.1476" y1="166.9375" y2="201.9375" /><polygon fill="#000000" points="1237.1476,191.9375,1241.1476,201.9375,1245.1476,191.9375,1241.1476,195.9375" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="751.9742" x2="480.3376" y1="110.9688" y2="110.9688" /><line style="stroke:#000000;stroke-width:1;" x1="480.3376" x2="480.3376" y1="110.9688" y2="132.9688" /><polygon fill="#000000" points="476.3376,122.9688,480.3376,132.9688,484.3376,122.9688,480.3376,126.9688" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="971.6715" x2="1241.1476" y1="110.9688" y2="110.9688" /><line style="stroke:#000000;stroke-width:1;" x1="1241.1476" x2="1241.1476" y1="110.9688" y2="132.9688" /><polygon fill="#000000" points="1237.1476,122.9688,1241.1476,132.9688,1245.1476,122.9688,1241.1476,126.9688" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="480.3376" x2="480.3376" y1="312.875" y2="335.8438" /><line style="stroke:#000000;stroke-width:1;" x1="480.3376" x2="849.8229" y1="335.8438" y2="335.8438" /><polygon fill="#000000" points="839.8229,331.8438,849.8229,335.8438,839.8229,339.8438,843.8229,335.8438" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="1241.1476" x2="1241.1476" y1="317.8438" y2="335.8438" /><line style="stroke:#000000;stroke-width:1;" x1="1241.1476" x2="873.8229" y1="335.8438" y2="335.8438" /><polygon fill="#000000" points="883.8229,331.8438,873.8229,335.8438,883.8229,339.8438,879.8229,335.8438" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="861.8229" x2="861.8229" y1="78.9688" y2="98.9688" /><polygon fill="#000000" points="857.8229,88.9688,861.8229,98.9688,865.8229,88.9688,861.8229,92.9688" style="stroke:#000000;stroke-width:1;" /><line style="stroke:#000000;stroke-width:1;" x1="861.8229" x2="861.8229" y1="347.8438" y2="367.8438" /><polygon fill="#000000" points="857.8229,357.8438,861.8229,367.8438,865.8229,357.8438,861.8229,361.8438" style="stroke:#000000;stroke-width:1;" /></g></svg></p></div></div>
<p>@enduml</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>---
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>## Part 3: Ethical and Security Considerations
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>### Ethical Implications of Automation
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>#### Impact on Employment and Workforce
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>**Job Displacement Concerns**:
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>- **Immediate Impact**: Some roles may become redundant through automation
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>- **Skill Requirements**: Workforce needs retraining for new technology-assisted roles
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>- **Economic Inequality**: Automation benefits may not be distributed equally
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>- **Human Dignity**: Preserving meaningful work and human agency
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>**Ethical Automation Principles**:
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>1. **Transparency**: Clear communication about automation plans and impacts
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>2. **Gradual Implementation**: Phased rollouts allowing workforce adaptation
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>3. **Retraining Investment**: Resources dedicated to upskilling affected employees
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a>4. **Human-Centric Design**: Automation that augments rather than replaces human capabilities
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>5. **Stakeholder Engagement**: Involving employees in automation planning and decision-making
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a>```python
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>from typing import Dict, List, Any, Optional
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a>from dataclasses import dataclass
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a>from datetime import datetime, timedelta
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>import json
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a>
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a>@dataclass
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a>class EmployeeImpactAssessment:
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a>    &quot;&quot;&quot;Assessment of automation impact on employees.&quot;&quot;&quot;
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a>    role_title: str
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a>    department: str
</span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a>    current_tasks: List[str]
</span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a>    automatable_tasks: List[str]
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>    enhancement_opportunities: List[str]
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a>    retraining_needs: List[str]
</span><span id="__span-7-46"><a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a>    timeline_impact: str  # immediate, short_term, long_term
</span><span id="__span-7-47"><a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a>    mitigation_strategies: List[str]
</span><span id="__span-7-48"><a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a>
</span><span id="__span-7-49"><a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a>@dataclass
</span><span id="__span-7-50"><a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a>class EthicalReview:
</span><span id="__span-7-51"><a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a>    &quot;&quot;&quot;Ethical review of automation implementation.&quot;&quot;&quot;
</span><span id="__span-7-52"><a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a>    automation_project: str
</span><span id="__span-7-53"><a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a>    stakeholders_affected: List[str]
</span><span id="__span-7-54"><a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a>    benefits: List[str]
</span><span id="__span-7-55"><a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a>    concerns: List[str]
</span><span id="__span-7-56"><a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a>    mitigation_measures: List[str]
</span><span id="__span-7-57"><a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a>    approval_status: str
</span><span id="__span-7-58"><a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a>    review_date: datetime
</span><span id="__span-7-59"><a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a>    next_review_date: datetime
</span><span id="__span-7-60"><a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a>
</span><span id="__span-7-61"><a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a>class EthicalAutomationFramework:
</span><span id="__span-7-62"><a id="__codelineno-7-62" name="__codelineno-7-62" href="#__codelineno-7-62"></a>    &quot;&quot;&quot;
</span><span id="__span-7-63"><a id="__codelineno-7-63" name="__codelineno-7-63" href="#__codelineno-7-63"></a>    Framework for ethical automation implementation.
</span><span id="__span-7-64"><a id="__codelineno-7-64" name="__codelineno-7-64" href="#__codelineno-7-64"></a>    Ensures responsible deployment of RPA and BPA solutions.
</span><span id="__span-7-65"><a id="__codelineno-7-65" name="__codelineno-7-65" href="#__codelineno-7-65"></a>    &quot;&quot;&quot;
</span><span id="__span-7-66"><a id="__codelineno-7-66" name="__codelineno-7-66" href="#__codelineno-7-66"></a>
</span><span id="__span-7-67"><a id="__codelineno-7-67" name="__codelineno-7-67" href="#__codelineno-7-67"></a>    def __init__(self):
</span><span id="__span-7-68"><a id="__codelineno-7-68" name="__codelineno-7-68" href="#__codelineno-7-68"></a>        self.ethical_guidelines = self._initialize_guidelines()
</span><span id="__span-7-69"><a id="__codelineno-7-69" name="__codelineno-7-69" href="#__codelineno-7-69"></a>        self.impact_assessments = {}
</span><span id="__span-7-70"><a id="__codelineno-7-70" name="__codelineno-7-70" href="#__codelineno-7-70"></a>        self.ethical_reviews = {}
</span><span id="__span-7-71"><a id="__codelineno-7-71" name="__codelineno-7-71" href="#__codelineno-7-71"></a>        self.stakeholder_feedback = {}
</span><span id="__span-7-72"><a id="__codelineno-7-72" name="__codelineno-7-72" href="#__codelineno-7-72"></a>
</span><span id="__span-7-73"><a id="__codelineno-7-73" name="__codelineno-7-73" href="#__codelineno-7-73"></a>    def _initialize_guidelines(self) -&gt; Dict[str, List[str]]:
</span><span id="__span-7-74"><a id="__codelineno-7-74" name="__codelineno-7-74" href="#__codelineno-7-74"></a>        &quot;&quot;&quot;Initialize ethical guidelines for automation.&quot;&quot;&quot;
</span><span id="__span-7-75"><a id="__codelineno-7-75" name="__codelineno-7-75" href="#__codelineno-7-75"></a>        return {
</span><span id="__span-7-76"><a id="__codelineno-7-76" name="__codelineno-7-76" href="#__codelineno-7-76"></a>            &quot;employment_protection&quot;: [
</span><span id="__span-7-77"><a id="__codelineno-7-77" name="__codelineno-7-77" href="#__codelineno-7-77"></a>                &quot;Provide advance notice of automation plans (minimum 90 days)&quot;,
</span><span id="__span-7-78"><a id="__codelineno-7-78" name="__codelineno-7-78" href="#__codelineno-7-78"></a>                &quot;Offer retraining opportunities for affected employees&quot;,
</span><span id="__span-7-79"><a id="__codelineno-7-79" name="__codelineno-7-79" href="#__codelineno-7-79"></a>                &quot;Consider gradual implementation to allow workforce adaptation&quot;,
</span><span id="__span-7-80"><a id="__codelineno-7-80" name="__codelineno-7-80" href="#__codelineno-7-80"></a>                &quot;Prioritize job enhancement over job replacement where possible&quot;,
</span><span id="__span-7-81"><a id="__codelineno-7-81" name="__codelineno-7-81" href="#__codelineno-7-81"></a>                &quot;Maintain transparent communication throughout the process&quot;
</span><span id="__span-7-82"><a id="__codelineno-7-82" name="__codelineno-7-82" href="#__codelineno-7-82"></a>            ],
</span><span id="__span-7-83"><a id="__codelineno-7-83" name="__codelineno-7-83" href="#__codelineno-7-83"></a>            &quot;data_privacy&quot;: [
</span><span id="__span-7-84"><a id="__codelineno-7-84" name="__codelineno-7-84" href="#__codelineno-7-84"></a>                &quot;Implement data minimization - only collect necessary information&quot;,
</span><span id="__span-7-85"><a id="__codelineno-7-85" name="__codelineno-7-85" href="#__codelineno-7-85"></a>                &quot;Ensure secure storage and transmission of personal data&quot;,
</span><span id="__span-7-86"><a id="__codelineno-7-86" name="__codelineno-7-86" href="#__codelineno-7-86"></a>                &quot;Provide clear opt-out mechanisms for automated processing&quot;,
</span><span id="__span-7-87"><a id="__codelineno-7-87" name="__codelineno-7-87" href="#__codelineno-7-87"></a>                &quot;Regular audits of data handling practices&quot;,
</span><span id="__span-7-88"><a id="__codelineno-7-88" name="__codelineno-7-88" href="#__codelineno-7-88"></a>                &quot;Compliance with relevant privacy regulations (GDPR, CCPA, etc.)&quot;
</span><span id="__span-7-89"><a id="__codelineno-7-89" name="__codelineno-7-89" href="#__codelineno-7-89"></a>            ],
</span><span id="__span-7-90"><a id="__codelineno-7-90" name="__codelineno-7-90" href="#__codelineno-7-90"></a>            &quot;algorithmic_fairness&quot;: [
</span><span id="__span-7-91"><a id="__codelineno-7-91" name="__codelineno-7-91" href="#__codelineno-7-91"></a>                &quot;Test for bias in automated decision-making systems&quot;,
</span><span id="__span-7-92"><a id="__codelineno-7-92" name="__codelineno-7-92" href="#__codelineno-7-92"></a>                &quot;Ensure equal treatment across different demographic groups&quot;,
</span><span id="__span-7-93"><a id="__codelineno-7-93" name="__codelineno-7-93" href="#__codelineno-7-93"></a>                &quot;Provide human oversight for critical decisions&quot;,
</span><span id="__span-7-94"><a id="__codelineno-7-94" name="__codelineno-7-94" href="#__codelineno-7-94"></a>                &quot;Document decision logic for transparency and accountability&quot;,
</span><span id="__span-7-95"><a id="__codelineno-7-95" name="__codelineno-7-95" href="#__codelineno-7-95"></a>                &quot;Regular monitoring of outcomes for fairness&quot;
</span><span id="__span-7-96"><a id="__codelineno-7-96" name="__codelineno-7-96" href="#__codelineno-7-96"></a>            ],
</span><span id="__span-7-97"><a id="__codelineno-7-97" name="__codelineno-7-97" href="#__codelineno-7-97"></a>            &quot;human_oversight&quot;: [
</span><span id="__span-7-98"><a id="__codelineno-7-98" name="__codelineno-7-98" href="#__codelineno-7-98"></a>                &quot;Maintain human review capabilities for automated decisions&quot;,
</span><span id="__span-7-99"><a id="__codelineno-7-99" name="__codelineno-7-99" href="#__codelineno-7-99"></a>                &quot;Establish clear escalation procedures&quot;,
</span><span id="__span-7-100"><a id="__codelineno-7-100" name="__codelineno-7-100" href="#__codelineno-7-100"></a>                &quot;Ensure humans can override automated systems when necessary&quot;,
</span><span id="__span-7-101"><a id="__codelineno-7-101" name="__codelineno-7-101" href="#__codelineno-7-101"></a>                &quot;Regular training for human supervisors of automated systems&quot;,
</span><span id="__span-7-102"><a id="__codelineno-7-102" name="__codelineno-7-102" href="#__codelineno-7-102"></a>                &quot;Clear accountability chains for automated actions&quot;
</span><span id="__span-7-103"><a id="__codelineno-7-103" name="__codelineno-7-103" href="#__codelineno-7-103"></a>            ],
</span><span id="__span-7-104"><a id="__codelineno-7-104" name="__codelineno-7-104" href="#__codelineno-7-104"></a>            &quot;security_measures&quot;: [
</span><span id="__span-7-105"><a id="__codelineno-7-105" name="__codelineno-7-105" href="#__codelineno-7-105"></a>                &quot;Implement robust access controls and authentication&quot;,
</span><span id="__span-7-106"><a id="__codelineno-7-106" name="__codelineno-7-106" href="#__codelineno-7-106"></a>                &quot;Regular security audits and penetration testing&quot;,
</span><span id="__span-7-107"><a id="__codelineno-7-107" name="__codelineno-7-107" href="#__codelineno-7-107"></a>                &quot;Secure coding practices and vulnerability management&quot;,
</span><span id="__span-7-108"><a id="__codelineno-7-108" name="__codelineno-7-108" href="#__codelineno-7-108"></a>                &quot;Incident response procedures for security breaches&quot;,
</span><span id="__span-7-109"><a id="__codelineno-7-109" name="__codelineno-7-109" href="#__codelineno-7-109"></a>                &quot;Employee training on security best practices&quot;
</span><span id="__span-7-110"><a id="__codelineno-7-110" name="__codelineno-7-110" href="#__codelineno-7-110"></a>            ]
</span><span id="__span-7-111"><a id="__codelineno-7-111" name="__codelineno-7-111" href="#__codelineno-7-111"></a>        }
</span><span id="__span-7-112"><a id="__codelineno-7-112" name="__codelineno-7-112" href="#__codelineno-7-112"></a>
</span><span id="__span-7-113"><a id="__codelineno-7-113" name="__codelineno-7-113" href="#__codelineno-7-113"></a>    def conduct_employee_impact_assessment(self, role_data: Dict[str, Any]) -&gt; EmployeeImpactAssessment:
</span><span id="__span-7-114"><a id="__codelineno-7-114" name="__codelineno-7-114" href="#__codelineno-7-114"></a>        &quot;&quot;&quot;Conduct comprehensive assessment of automation impact on specific roles.&quot;&quot;&quot;
</span><span id="__span-7-115"><a id="__codelineno-7-115" name="__codelineno-7-115" href="#__codelineno-7-115"></a>
</span><span id="__span-7-116"><a id="__codelineno-7-116" name="__codelineno-7-116" href="#__codelineno-7-116"></a>        # Analyze tasks for automation potential
</span><span id="__span-7-117"><a id="__codelineno-7-117" name="__codelineno-7-117" href="#__codelineno-7-117"></a>        automatable_tasks = []
</span><span id="__span-7-118"><a id="__codelineno-7-118" name="__codelineno-7-118" href="#__codelineno-7-118"></a>        enhancement_opportunities = []
</span><span id="__span-7-119"><a id="__codelineno-7-119" name="__codelineno-7-119" href="#__codelineno-7-119"></a>
</span><span id="__span-7-120"><a id="__codelineno-7-120" name="__codelineno-7-120" href="#__codelineno-7-120"></a>        for task in role_data.get(&quot;current_tasks&quot;, []):
</span><span id="__span-7-121"><a id="__codelineno-7-121" name="__codelineno-7-121" href="#__codelineno-7-121"></a>            # Simple heuristics for automation potential
</span><span id="__span-7-122"><a id="__codelineno-7-122" name="__codelineno-7-122" href="#__codelineno-7-122"></a>            if any(keyword in task.lower() for keyword in [&quot;data entry&quot;, &quot;copy&quot;, &quot;routine&quot;, &quot;repetitive&quot;]):
</span><span id="__span-7-123"><a id="__codelineno-7-123" name="__codelineno-7-123" href="#__codelineno-7-123"></a>                automatable_tasks.append(task)
</span><span id="__span-7-124"><a id="__codelineno-7-124" name="__codelineno-7-124" href="#__codelineno-7-124"></a>            elif any(keyword in task.lower() for keyword in [&quot;analysis&quot;, &quot;decision&quot;, &quot;customer&quot;, &quot;creative&quot;]):
</span><span id="__span-7-125"><a id="__codelineno-7-125" name="__codelineno-7-125" href="#__codelineno-7-125"></a>                enhancement_opportunities.append(task)
</span><span id="__span-7-126"><a id="__codelineno-7-126" name="__codelineno-7-126" href="#__codelineno-7-126"></a>
</span><span id="__span-7-127"><a id="__codelineno-7-127" name="__codelineno-7-127" href="#__codelineno-7-127"></a>        # Determine retraining needs
</span><span id="__span-7-128"><a id="__codelineno-7-128" name="__codelineno-7-128" href="#__codelineno-7-128"></a>        retraining_needs = []
</span><span id="__span-7-129"><a id="__codelineno-7-129" name="__codelineno-7-129" href="#__codelineno-7-129"></a>        if automatable_tasks:
</span><span id="__span-7-130"><a id="__codelineno-7-130" name="__codelineno-7-130" href="#__codelineno-7-130"></a>            retraining_needs.extend([
</span><span id="__span-7-131"><a id="__codelineno-7-131" name="__codelineno-7-131" href="#__codelineno-7-131"></a>                &quot;Digital literacy and automation tool usage&quot;,
</span><span id="__span-7-132"><a id="__codelineno-7-132" name="__codelineno-7-132" href="#__codelineno-7-132"></a>                &quot;Process monitoring and exception handling&quot;,
</span><span id="__span-7-133"><a id="__codelineno-7-133" name="__codelineno-7-133" href="#__codelineno-7-133"></a>                &quot;Data analysis and interpretation skills&quot;
</span><span id="__span-7-134"><a id="__codelineno-7-134" name="__codelineno-7-134" href="#__codelineno-7-134"></a>            ])
</span><span id="__span-7-135"><a id="__codelineno-7-135" name="__codelineno-7-135" href="#__codelineno-7-135"></a>
</span><span id="__span-7-136"><a id="__codelineno-7-136" name="__codelineno-7-136" href="#__codelineno-7-136"></a>        if enhancement_opportunities:
</span><span id="__span-7-137"><a id="__codelineno-7-137" name="__codelineno-7-137" href="#__codelineno-7-137"></a>            retraining_needs.extend([
</span><span id="__span-7-138"><a id="__codelineno-7-138" name="__codelineno-7-138" href="#__codelineno-7-138"></a>                &quot;Advanced analytical tools and techniques&quot;,
</span><span id="__span-7-139"><a id="__codelineno-7-139" name="__codelineno-7-139" href="#__codelineno-7-139"></a>                &quot;Human-AI collaboration skills&quot;,
</span><span id="__span-7-140"><a id="__codelineno-7-140" name="__codelineno-7-140" href="#__codelineno-7-140"></a>                &quot;Strategic thinking and problem-solving&quot;
</span><span id="__span-7-141"><a id="__codelineno-7-141" name="__codelineno-7-141" href="#__codelineno-7-141"></a>            ])
</span><span id="__span-7-142"><a id="__codelineno-7-142" name="__codelineno-7-142" href="#__codelineno-7-142"></a>
</span><span id="__span-7-143"><a id="__codelineno-7-143" name="__codelineno-7-143" href="#__codelineno-7-143"></a>        # Assess timeline impact
</span><span id="__span-7-144"><a id="__codelineno-7-144" name="__codelineno-7-144" href="#__codelineno-7-144"></a>        automation_percentage = len(automatable_tasks) / len(role_data.get(&quot;current_tasks&quot;, [1])) * 100
</span><span id="__span-7-145"><a id="__codelineno-7-145" name="__codelineno-7-145" href="#__codelineno-7-145"></a>
</span><span id="__span-7-146"><a id="__codelineno-7-146" name="__codelineno-7-146" href="#__codelineno-7-146"></a>        if automation_percentage &gt; 70:
</span><span id="__span-7-147"><a id="__codelineno-7-147" name="__codelineno-7-147" href="#__codelineno-7-147"></a>            timeline_impact = &quot;immediate&quot;
</span><span id="__span-7-148"><a id="__codelineno-7-148" name="__codelineno-7-148" href="#__codelineno-7-148"></a>            mitigation_strategies = [
</span><span id="__span-7-149"><a id="__codelineno-7-149" name="__codelineno-7-149" href="#__codelineno-7-149"></a>                &quot;Priority retraining program&quot;,
</span><span id="__span-7-150"><a id="__codelineno-7-150" name="__codelineno-7-150" href="#__codelineno-7-150"></a>                &quot;Role redesign opportunities&quot;,
</span><span id="__span-7-151"><a id="__codelineno-7-151" name="__codelineno-7-151" href="#__codelineno-7-151"></a>                &quot;Career transition support&quot;
</span><span id="__span-7-152"><a id="__codelineno-7-152" name="__codelineno-7-152" href="#__codelineno-7-152"></a>            ]
</span><span id="__span-7-153"><a id="__codelineno-7-153" name="__codelineno-7-153" href="#__codelineno-7-153"></a>        elif automation_percentage &gt; 30:
</span><span id="__span-7-154"><a id="__codelineno-7-154" name="__codelineno-7-154" href="#__codelineno-7-154"></a>            timeline_impact = &quot;short_term&quot;
</span><span id="__span-7-155"><a id="__codelineno-7-155" name="__codelineno-7-155" href="#__codelineno-7-155"></a>            mitigation_strategies = [
</span><span id="__span-7-156"><a id="__codelineno-7-156" name="__codelineno-7-156" href="#__codelineno-7-156"></a>                &quot;Skill enhancement programs&quot;,
</span><span id="__span-7-157"><a id="__codelineno-7-157" name="__codelineno-7-157" href="#__codelineno-7-157"></a>                &quot;Gradual automation rollout&quot;,
</span><span id="__span-7-158"><a id="__codelineno-7-158" name="__codelineno-7-158" href="#__codelineno-7-158"></a>                &quot;New responsibility assignments&quot;
</span><span id="__span-7-159"><a id="__codelineno-7-159" name="__codelineno-7-159" href="#__codelineno-7-159"></a>            ]
</span><span id="__span-7-160"><a id="__codelineno-7-160" name="__codelineno-7-160" href="#__codelineno-7-160"></a>        else:
</span><span id="__span-7-161"><a id="__codelineno-7-161" name="__codelineno-7-161" href="#__codelineno-7-161"></a>            timeline_impact = &quot;long_term&quot;
</span><span id="__span-7-162"><a id="__codelineno-7-162" name="__codelineno-7-162" href="#__codelineno-7-162"></a>            mitigation_strategies = [
</span><span id="__span-7-163"><a id="__codelineno-7-163" name="__codelineno-7-163" href="#__codelineno-7-163"></a>                &quot;Proactive skill development&quot;,
</span><span id="__span-7-164"><a id="__codelineno-7-164" name="__codelineno-7-164" href="#__codelineno-7-164"></a>                &quot;Technology familiarization&quot;,
</span><span id="__span-7-165"><a id="__codelineno-7-165" name="__codelineno-7-165" href="#__codelineno-7-165"></a>                &quot;Leadership development opportunities&quot;
</span><span id="__span-7-166"><a id="__codelineno-7-166" name="__codelineno-7-166" href="#__codelineno-7-166"></a>            ]
</span><span id="__span-7-167"><a id="__codelineno-7-167" name="__codelineno-7-167" href="#__codelineno-7-167"></a>
</span><span id="__span-7-168"><a id="__codelineno-7-168" name="__codelineno-7-168" href="#__codelineno-7-168"></a>        assessment = EmployeeImpactAssessment(
</span><span id="__span-7-169"><a id="__codelineno-7-169" name="__codelineno-7-169" href="#__codelineno-7-169"></a>            role_title=role_data.get(&quot;role_title&quot;, &quot;Unknown&quot;),
</span><span id="__span-7-170"><a id="__codelineno-7-170" name="__codelineno-7-170" href="#__codelineno-7-170"></a>            department=role_data.get(&quot;department&quot;, &quot;Unknown&quot;),
</span><span id="__span-7-171"><a id="__codelineno-7-171" name="__codelineno-7-171" href="#__codelineno-7-171"></a>            current_tasks=role_data.get(&quot;current_tasks&quot;, []),
</span><span id="__span-7-172"><a id="__codelineno-7-172" name="__codelineno-7-172" href="#__codelineno-7-172"></a>            automatable_tasks=automatable_tasks,
</span><span id="__span-7-173"><a id="__codelineno-7-173" name="__codelineno-7-173" href="#__codelineno-7-173"></a>            enhancement_opportunities=enhancement_opportunities,
</span><span id="__span-7-174"><a id="__codelineno-7-174" name="__codelineno-7-174" href="#__codelineno-7-174"></a>            retraining_needs=retraining_needs,
</span><span id="__span-7-175"><a id="__codelineno-7-175" name="__codelineno-7-175" href="#__codelineno-7-175"></a>            timeline_impact=timeline_impact,
</span><span id="__span-7-176"><a id="__codelineno-7-176" name="__codelineno-7-176" href="#__codelineno-7-176"></a>            mitigation_strategies=mitigation_strategies
</span><span id="__span-7-177"><a id="__codelineno-7-177" name="__codelineno-7-177" href="#__codelineno-7-177"></a>        )
</span><span id="__span-7-178"><a id="__codelineno-7-178" name="__codelineno-7-178" href="#__codelineno-7-178"></a>
</span><span id="__span-7-179"><a id="__codelineno-7-179" name="__codelineno-7-179" href="#__codelineno-7-179"></a>        self.impact_assessments[role_data.get(&quot;role_title&quot;, &quot;Unknown&quot;)] = assessment
</span><span id="__span-7-180"><a id="__codelineno-7-180" name="__codelineno-7-180" href="#__codelineno-7-180"></a>        return assessment
</span><span id="__span-7-181"><a id="__codelineno-7-181" name="__codelineno-7-181" href="#__codelineno-7-181"></a>
</span><span id="__span-7-182"><a id="__codelineno-7-182" name="__codelineno-7-182" href="#__codelineno-7-182"></a>    def perform_ethical_review(self, project_data: Dict[str, Any]) -&gt; EthicalReview:
</span><span id="__span-7-183"><a id="__codelineno-7-183" name="__codelineno-7-183" href="#__codelineno-7-183"></a>        &quot;&quot;&quot;Perform comprehensive ethical review of automation project.&quot;&quot;&quot;
</span><span id="__span-7-184"><a id="__codelineno-7-184" name="__codelineno-7-184" href="#__codelineno-7-184"></a>
</span><span id="__span-7-185"><a id="__codelineno-7-185" name="__codelineno-7-185" href="#__codelineno-7-185"></a>        project_name = project_data.get(&quot;project_name&quot;, &quot;Unknown Project&quot;)
</span><span id="__span-7-186"><a id="__codelineno-7-186" name="__codelineno-7-186" href="#__codelineno-7-186"></a>
</span><span id="__span-7-187"><a id="__codelineno-7-187" name="__codelineno-7-187" href="#__codelineno-7-187"></a>        # Identify stakeholders
</span><span id="__span-7-188"><a id="__codelineno-7-188" name="__codelineno-7-188" href="#__codelineno-7-188"></a>        stakeholders = [&quot;employees&quot;, &quot;customers&quot;, &quot;management&quot;, &quot;community&quot;]
</span><span id="__span-7-189"><a id="__codelineno-7-189" name="__codelineno-7-189" href="#__codelineno-7-189"></a>        if project_data.get(&quot;handles_personal_data&quot;, False):
</span><span id="__span-7-190"><a id="__codelineno-7-190" name="__codelineno-7-190" href="#__codelineno-7-190"></a>            stakeholders.append(&quot;data_subjects&quot;)
</span><span id="__span-7-191"><a id="__codelineno-7-191" name="__codelineno-7-191" href="#__codelineno-7-191"></a>        if project_data.get(&quot;customer_facing&quot;, False):
</span><span id="__span-7-192"><a id="__codelineno-7-192" name="__codelineno-7-192" href="#__codelineno-7-192"></a>            stakeholders.append(&quot;external_customers&quot;)
</span><span id="__span-7-193"><a id="__codelineno-7-193" name="__codelineno-7-193" href="#__codelineno-7-193"></a>
</span><span id="__span-7-194"><a id="__codelineno-7-194" name="__codelineno-7-194" href="#__codelineno-7-194"></a>        # Assess benefits
</span><span id="__span-7-195"><a id="__codelineno-7-195" name="__codelineno-7-195" href="#__codelineno-7-195"></a>        benefits = []
</span><span id="__span-7-196"><a id="__codelineno-7-196" name="__codelineno-7-196" href="#__codelineno-7-196"></a>        if project_data.get(&quot;reduces_errors&quot;, False):
</span><span id="__span-7-197"><a id="__codelineno-7-197" name="__codelineno-7-197" href="#__codelineno-7-197"></a>            benefits.append(&quot;Improved accuracy and quality&quot;)
</span><span id="__span-7-198"><a id="__codelineno-7-198" name="__codelineno-7-198" href="#__codelineno-7-198"></a>        if project_data.get(&quot;increases_efficiency&quot;, False):
</span><span id="__span-7-199"><a id="__codelineno-7-199" name="__codelineno-7-199" href="#__codelineno-7-199"></a>            benefits.append(&quot;Enhanced operational efficiency&quot;)
</span><span id="__span-7-200"><a id="__codelineno-7-200" name="__codelineno-7-200" href="#__codelineno-7-200"></a>        if project_data.get(&quot;cost_savings&quot;, False):
</span><span id="__span-7-201"><a id="__codelineno-7-201" name="__codelineno-7-201" href="#__codelineno-7-201"></a>            benefits.append(&quot;Reduced operational costs&quot;)
</span><span id="__span-7-202"><a id="__codelineno-7-202" name="__codelineno-7-202" href="#__codelineno-7-202"></a>        if project_data.get(&quot;improves_customer_experience&quot;, False):
</span><span id="__span-7-203"><a id="__codelineno-7-203" name="__codelineno-7-203" href="#__codelineno-7-203"></a>            benefits.append(&quot;Better customer service experience&quot;)
</span><span id="__span-7-204"><a id="__codelineno-7-204" name="__codelineno-7-204" href="#__codelineno-7-204"></a>
</span><span id="__span-7-205"><a id="__codelineno-7-205" name="__codelineno-7-205" href="#__codelineno-7-205"></a>        # Identify concerns
</span><span id="__span-7-206"><a id="__codelineno-7-206" name="__codelineno-7-206" href="#__codelineno-7-206"></a>        concerns = []
</span><span id="__span-7-207"><a id="__codelineno-7-207" name="__codelineno-7-207" href="#__codelineno-7-207"></a>        if project_data.get(&quot;job_displacement_risk&quot;, False):
</span><span id="__span-7-208"><a id="__codelineno-7-208" name="__codelineno-7-208" href="#__codelineno-7-208"></a>            concerns.append(&quot;Potential job displacement&quot;)
</span><span id="__span-7-209"><a id="__codelineno-7-209" name="__codelineno-7-209" href="#__codelineno-7-209"></a>        if project_data.get(&quot;handles_sensitive_data&quot;, False):
</span><span id="__span-7-210"><a id="__codelineno-7-210" name="__codelineno-7-210" href="#__codelineno-7-210"></a>            concerns.append(&quot;Data privacy and security risks&quot;)
</span><span id="__span-7-211"><a id="__codelineno-7-211" name="__codelineno-7-211" href="#__codelineno-7-211"></a>        if project_data.get(&quot;automated_decisions&quot;, False):
</span><span id="__span-7-212"><a id="__codelineno-7-212" name="__codelineno-7-212" href="#__codelineno-7-212"></a>            concerns.append(&quot;Automated decision-making without human oversight&quot;)
</span><span id="__span-7-213"><a id="__codelineno-7-213" name="__codelineno-7-213" href="#__codelineno-7-213"></a>        if project_data.get(&quot;customer_interaction&quot;, False):
</span><span id="__span-7-214"><a id="__codelineno-7-214" name="__codelineno-7-214" href="#__codelineno-7-214"></a>            concerns.append(&quot;Reduced human touch in customer service&quot;)
</span><span id="__span-7-215"><a id="__codelineno-7-215" name="__codelineno-7-215" href="#__codelineno-7-215"></a>
</span><span id="__span-7-216"><a id="__codelineno-7-216" name="__codelineno-7-216" href="#__codelineno-7-216"></a>        # Develop mitigation measures
</span><span id="__span-7-217"><a id="__codelineno-7-217" name="__codelineno-7-217" href="#__codelineno-7-217"></a>        mitigation_measures = []
</span><span id="__span-7-218"><a id="__codelineno-7-218" name="__codelineno-7-218" href="#__codelineno-7-218"></a>
</span><span id="__span-7-219"><a id="__codelineno-7-219" name="__codelineno-7-219" href="#__codelineno-7-219"></a>        if &quot;Potential job displacement&quot; in concerns:
</span><span id="__span-7-220"><a id="__codelineno-7-220" name="__codelineno-7-220" href="#__codelineno-7-220"></a>            mitigation_measures.extend([
</span><span id="__span-7-221"><a id="__codelineno-7-221" name="__codelineno-7-221" href="#__codelineno-7-221"></a>                &quot;Comprehensive retraining program&quot;,
</span><span id="__span-7-222"><a id="__codelineno-7-222" name="__codelineno-7-222" href="#__codelineno-7-222"></a>                &quot;Gradual implementation timeline&quot;,
</span><span id="__span-7-223"><a id="__codelineno-7-223" name="__codelineno-7-223" href="#__codelineno-7-223"></a>                &quot;Alternative role assignments&quot;,
</span><span id="__span-7-224"><a id="__codelineno-7-224" name="__codelineno-7-224" href="#__codelineno-7-224"></a>                &quot;Career transition support&quot;
</span><span id="__span-7-225"><a id="__codelineno-7-225" name="__codelineno-7-225" href="#__codelineno-7-225"></a>            ])
</span><span id="__span-7-226"><a id="__codelineno-7-226" name="__codelineno-7-226" href="#__codelineno-7-226"></a>
</span><span id="__span-7-227"><a id="__codelineno-7-227" name="__codelineno-7-227" href="#__codelineno-7-227"></a>        if &quot;Data privacy and security risks&quot; in concerns:
</span><span id="__span-7-228"><a id="__codelineno-7-228" name="__codelineno-7-228" href="#__codelineno-7-228"></a>            mitigation_measures.extend([
</span><span id="__span-7-229"><a id="__codelineno-7-229" name="__codelineno-7-229" href="#__codelineno-7-229"></a>                &quot;Data encryption and access controls&quot;,
</span><span id="__span-7-230"><a id="__codelineno-7-230" name="__codelineno-7-230" href="#__codelineno-7-230"></a>                &quot;Regular security audits&quot;,
</span><span id="__span-7-231"><a id="__codelineno-7-231" name="__codelineno-7-231" href="#__codelineno-7-231"></a>                &quot;Privacy impact assessment&quot;,
</span><span id="__span-7-232"><a id="__codelineno-7-232" name="__codelineno-7-232" href="#__codelineno-7-232"></a>                &quot;Staff training on data protection&quot;
</span><span id="__span-7-233"><a id="__codelineno-7-233" name="__codelineno-7-233" href="#__codelineno-7-233"></a>            ])
</span><span id="__span-7-234"><a id="__codelineno-7-234" name="__codelineno-7-234" href="#__codelineno-7-234"></a>
</span><span id="__span-7-235"><a id="__codelineno-7-235" name="__codelineno-7-235" href="#__codelineno-7-235"></a>        if &quot;Automated decision-making without human oversight&quot; in concerns:
</span><span id="__span-7-236"><a id="__codelineno-7-236" name="__codelineno-7-236" href="#__codelineno-7-236"></a>            mitigation_measures.extend([
</span><span id="__span-7-237"><a id="__codelineno-7-237" name="__codelineno-7-237" href="#__codelineno-7-237"></a>                &quot;Human review checkpoints&quot;,
</span><span id="__span-7-238"><a id="__codelineno-7-238" name="__codelineno-7-238" href="#__codelineno-7-238"></a>                &quot;Override mechanisms&quot;,
</span><span id="__span-7-239"><a id="__codelineno-7-239" name="__codelineno-7-239" href="#__codelineno-7-239"></a>                &quot;Decision audit trails&quot;,
</span><span id="__span-7-240"><a id="__codelineno-7-240" name="__codelineno-7-240" href="#__codelineno-7-240"></a>                &quot;Regular algorithm bias testing&quot;
</span><span id="__span-7-241"><a id="__codelineno-7-241" name="__codelineno-7-241" href="#__codelineno-7-241"></a>            ])
</span><span id="__span-7-242"><a id="__codelineno-7-242" name="__codelineno-7-242" href="#__codelineno-7-242"></a>
</span><span id="__span-7-243"><a id="__codelineno-7-243" name="__codelineno-7-243" href="#__codelineno-7-243"></a>        # Determine approval status
</span><span id="__span-7-244"><a id="__codelineno-7-244" name="__codelineno-7-244" href="#__codelineno-7-244"></a>        high_risk_concerns = [c for c in concerns if any(keyword in c.lower() 
</span><span id="__span-7-245"><a id="__codelineno-7-245" name="__codelineno-7-245" href="#__codelineno-7-245"></a>                             for keyword in [&quot;displacement&quot;, &quot;privacy&quot;, &quot;decision&quot;])]
</span><span id="__span-7-246"><a id="__codelineno-7-246" name="__codelineno-7-246" href="#__codelineno-7-246"></a>
</span><span id="__span-7-247"><a id="__codelineno-7-247" name="__codelineno-7-247" href="#__codelineno-7-247"></a>        if len(high_risk_concerns) &gt; len(mitigation_measures) / 2:
</span><span id="__span-7-248"><a id="__codelineno-7-248" name="__codelineno-7-248" href="#__codelineno-7-248"></a>            approval_status = &quot;conditional_approval&quot;
</span><span id="__span-7-249"><a id="__codelineno-7-249" name="__codelineno-7-249" href="#__codelineno-7-249"></a>        elif high_risk_concerns:
</span><span id="__span-7-250"><a id="__codelineno-7-250" name="__codelineno-7-250" href="#__codelineno-7-250"></a>            approval_status = &quot;approved_with_conditions&quot;
</span><span id="__span-7-251"><a id="__codelineno-7-251" name="__codelineno-7-251" href="#__codelineno-7-251"></a>        else:
</span><span id="__span-7-252"><a id="__codelineno-7-252" name="__codelineno-7-252" href="#__codelineno-7-252"></a>            approval_status = &quot;approved&quot;
</span><span id="__span-7-253"><a id="__codelineno-7-253" name="__codelineno-7-253" href="#__codelineno-7-253"></a>
</span><span id="__span-7-254"><a id="__codelineno-7-254" name="__codelineno-7-254" href="#__codelineno-7-254"></a>        review = EthicalReview(
</span><span id="__span-7-255"><a id="__codelineno-7-255" name="__codelineno-7-255" href="#__codelineno-7-255"></a>            automation_project=project_name,
</span><span id="__span-7-256"><a id="__codelineno-7-256" name="__codelineno-7-256" href="#__codelineno-7-256"></a>            stakeholders_affected=stakeholders,
</span><span id="__span-7-257"><a id="__codelineno-7-257" name="__codelineno-7-257" href="#__codelineno-7-257"></a>            benefits=benefits,
</span><span id="__span-7-258"><a id="__codelineno-7-258" name="__codelineno-7-258" href="#__codelineno-7-258"></a>            concerns=concerns,
</span><span id="__span-7-259"><a id="__codelineno-7-259" name="__codelineno-7-259" href="#__codelineno-7-259"></a>            mitigation_measures=mitigation_measures,
</span><span id="__span-7-260"><a id="__codelineno-7-260" name="__codelineno-7-260" href="#__codelineno-7-260"></a>            approval_status=approval_status,
</span><span id="__span-7-261"><a id="__codelineno-7-261" name="__codelineno-7-261" href="#__codelineno-7-261"></a>            review_date=datetime.now(),
</span><span id="__span-7-262"><a id="__codelineno-7-262" name="__codelineno-7-262" href="#__codelineno-7-262"></a>            next_review_date=datetime.now() + timedelta(days=90)
</span><span id="__span-7-263"><a id="__codelineno-7-263" name="__codelineno-7-263" href="#__codelineno-7-263"></a>        )
</span><span id="__span-7-264"><a id="__codelineno-7-264" name="__codelineno-7-264" href="#__codelineno-7-264"></a>
</span><span id="__span-7-265"><a id="__codelineno-7-265" name="__codelineno-7-265" href="#__codelineno-7-265"></a>        self.ethical_reviews[project_name] = review
</span><span id="__span-7-266"><a id="__codelineno-7-266" name="__codelineno-7-266" href="#__codelineno-7-266"></a>        return review
</span><span id="__span-7-267"><a id="__codelineno-7-267" name="__codelineno-7-267" href="#__codelineno-7-267"></a>
</span><span id="__span-7-268"><a id="__codelineno-7-268" name="__codelineno-7-268" href="#__codelineno-7-268"></a>    def generate_ethical_compliance_report(self) -&gt; Dict[str, Any]:
</span><span id="__span-7-269"><a id="__codelineno-7-269" name="__codelineno-7-269" href="#__codelineno-7-269"></a>        &quot;&quot;&quot;Generate comprehensive ethical compliance report.&quot;&quot;&quot;
</span><span id="__span-7-270"><a id="__codelineno-7-270" name="__codelineno-7-270" href="#__codelineno-7-270"></a>
</span><span id="__span-7-271"><a id="__codelineno-7-271" name="__codelineno-7-271" href="#__codelineno-7-271"></a>        total_projects = len(self.ethical_reviews)
</span><span id="__span-7-272"><a id="__codelineno-7-272" name="__codelineno-7-272" href="#__codelineno-7-272"></a>        approved_projects = sum(1 for review in self.ethical_reviews.values() 
</span><span id="__span-7-273"><a id="__codelineno-7-273" name="__codelineno-7-273" href="#__codelineno-7-273"></a>                               if review.approval_status == &quot;approved&quot;)
</span><span id="__span-7-274"><a id="__codelineno-7-274" name="__codelineno-7-274" href="#__codelineno-7-274"></a>        conditional_projects = sum(1 for review in self.ethical_reviews.values() 
</span><span id="__span-7-275"><a id="__codelineno-7-275" name="__codelineno-7-275" href="#__codelineno-7-275"></a>                                  if &quot;conditional&quot; in review.approval_status)
</span><span id="__span-7-276"><a id="__codelineno-7-276" name="__codelineno-7-276" href="#__codelineno-7-276"></a>
</span><span id="__span-7-277"><a id="__codelineno-7-277" name="__codelineno-7-277" href="#__codelineno-7-277"></a>        # Analyze common concerns
</span><span id="__span-7-278"><a id="__codelineno-7-278" name="__codelineno-7-278" href="#__codelineno-7-278"></a>        all_concerns = []
</span><span id="__span-7-279"><a id="__codelineno-7-279" name="__codelineno-7-279" href="#__codelineno-7-279"></a>        for review in self.ethical_reviews.values():
</span><span id="__span-7-280"><a id="__codelineno-7-280" name="__codelineno-7-280" href="#__codelineno-7-280"></a>            all_concerns.extend(review.concerns)
</span><span id="__span-7-281"><a id="__codelineno-7-281" name="__codelineno-7-281" href="#__codelineno-7-281"></a>
</span><span id="__span-7-282"><a id="__codelineno-7-282" name="__codelineno-7-282" href="#__codelineno-7-282"></a>        concern_frequency = {}
</span><span id="__span-7-283"><a id="__codelineno-7-283" name="__codelineno-7-283" href="#__codelineno-7-283"></a>        for concern in all_concerns:
</span><span id="__span-7-284"><a id="__codelineno-7-284" name="__codelineno-7-284" href="#__codelineno-7-284"></a>            concern_frequency[concern] = concern_frequency.get(concern, 0) + 1
</span><span id="__span-7-285"><a id="__codelineno-7-285" name="__codelineno-7-285" href="#__codelineno-7-285"></a>
</span><span id="__span-7-286"><a id="__codelineno-7-286" name="__codelineno-7-286" href="#__codelineno-7-286"></a>        # Employee impact summary
</span><span id="__span-7-287"><a id="__codelineno-7-287" name="__codelineno-7-287" href="#__codelineno-7-287"></a>        total_roles_assessed = len(self.impact_assessments)
</span><span id="__span-7-288"><a id="__codelineno-7-288" name="__codelineno-7-288" href="#__codelineno-7-288"></a>        high_impact_roles = sum(1 for assessment in self.impact_assessments.values()
</span><span id="__span-7-289"><a id="__codelineno-7-289" name="__codelineno-7-289" href="#__codelineno-7-289"></a>                               if assessment.timeline_impact == &quot;immediate&quot;)
</span><span id="__span-7-290"><a id="__codelineno-7-290" name="__codelineno-7-290" href="#__codelineno-7-290"></a>
</span><span id="__span-7-291"><a id="__codelineno-7-291" name="__codelineno-7-291" href="#__codelineno-7-291"></a>        report = {
</span><span id="__span-7-292"><a id="__codelineno-7-292" name="__codelineno-7-292" href="#__codelineno-7-292"></a>            &quot;report_date&quot;: datetime.now().isoformat(),
</span><span id="__span-7-293"><a id="__codelineno-7-293" name="__codelineno-7-293" href="#__codelineno-7-293"></a>            &quot;project_summary&quot;: {
</span><span id="__span-7-294"><a id="__codelineno-7-294" name="__codelineno-7-294" href="#__codelineno-7-294"></a>                &quot;total_projects_reviewed&quot;: total_projects,
</span><span id="__span-7-295"><a id="__codelineno-7-295" name="__codelineno-7-295" href="#__codelineno-7-295"></a>                &quot;approved_projects&quot;: approved_projects,
</span><span id="__span-7-296"><a id="__codelineno-7-296" name="__codelineno-7-296" href="#__codelineno-7-296"></a>                &quot;conditional_approvals&quot;: conditional_projects,
</span><span id="__span-7-297"><a id="__codelineno-7-297" name="__codelineno-7-297" href="#__codelineno-7-297"></a>                &quot;approval_rate&quot;: (approved_projects / total_projects * 100) if total_projects &gt; 0 else 0
</span><span id="__span-7-298"><a id="__codelineno-7-298" name="__codelineno-7-298" href="#__codelineno-7-298"></a>            },
</span><span id="__span-7-299"><a id="__codelineno-7-299" name="__codelineno-7-299" href="#__codelineno-7-299"></a>            &quot;common_concerns&quot;: dict(sorted(concern_frequency.items(), 
</span><span id="__span-7-300"><a id="__codelineno-7-300" name="__codelineno-7-300" href="#__codelineno-7-300"></a>                                         key=lambda x: x[1], reverse=True)),
</span><span id="__span-7-301"><a id="__codelineno-7-301" name="__codelineno-7-301" href="#__codelineno-7-301"></a>            &quot;employee_impact&quot;: {
</span><span id="__span-7-302"><a id="__codelineno-7-302" name="__codelineno-7-302" href="#__codelineno-7-302"></a>                &quot;roles_assessed&quot;: total_roles_assessed,
</span><span id="__span-7-303"><a id="__codelineno-7-303" name="__codelineno-7-303" href="#__codelineno-7-303"></a>                &quot;high_impact_roles&quot;: high_impact_roles,
</span><span id="__span-7-304"><a id="__codelineno-7-304" name="__codelineno-7-304" href="#__codelineno-7-304"></a>                &quot;retraining_required&quot;: high_impact_roles &gt; 0
</span><span id="__span-7-305"><a id="__codelineno-7-305" name="__codelineno-7-305" href="#__codelineno-7-305"></a>            },
</span><span id="__span-7-306"><a id="__codelineno-7-306" name="__codelineno-7-306" href="#__codelineno-7-306"></a>            &quot;compliance_status&quot;: &quot;compliant&quot; if conditional_projects == 0 else &quot;monitoring_required&quot;,
</span><span id="__span-7-307"><a id="__codelineno-7-307" name="__codelineno-7-307" href="#__codelineno-7-307"></a>            &quot;recommendations&quot;: self._generate_recommendations()
</span><span id="__span-7-308"><a id="__codelineno-7-308" name="__codelineno-7-308" href="#__codelineno-7-308"></a>        }
</span><span id="__span-7-309"><a id="__codelineno-7-309" name="__codelineno-7-309" href="#__codelineno-7-309"></a>
</span><span id="__span-7-310"><a id="__codelineno-7-310" name="__codelineno-7-310" href="#__codelineno-7-310"></a>        return report
</span><span id="__span-7-311"><a id="__codelineno-7-311" name="__codelineno-7-311" href="#__codelineno-7-311"></a>
</span><span id="__span-7-312"><a id="__codelineno-7-312" name="__codelineno-7-312" href="#__codelineno-7-312"></a>    def _generate_recommendations(self) -&gt; List[str]:
</span><span id="__span-7-313"><a id="__codelineno-7-313" name="__codelineno-7-313" href="#__codelineno-7-313"></a>        &quot;&quot;&quot;Generate recommendations based on ethical review findings.&quot;&quot;&quot;
</span><span id="__span-7-314"><a id="__codelineno-7-314" name="__codelineno-7-314" href="#__codelineno-7-314"></a>        recommendations = []
</span><span id="__span-7-315"><a id="__codelineno-7-315" name="__codelineno-7-315" href="#__codelineno-7-315"></a>
</span><span id="__span-7-316"><a id="__codelineno-7-316" name="__codelineno-7-316" href="#__codelineno-7-316"></a>        # Check for common patterns
</span><span id="__span-7-317"><a id="__codelineno-7-317" name="__codelineno-7-317" href="#__codelineno-7-317"></a>        common_concerns = {}
</span><span id="__span-7-318"><a id="__codelineno-7-318" name="__codelineno-7-318" href="#__codelineno-7-318"></a>        for review in self.ethical_reviews.values():
</span><span id="__span-7-319"><a id="__codelineno-7-319" name="__codelineno-7-319" href="#__codelineno-7-319"></a>            for concern in review.concerns:
</span><span id="__span-7-320"><a id="__codelineno-7-320" name="__codelineno-7-320" href="#__codelineno-7-320"></a>                common_concerns[concern] = common_concerns.get(concern, 0) + 1
</span><span id="__span-7-321"><a id="__codelineno-7-321" name="__codelineno-7-321" href="#__codelineno-7-321"></a>
</span><span id="__span-7-322"><a id="__codelineno-7-322" name="__codelineno-7-322" href="#__codelineno-7-322"></a>        if common_concerns.get(&quot;Potential job displacement&quot;, 0) &gt; 1:
</span><span id="__span-7-323"><a id="__codelineno-7-323" name="__codelineno-7-323" href="#__codelineno-7-323"></a>            recommendations.append(&quot;Establish company-wide retraining and career transition program&quot;)
</span><span id="__span-7-324"><a id="__codelineno-7-324" name="__codelineno-7-324" href="#__codelineno-7-324"></a>
</span><span id="__span-7-325"><a id="__codelineno-7-325" name="__codelineno-7-325" href="#__codelineno-7-325"></a>        if common_concerns.get(&quot;Data privacy and security risks&quot;, 0) &gt; 1:
</span><span id="__span-7-326"><a id="__codelineno-7-326" name="__codelineno-7-326" href="#__codelineno-7-326"></a>            recommendations.append(&quot;Implement comprehensive data governance framework&quot;)
</span><span id="__span-7-327"><a id="__codelineno-7-327" name="__codelineno-7-327" href="#__codelineno-7-327"></a>
</span><span id="__span-7-328"><a id="__codelineno-7-328" name="__codelineno-7-328" href="#__codelineno-7-328"></a>        if common_concerns.get(&quot;Automated decision-making without human oversight&quot;, 0) &gt; 1:
</span><span id="__span-7-329"><a id="__codelineno-7-329" name="__codelineno-7-329" href="#__codelineno-7-329"></a>            recommendations.append(&quot;Develop standardized human oversight protocols&quot;)
</span><span id="__span-7-330"><a id="__codelineno-7-330" name="__codelineno-7-330" href="#__codelineno-7-330"></a>
</span><span id="__span-7-331"><a id="__codelineno-7-331" name="__codelineno-7-331" href="#__codelineno-7-331"></a>        # General recommendations
</span><span id="__span-7-332"><a id="__codelineno-7-332" name="__codelineno-7-332" href="#__codelineno-7-332"></a>        recommendations.extend([
</span><span id="__span-7-333"><a id="__codelineno-7-333" name="__codelineno-7-333" href="#__codelineno-7-333"></a>            &quot;Regular ethical review meetings with stakeholder representation&quot;,
</span><span id="__span-7-334"><a id="__codelineno-7-334" name="__codelineno-7-334" href="#__codelineno-7-334"></a>            &quot;Continuous monitoring of automation impact on workforce&quot;,
</span><span id="__span-7-335"><a id="__codelineno-7-335" name="__codelineno-7-335" href="#__codelineno-7-335"></a>            &quot;Transparent communication about automation plans and benefits&quot;
</span><span id="__span-7-336"><a id="__codelineno-7-336" name="__codelineno-7-336" href="#__codelineno-7-336"></a>        ])
</span><span id="__span-7-337"><a id="__codelineno-7-337" name="__codelineno-7-337" href="#__codelineno-7-337"></a>
</span><span id="__span-7-338"><a id="__codelineno-7-338" name="__codelineno-7-338" href="#__codelineno-7-338"></a>        return recommendations
</span><span id="__span-7-339"><a id="__codelineno-7-339" name="__codelineno-7-339" href="#__codelineno-7-339"></a>
</span><span id="__span-7-340"><a id="__codelineno-7-340" name="__codelineno-7-340" href="#__codelineno-7-340"></a>### Security Implications and Best Practices
</span><span id="__span-7-341"><a id="__codelineno-7-341" name="__codelineno-7-341" href="#__codelineno-7-341"></a>
</span><span id="__span-7-342"><a id="__codelineno-7-342" name="__codelineno-7-342" href="#__codelineno-7-342"></a>#### Authentication and Access Control
</span><span id="__span-7-343"><a id="__codelineno-7-343" name="__codelineno-7-343" href="#__codelineno-7-343"></a>
</span><span id="__span-7-344"><a id="__codelineno-7-344" name="__codelineno-7-344" href="#__codelineno-7-344"></a>**Multi-Factor Authentication (MFA)**:
</span><span id="__span-7-345"><a id="__codelineno-7-345" name="__codelineno-7-345" href="#__codelineno-7-345"></a>
</span><span id="__span-7-346"><a id="__codelineno-7-346" name="__codelineno-7-346" href="#__codelineno-7-346"></a>```python
</span><span id="__span-7-347"><a id="__codelineno-7-347" name="__codelineno-7-347" href="#__codelineno-7-347"></a>
</span><span id="__span-7-348"><a id="__codelineno-7-348" name="__codelineno-7-348" href="#__codelineno-7-348"></a>import hashlib
</span><span id="__span-7-349"><a id="__codelineno-7-349" name="__codelineno-7-349" href="#__codelineno-7-349"></a>import secrets
</span><span id="__span-7-350"><a id="__codelineno-7-350" name="__codelineno-7-350" href="#__codelineno-7-350"></a>import time
</span><span id="__span-7-351"><a id="__codelineno-7-351" name="__codelineno-7-351" href="#__codelineno-7-351"></a>from typing import Dict, Optional, Tuple
</span><span id="__span-7-352"><a id="__codelineno-7-352" name="__codelineno-7-352" href="#__codelineno-7-352"></a>
</span><span id="__span-7-353"><a id="__codelineno-7-353" name="__codelineno-7-353" href="#__codelineno-7-353"></a>class SecureRPAAuthenticator:
</span><span id="__span-7-354"><a id="__codelineno-7-354" name="__codelineno-7-354" href="#__codelineno-7-354"></a>    &quot;&quot;&quot;
</span><span id="__span-7-355"><a id="__codelineno-7-355" name="__codelineno-7-355" href="#__codelineno-7-355"></a>    Secure authentication system for RPA bots.
</span><span id="__span-7-356"><a id="__codelineno-7-356" name="__codelineno-7-356" href="#__codelineno-7-356"></a>    Implements MFA and secure credential management.
</span><span id="__span-7-357"><a id="__codelineno-7-357" name="__codelineno-7-357" href="#__codelineno-7-357"></a>    &quot;&quot;&quot;
</span><span id="__span-7-358"><a id="__codelineno-7-358" name="__codelineno-7-358" href="#__codelineno-7-358"></a>
</span><span id="__span-7-359"><a id="__codelineno-7-359" name="__codelineno-7-359" href="#__codelineno-7-359"></a>    def __init__(self):
</span><span id="__span-7-360"><a id="__codelineno-7-360" name="__codelineno-7-360" href="#__codelineno-7-360"></a>        self.user_credentials = {}
</span><span id="__span-7-361"><a id="__codelineno-7-361" name="__codelineno-7-361" href="#__codelineno-7-361"></a>        self.mfa_codes = {}
</span><span id="__span-7-362"><a id="__codelineno-7-362" name="__codelineno-7-362" href="#__codelineno-7-362"></a>        self.session_tokens = {}
</span><span id="__span-7-363"><a id="__codelineno-7-363" name="__codelineno-7-363" href="#__codelineno-7-363"></a>        self.failed_attempts = {}
</span><span id="__span-7-364"><a id="__codelineno-7-364" name="__codelineno-7-364" href="#__codelineno-7-364"></a>        self.lockout_threshold = 3
</span><span id="__span-7-365"><a id="__codelineno-7-365" name="__codelineno-7-365" href="#__codelineno-7-365"></a>        self.lockout_duration = 300  # 5 minutes
</span><span id="__span-7-366"><a id="__codelineno-7-366" name="__codelineno-7-366" href="#__codelineno-7-366"></a>
</span><span id="__span-7-367"><a id="__codelineno-7-367" name="__codelineno-7-367" href="#__codelineno-7-367"></a>    def register_bot(self, bot_id: str, password: str, email: str) -&gt; bool:
</span><span id="__span-7-368"><a id="__codelineno-7-368" name="__codelineno-7-368" href="#__codelineno-7-368"></a>        &quot;&quot;&quot;Register a new RPA bot with secure credentials.&quot;&quot;&quot;
</span><span id="__span-7-369"><a id="__codelineno-7-369" name="__codelineno-7-369" href="#__codelineno-7-369"></a>
</span><span id="__span-7-370"><a id="__codelineno-7-370" name="__codelineno-7-370" href="#__codelineno-7-370"></a>        ## Generate salt for password hashing
</span><span id="__span-7-371"><a id="__codelineno-7-371" name="__codelineno-7-371" href="#__codelineno-7-371"></a>
</span><span id="__span-7-372"><a id="__codelineno-7-372" name="__codelineno-7-372" href="#__codelineno-7-372"></a>        salt = secrets.token_bytes(32)
</span><span id="__span-7-373"><a id="__codelineno-7-373" name="__codelineno-7-373" href="#__codelineno-7-373"></a>
</span><span id="__span-7-374"><a id="__codelineno-7-374" name="__codelineno-7-374" href="#__codelineno-7-374"></a>        ## Hash password with salt
</span><span id="__span-7-375"><a id="__codelineno-7-375" name="__codelineno-7-375" href="#__codelineno-7-375"></a>
</span><span id="__span-7-376"><a id="__codelineno-7-376" name="__codelineno-7-376" href="#__codelineno-7-376"></a>        password_hash = hashlib.pbkdf2_hmac(&#39;sha256&#39;, 
</span><span id="__span-7-377"><a id="__codelineno-7-377" name="__codelineno-7-377" href="#__codelineno-7-377"></a>                                          password.encode(&#39;utf-8&#39;), 
</span><span id="__span-7-378"><a id="__codelineno-7-378" name="__codelineno-7-378" href="#__codelineno-7-378"></a>                                          salt, 
</span><span id="__span-7-379"><a id="__codelineno-7-379" name="__codelineno-7-379" href="#__codelineno-7-379"></a>                                          100000)  # 100,000 iterations
</span><span id="__span-7-380"><a id="__codelineno-7-380" name="__codelineno-7-380" href="#__codelineno-7-380"></a>
</span><span id="__span-7-381"><a id="__codelineno-7-381" name="__codelineno-7-381" href="#__codelineno-7-381"></a>        self.user_credentials[bot_id] = {
</span><span id="__span-7-382"><a id="__codelineno-7-382" name="__codelineno-7-382" href="#__codelineno-7-382"></a>            &quot;password_hash&quot;: password_hash,
</span><span id="__span-7-383"><a id="__codelineno-7-383" name="__codelineno-7-383" href="#__codelineno-7-383"></a>            &quot;salt&quot;: salt,
</span><span id="__span-7-384"><a id="__codelineno-7-384" name="__codelineno-7-384" href="#__codelineno-7-384"></a>            &quot;email&quot;: email,
</span><span id="__span-7-385"><a id="__codelineno-7-385" name="__codelineno-7-385" href="#__codelineno-7-385"></a>            &quot;created_date&quot;: time.time(),
</span><span id="__span-7-386"><a id="__codelineno-7-386" name="__codelineno-7-386" href="#__codelineno-7-386"></a>            &quot;last_login&quot;: None,
</span><span id="__span-7-387"><a id="__codelineno-7-387" name="__codelineno-7-387" href="#__codelineno-7-387"></a>            &quot;is_locked&quot;: False
</span><span id="__span-7-388"><a id="__codelineno-7-388" name="__codelineno-7-388" href="#__codelineno-7-388"></a>        }
</span><span id="__span-7-389"><a id="__codelineno-7-389" name="__codelineno-7-389" href="#__codelineno-7-389"></a>
</span><span id="__span-7-390"><a id="__codelineno-7-390" name="__codelineno-7-390" href="#__codelineno-7-390"></a>        return True
</span><span id="__span-7-391"><a id="__codelineno-7-391" name="__codelineno-7-391" href="#__codelineno-7-391"></a>
</span><span id="__span-7-392"><a id="__codelineno-7-392" name="__codelineno-7-392" href="#__codelineno-7-392"></a>    def authenticate_bot(self, bot_id: str, password: str) -&gt; Tuple[bool, Optional[str]]:
</span><span id="__span-7-393"><a id="__codelineno-7-393" name="__codelineno-7-393" href="#__codelineno-7-393"></a>        &quot;&quot;&quot;Authenticate RPA bot with primary credentials.&quot;&quot;&quot;
</span><span id="__span-7-394"><a id="__codelineno-7-394" name="__codelineno-7-394" href="#__codelineno-7-394"></a>
</span><span id="__span-7-395"><a id="__codelineno-7-395" name="__codelineno-7-395" href="#__codelineno-7-395"></a>        ## Check if account is locked
</span><span id="__span-7-396"><a id="__codelineno-7-396" name="__codelineno-7-396" href="#__codelineno-7-396"></a>
</span><span id="__span-7-397"><a id="__codelineno-7-397" name="__codelineno-7-397" href="#__codelineno-7-397"></a>        if self._is_account_locked(bot_id):
</span><span id="__span-7-398"><a id="__codelineno-7-398" name="__codelineno-7-398" href="#__codelineno-7-398"></a>            return False, &quot;Account is locked due to too many failed attempts&quot;
</span><span id="__span-7-399"><a id="__codelineno-7-399" name="__codelineno-7-399" href="#__codelineno-7-399"></a>
</span><span id="__span-7-400"><a id="__codelineno-7-400" name="__codelineno-7-400" href="#__codelineno-7-400"></a>        if bot_id not in self.user_credentials:
</span><span id="__span-7-401"><a id="__codelineno-7-401" name="__codelineno-7-401" href="#__codelineno-7-401"></a>            self._record_failed_attempt(bot_id)
</span><span id="__span-7-402"><a id="__codelineno-7-402" name="__codelineno-7-402" href="#__codelineno-7-402"></a>            return False, &quot;Invalid credentials&quot;
</span><span id="__span-7-403"><a id="__codelineno-7-403" name="__codelineno-7-403" href="#__codelineno-7-403"></a>
</span><span id="__span-7-404"><a id="__codelineno-7-404" name="__codelineno-7-404" href="#__codelineno-7-404"></a>        user_data = self.user_credentials[bot_id]
</span><span id="__span-7-405"><a id="__codelineno-7-405" name="__codelineno-7-405" href="#__codelineno-7-405"></a>
</span><span id="__span-7-406"><a id="__codelineno-7-406" name="__codelineno-7-406" href="#__codelineno-7-406"></a>        ## Verify password
</span><span id="__span-7-407"><a id="__codelineno-7-407" name="__codelineno-7-407" href="#__codelineno-7-407"></a>
</span><span id="__span-7-408"><a id="__codelineno-7-408" name="__codelineno-7-408" href="#__codelineno-7-408"></a>        password_hash = hashlib.pbkdf2_hmac(&#39;sha256&#39;,
</span><span id="__span-7-409"><a id="__codelineno-7-409" name="__codelineno-7-409" href="#__codelineno-7-409"></a>                                          password.encode(&#39;utf-8&#39;),
</span><span id="__span-7-410"><a id="__codelineno-7-410" name="__codelineno-7-410" href="#__codelineno-7-410"></a>                                          user_data[&quot;salt&quot;],
</span><span id="__span-7-411"><a id="__codelineno-7-411" name="__codelineno-7-411" href="#__codelineno-7-411"></a>                                          100000)
</span><span id="__span-7-412"><a id="__codelineno-7-412" name="__codelineno-7-412" href="#__codelineno-7-412"></a>
</span><span id="__span-7-413"><a id="__codelineno-7-413" name="__codelineno-7-413" href="#__codelineno-7-413"></a>        if password_hash == user_data[&quot;password_hash&quot;]:
</span><span id="__span-7-414"><a id="__codelineno-7-414" name="__codelineno-7-414" href="#__codelineno-7-414"></a>
</span><span id="__span-7-415"><a id="__codelineno-7-415" name="__codelineno-7-415" href="#__codelineno-7-415"></a>            ## Clear failed attempts on successful authentication
</span><span id="__span-7-416"><a id="__codelineno-7-416" name="__codelineno-7-416" href="#__codelineno-7-416"></a>
</span><span id="__span-7-417"><a id="__codelineno-7-417" name="__codelineno-7-417" href="#__codelineno-7-417"></a>            if bot_id in self.failed_attempts:
</span><span id="__span-7-418"><a id="__codelineno-7-418" name="__codelineno-7-418" href="#__codelineno-7-418"></a>                del self.failed_attempts[bot_id]
</span><span id="__span-7-419"><a id="__codelineno-7-419" name="__codelineno-7-419" href="#__codelineno-7-419"></a>
</span><span id="__span-7-420"><a id="__codelineno-7-420" name="__codelineno-7-420" href="#__codelineno-7-420"></a>            ## Generate MFA code
</span><span id="__span-7-421"><a id="__codelineno-7-421" name="__codelineno-7-421" href="#__codelineno-7-421"></a>
</span><span id="__span-7-422"><a id="__codelineno-7-422" name="__codelineno-7-422" href="#__codelineno-7-422"></a>            mfa_code = self._generate_mfa_code(bot_id)
</span><span id="__span-7-423"><a id="__codelineno-7-423" name="__codelineno-7-423" href="#__codelineno-7-423"></a>            return True, f&quot;MFA code sent. Use: {mfa_code}&quot;  # In production, send via secure channel
</span><span id="__span-7-424"><a id="__codelineno-7-424" name="__codelineno-7-424" href="#__codelineno-7-424"></a>        else:
</span><span id="__span-7-425"><a id="__codelineno-7-425" name="__codelineno-7-425" href="#__codelineno-7-425"></a>            self._record_failed_attempt(bot_id)
</span><span id="__span-7-426"><a id="__codelineno-7-426" name="__codelineno-7-426" href="#__codelineno-7-426"></a>            return False, &quot;Invalid credentials&quot;
</span><span id="__span-7-427"><a id="__codelineno-7-427" name="__codelineno-7-427" href="#__codelineno-7-427"></a>
</span><span id="__span-7-428"><a id="__codelineno-7-428" name="__codelineno-7-428" href="#__codelineno-7-428"></a>    def verify_mfa(self, bot_id: str, mfa_code: str) -&gt; Tuple[bool, Optional[str]]:
</span><span id="__span-7-429"><a id="__codelineno-7-429" name="__codelineno-7-429" href="#__codelineno-7-429"></a>        &quot;&quot;&quot;Verify MFA code and generate session token.&quot;&quot;&quot;
</span><span id="__span-7-430"><a id="__codelineno-7-430" name="__codelineno-7-430" href="#__codelineno-7-430"></a>
</span><span id="__span-7-431"><a id="__codelineno-7-431" name="__codelineno-7-431" href="#__codelineno-7-431"></a>        if bot_id not in self.mfa_codes:
</span><span id="__span-7-432"><a id="__codelineno-7-432" name="__codelineno-7-432" href="#__codelineno-7-432"></a>            return False, &quot;No MFA code generated&quot;
</span><span id="__span-7-433"><a id="__codelineno-7-433" name="__codelineno-7-433" href="#__codelineno-7-433"></a>
</span><span id="__span-7-434"><a id="__codelineno-7-434" name="__codelineno-7-434" href="#__codelineno-7-434"></a>        stored_code, expiry_time = self.mfa_codes[bot_id]
</span><span id="__span-7-435"><a id="__codelineno-7-435" name="__codelineno-7-435" href="#__codelineno-7-435"></a>
</span><span id="__span-7-436"><a id="__codelineno-7-436" name="__codelineno-7-436" href="#__codelineno-7-436"></a>        if time.time() &gt; expiry_time:
</span><span id="__span-7-437"><a id="__codelineno-7-437" name="__codelineno-7-437" href="#__codelineno-7-437"></a>            del self.mfa_codes[bot_id]
</span><span id="__span-7-438"><a id="__codelineno-7-438" name="__codelineno-7-438" href="#__codelineno-7-438"></a>            return False, &quot;MFA code expired&quot;
</span><span id="__span-7-439"><a id="__codelineno-7-439" name="__codelineno-7-439" href="#__codelineno-7-439"></a>
</span><span id="__span-7-440"><a id="__codelineno-7-440" name="__codelineno-7-440" href="#__codelineno-7-440"></a>        if mfa_code == stored_code:
</span><span id="__span-7-441"><a id="__codelineno-7-441" name="__codelineno-7-441" href="#__codelineno-7-441"></a>
</span><span id="__span-7-442"><a id="__codelineno-7-442" name="__codelineno-7-442" href="#__codelineno-7-442"></a>            ## Generate session token
</span><span id="__span-7-443"><a id="__codelineno-7-443" name="__codelineno-7-443" href="#__codelineno-7-443"></a>
</span><span id="__span-7-444"><a id="__codelineno-7-444" name="__codelineno-7-444" href="#__codelineno-7-444"></a>            session_token = secrets.token_urlsafe(32)
</span><span id="__span-7-445"><a id="__codelineno-7-445" name="__codelineno-7-445" href="#__codelineno-7-445"></a>            self.session_tokens[session_token] = {
</span><span id="__span-7-446"><a id="__codelineno-7-446" name="__codelineno-7-446" href="#__codelineno-7-446"></a>                &quot;bot_id&quot;: bot_id,
</span><span id="__span-7-447"><a id="__codelineno-7-447" name="__codelineno-7-447" href="#__codelineno-7-447"></a>                &quot;created&quot;: time.time(),
</span><span id="__span-7-448"><a id="__codelineno-7-448" name="__codelineno-7-448" href="#__codelineno-7-448"></a>                &quot;expires&quot;: time.time() + 3600,  # 1 hour
</span><span id="__span-7-449"><a id="__codelineno-7-449" name="__codelineno-7-449" href="#__codelineno-7-449"></a>                &quot;permissions&quot;: self._get_bot_permissions(bot_id)
</span><span id="__span-7-450"><a id="__codelineno-7-450" name="__codelineno-7-450" href="#__codelineno-7-450"></a>            }
</span><span id="__span-7-451"><a id="__codelineno-7-451" name="__codelineno-7-451" href="#__codelineno-7-451"></a>
</span><span id="__span-7-452"><a id="__codelineno-7-452" name="__codelineno-7-452" href="#__codelineno-7-452"></a>            ## Update last login
</span><span id="__span-7-453"><a id="__codelineno-7-453" name="__codelineno-7-453" href="#__codelineno-7-453"></a>
</span><span id="__span-7-454"><a id="__codelineno-7-454" name="__codelineno-7-454" href="#__codelineno-7-454"></a>            self.user_credentials[bot_id][&quot;last_login&quot;] = time.time()
</span><span id="__span-7-455"><a id="__codelineno-7-455" name="__codelineno-7-455" href="#__codelineno-7-455"></a>
</span><span id="__span-7-456"><a id="__codelineno-7-456" name="__codelineno-7-456" href="#__codelineno-7-456"></a>            ## Clean up MFA code
</span><span id="__span-7-457"><a id="__codelineno-7-457" name="__codelineno-7-457" href="#__codelineno-7-457"></a>
</span><span id="__span-7-458"><a id="__codelineno-7-458" name="__codelineno-7-458" href="#__codelineno-7-458"></a>            del self.mfa_codes[bot_id]
</span><span id="__span-7-459"><a id="__codelineno-7-459" name="__codelineno-7-459" href="#__codelineno-7-459"></a>
</span><span id="__span-7-460"><a id="__codelineno-7-460" name="__codelineno-7-460" href="#__codelineno-7-460"></a>            return True, session_token
</span><span id="__span-7-461"><a id="__codelineno-7-461" name="__codelineno-7-461" href="#__codelineno-7-461"></a>        else:
</span><span id="__span-7-462"><a id="__codelineno-7-462" name="__codelineno-7-462" href="#__codelineno-7-462"></a>            return False, &quot;Invalid MFA code&quot;
</span><span id="__span-7-463"><a id="__codelineno-7-463" name="__codelineno-7-463" href="#__codelineno-7-463"></a>
</span><span id="__span-7-464"><a id="__codelineno-7-464" name="__codelineno-7-464" href="#__codelineno-7-464"></a>    def _generate_mfa_code(self, bot_id: str) -&gt; str:
</span><span id="__span-7-465"><a id="__codelineno-7-465" name="__codelineno-7-465" href="#__codelineno-7-465"></a>        &quot;&quot;&quot;Generate time-based MFA code.&quot;&quot;&quot;
</span><span id="__span-7-466"><a id="__codelineno-7-466" name="__codelineno-7-466" href="#__codelineno-7-466"></a>        mfa_code = f&quot;{secrets.randbelow(999999):06d}&quot;  # 6-digit code
</span><span id="__span-7-467"><a id="__codelineno-7-467" name="__codelineno-7-467" href="#__codelineno-7-467"></a>        expiry_time = time.time() + 300  # 5 minutes
</span><span id="__span-7-468"><a id="__codelineno-7-468" name="__codelineno-7-468" href="#__codelineno-7-468"></a>
</span><span id="__span-7-469"><a id="__codelineno-7-469" name="__codelineno-7-469" href="#__codelineno-7-469"></a>        self.mfa_codes[bot_id] = (mfa_code, expiry_time)
</span><span id="__span-7-470"><a id="__codelineno-7-470" name="__codelineno-7-470" href="#__codelineno-7-470"></a>        return mfa_code
</span><span id="__span-7-471"><a id="__codelineno-7-471" name="__codelineno-7-471" href="#__codelineno-7-471"></a>
</span><span id="__span-7-472"><a id="__codelineno-7-472" name="__codelineno-7-472" href="#__codelineno-7-472"></a>    def _is_account_locked(self, bot_id: str) -&gt; bool:
</span><span id="__span-7-473"><a id="__codelineno-7-473" name="__codelineno-7-473" href="#__codelineno-7-473"></a>        &quot;&quot;&quot;Check if account is locked due to failed attempts.&quot;&quot;&quot;
</span><span id="__span-7-474"><a id="__codelineno-7-474" name="__codelineno-7-474" href="#__codelineno-7-474"></a>        if bot_id not in self.failed_attempts:
</span><span id="__span-7-475"><a id="__codelineno-7-475" name="__codelineno-7-475" href="#__codelineno-7-475"></a>            return False
</span><span id="__span-7-476"><a id="__codelineno-7-476" name="__codelineno-7-476" href="#__codelineno-7-476"></a>
</span><span id="__span-7-477"><a id="__codelineno-7-477" name="__codelineno-7-477" href="#__codelineno-7-477"></a>        attempts, last_attempt_time = self.failed_attempts[bot_id]
</span><span id="__span-7-478"><a id="__codelineno-7-478" name="__codelineno-7-478" href="#__codelineno-7-478"></a>
</span><span id="__span-7-479"><a id="__codelineno-7-479" name="__codelineno-7-479" href="#__codelineno-7-479"></a>        if attempts &gt;= self.lockout_threshold:
</span><span id="__span-7-480"><a id="__codelineno-7-480" name="__codelineno-7-480" href="#__codelineno-7-480"></a>            if time.time() - last_attempt_time &lt; self.lockout_duration:
</span><span id="__span-7-481"><a id="__codelineno-7-481" name="__codelineno-7-481" href="#__codelineno-7-481"></a>                return True
</span><span id="__span-7-482"><a id="__codelineno-7-482" name="__codelineno-7-482" href="#__codelineno-7-482"></a>            else:
</span><span id="__span-7-483"><a id="__codelineno-7-483" name="__codelineno-7-483" href="#__codelineno-7-483"></a>
</span><span id="__span-7-484"><a id="__codelineno-7-484" name="__codelineno-7-484" href="#__codelineno-7-484"></a>                ## Lockout period expired, reset attempts
</span><span id="__span-7-485"><a id="__codelineno-7-485" name="__codelineno-7-485" href="#__codelineno-7-485"></a>
</span><span id="__span-7-486"><a id="__codelineno-7-486" name="__codelineno-7-486" href="#__codelineno-7-486"></a>                del self.failed_attempts[bot_id]
</span><span id="__span-7-487"><a id="__codelineno-7-487" name="__codelineno-7-487" href="#__codelineno-7-487"></a>                return False
</span><span id="__span-7-488"><a id="__codelineno-7-488" name="__codelineno-7-488" href="#__codelineno-7-488"></a>
</span><span id="__span-7-489"><a id="__codelineno-7-489" name="__codelineno-7-489" href="#__codelineno-7-489"></a>        return False
</span><span id="__span-7-490"><a id="__codelineno-7-490" name="__codelineno-7-490" href="#__codelineno-7-490"></a>
</span><span id="__span-7-491"><a id="__codelineno-7-491" name="__codelineno-7-491" href="#__codelineno-7-491"></a>    def _record_failed_attempt(self, bot_id: str) -&gt; None:
</span><span id="__span-7-492"><a id="__codelineno-7-492" name="__codelineno-7-492" href="#__codelineno-7-492"></a>        &quot;&quot;&quot;Record failed authentication attempt.&quot;&quot;&quot;
</span><span id="__span-7-493"><a id="__codelineno-7-493" name="__codelineno-7-493" href="#__codelineno-7-493"></a>        current_time = time.time()
</span><span id="__span-7-494"><a id="__codelineno-7-494" name="__codelineno-7-494" href="#__codelineno-7-494"></a>
</span><span id="__span-7-495"><a id="__codelineno-7-495" name="__codelineno-7-495" href="#__codelineno-7-495"></a>        if bot_id in self.failed_attempts:
</span><span id="__span-7-496"><a id="__codelineno-7-496" name="__codelineno-7-496" href="#__codelineno-7-496"></a>            attempts, _ = self.failed_attempts[bot_id]
</span><span id="__span-7-497"><a id="__codelineno-7-497" name="__codelineno-7-497" href="#__codelineno-7-497"></a>            self.failed_attempts[bot_id] = (attempts + 1, current_time)
</span><span id="__span-7-498"><a id="__codelineno-7-498" name="__codelineno-7-498" href="#__codelineno-7-498"></a>        else:
</span><span id="__span-7-499"><a id="__codelineno-7-499" name="__codelineno-7-499" href="#__codelineno-7-499"></a>            self.failed_attempts[bot_id] = (1, current_time)
</span><span id="__span-7-500"><a id="__codelineno-7-500" name="__codelineno-7-500" href="#__codelineno-7-500"></a>
</span><span id="__span-7-501"><a id="__codelineno-7-501" name="__codelineno-7-501" href="#__codelineno-7-501"></a>    def _get_bot_permissions(self, bot_id: str) -&gt; List[str]:
</span><span id="__span-7-502"><a id="__codelineno-7-502" name="__codelineno-7-502" href="#__codelineno-7-502"></a>        &quot;&quot;&quot;Get permissions for authenticated bot.&quot;&quot;&quot;
</span><span id="__span-7-503"><a id="__codelineno-7-503" name="__codelineno-7-503" href="#__codelineno-7-503"></a>
</span><span id="__span-7-504"><a id="__codelineno-7-504" name="__codelineno-7-504" href="#__codelineno-7-504"></a>        ## In production, this would be role-based
</span><span id="__span-7-505"><a id="__codelineno-7-505" name="__codelineno-7-505" href="#__codelineno-7-505"></a>
</span><span id="__span-7-506"><a id="__codelineno-7-506" name="__codelineno-7-506" href="#__codelineno-7-506"></a>        return [
</span><span id="__span-7-507"><a id="__codelineno-7-507" name="__codelineno-7-507" href="#__codelineno-7-507"></a>            &quot;read_data&quot;,
</span><span id="__span-7-508"><a id="__codelineno-7-508" name="__codelineno-7-508" href="#__codelineno-7-508"></a>            &quot;write_data&quot;, 
</span><span id="__span-7-509"><a id="__codelineno-7-509" name="__codelineno-7-509" href="#__codelineno-7-509"></a>            &quot;execute_workflow&quot;,
</span><span id="__span-7-510"><a id="__codelineno-7-510" name="__codelineno-7-510" href="#__codelineno-7-510"></a>            &quot;send_notifications&quot;
</span><span id="__span-7-511"><a id="__codelineno-7-511" name="__codelineno-7-511" href="#__codelineno-7-511"></a>        ]
</span><span id="__span-7-512"><a id="__codelineno-7-512" name="__codelineno-7-512" href="#__codelineno-7-512"></a>
</span><span id="__span-7-513"><a id="__codelineno-7-513" name="__codelineno-7-513" href="#__codelineno-7-513"></a>    def validate_session(self, session_token: str) -&gt; Tuple[bool, Optional[Dict]]:
</span><span id="__span-7-514"><a id="__codelineno-7-514" name="__codelineno-7-514" href="#__codelineno-7-514"></a>        &quot;&quot;&quot;Validate session token and return bot information.&quot;&quot;&quot;
</span><span id="__span-7-515"><a id="__codelineno-7-515" name="__codelineno-7-515" href="#__codelineno-7-515"></a>        if session_token not in self.session_tokens:
</span><span id="__span-7-516"><a id="__codelineno-7-516" name="__codelineno-7-516" href="#__codelineno-7-516"></a>            return False, None
</span><span id="__span-7-517"><a id="__codelineno-7-517" name="__codelineno-7-517" href="#__codelineno-7-517"></a>
</span><span id="__span-7-518"><a id="__codelineno-7-518" name="__codelineno-7-518" href="#__codelineno-7-518"></a>        session_data = self.session_tokens[session_token]
</span><span id="__span-7-519"><a id="__codelineno-7-519" name="__codelineno-7-519" href="#__codelineno-7-519"></a>
</span><span id="__span-7-520"><a id="__codelineno-7-520" name="__codelineno-7-520" href="#__codelineno-7-520"></a>        if time.time() &gt; session_data[&quot;expires&quot;]:
</span><span id="__span-7-521"><a id="__codelineno-7-521" name="__codelineno-7-521" href="#__codelineno-7-521"></a>            del self.session_tokens[session_token]
</span><span id="__span-7-522"><a id="__codelineno-7-522" name="__codelineno-7-522" href="#__codelineno-7-522"></a>            return False, None
</span><span id="__span-7-523"><a id="__codelineno-7-523" name="__codelineno-7-523" href="#__codelineno-7-523"></a>
</span><span id="__span-7-524"><a id="__codelineno-7-524" name="__codelineno-7-524" href="#__codelineno-7-524"></a>        return True, session_data
</span></code></pre></div>
<h4 id="data-encryption-and-secure-storage">Data Encryption and Secure Storage<a class="headerlink" href="#data-encryption-and-secure-storage" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cryptography.fernet</span><span class="w"> </span><span class="kn">import</span> <span class="n">Fernet</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cryptography.hazmat.primitives</span><span class="w"> </span><span class="kn">import</span> <span class="n">hashes</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">cryptography.hazmat.primitives.kdf.pbkdf2</span><span class="w"> </span><span class="kn">import</span> <span class="n">PBKDF2HMAC</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="k">class</span><span class="w"> </span><span class="nc">SecureDataManager</span><span class="p">:</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="sd">    Secure data management for RPA systems.</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="sd">    Handles encryption, secure storage, and access logging.</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master_password</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_password</span> <span class="o">=</span> <span class="n">master_password</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">encryption_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_derive_key</span><span class="p">(</span><span class="n">master_password</span><span class="p">)</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cipher_suite</span> <span class="o">=</span> <span class="n">Fernet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encryption_key</span><span class="p">)</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">access_log</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_derive_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Derive encryption key from master password.&quot;&quot;&quot;</span>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>        <span class="n">password_bytes</span> <span class="o">=</span> <span class="n">password</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>        <span class="n">salt</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;rpa_salt_12345&#39;</span>  <span class="c1"># In production, use random salt stored securely</span>
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>        <span class="n">kdf</span> <span class="o">=</span> <span class="n">PBKDF2HMAC</span><span class="p">(</span>
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a>            <span class="n">algorithm</span><span class="o">=</span><span class="n">hashes</span><span class="o">.</span><span class="n">SHA256</span><span class="p">(),</span>
</span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>            <span class="n">length</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>
</span><span id="__span-8-28"><a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a>            <span class="n">salt</span><span class="o">=</span><span class="n">salt</span><span class="p">,</span>
</span><span id="__span-8-29"><a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a>            <span class="n">iterations</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span>
</span><span id="__span-8-30"><a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a>        <span class="p">)</span>
</span><span id="__span-8-31"><a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a>
</span><span id="__span-8-32"><a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>        <span class="n">key</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64encode</span><span class="p">(</span><span class="n">kdf</span><span class="o">.</span><span class="n">derive</span><span class="p">(</span><span class="n">password_bytes</span><span class="p">))</span>
</span><span id="__span-8-33"><a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a>        <span class="k">return</span> <span class="n">key</span>
</span><span id="__span-8-34"><a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>
</span><span id="__span-8-35"><a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">encrypt_sensitive_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-8-36"><a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Encrypt sensitive data before storage.&quot;&quot;&quot;</span>
</span><span id="__span-8-37"><a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a>
</span><span id="__span-8-38"><a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a>        <span class="c1">## Add metadata</span>
</span><span id="__span-8-39"><a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a>
</span><span id="__span-8-40"><a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>        <span class="n">encrypted_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-41"><a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>            <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span>
</span><span id="__span-8-42"><a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a>            <span class="s2">&quot;data_type&quot;</span><span class="p">:</span> <span class="n">data_type</span><span class="p">,</span>
</span><span id="__span-8-43"><a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a>            <span class="s2">&quot;encrypted_at&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
</span><span id="__span-8-44"><a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a>            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span>
</span><span id="__span-8-45"><a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>        <span class="p">}</span>
</span><span id="__span-8-46"><a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a>
</span><span id="__span-8-47"><a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a>        <span class="c1">## Convert to JSON and encrypt</span>
</span><span id="__span-8-48"><a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a>
</span><span id="__span-8-49"><a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a>        <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">encrypted_data</span><span class="p">)</span>
</span><span id="__span-8-50"><a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a>        <span class="n">encrypted_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cipher_suite</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">json_data</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span><span id="__span-8-51"><a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a>
</span><span id="__span-8-52"><a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a>        <span class="c1">## Log access</span>
</span><span id="__span-8-53"><a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a>
</span><span id="__span-8-54"><a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_log_access</span><span class="p">(</span><span class="s2">&quot;encrypt&quot;</span><span class="p">,</span> <span class="n">data_type</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)))</span>
</span><span id="__span-8-55"><a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a>
</span><span id="__span-8-56"><a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a>        <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64encode</span><span class="p">(</span><span class="n">encrypted_bytes</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
</span><span id="__span-8-57"><a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a>
</span><span id="__span-8-58"><a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">decrypt_sensitive_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encrypted_data</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expected_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
</span><span id="__span-8-59"><a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Decrypt sensitive data for processing.&quot;&quot;&quot;</span>
</span><span id="__span-8-60"><a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a>
</span><span id="__span-8-61"><a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-8-62"><a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a>
</span><span id="__span-8-63"><a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a>            <span class="c1">## Decode and decrypt</span>
</span><span id="__span-8-64"><a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a>
</span><span id="__span-8-65"><a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a>            <span class="n">encrypted_bytes</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">urlsafe_b64decode</span><span class="p">(</span><span class="n">encrypted_data</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
</span><span id="__span-8-66"><a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a>            <span class="n">decrypted_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cipher_suite</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">encrypted_bytes</span><span class="p">)</span>
</span><span id="__span-8-67"><a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a>            <span class="n">decrypted_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">decrypted_bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
</span><span id="__span-8-68"><a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a>
</span><span id="__span-8-69"><a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a>            <span class="c1">## Verify data type</span>
</span><span id="__span-8-70"><a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a>
</span><span id="__span-8-71"><a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a>            <span class="k">if</span> <span class="n">decrypted_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data_type&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="n">expected_type</span><span class="p">:</span>
</span><span id="__span-8-72"><a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data type mismatch: expected </span><span class="si">{</span><span class="n">expected_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-73"><a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a>
</span><span id="__span-8-74"><a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a>            <span class="c1">## Log access</span>
</span><span id="__span-8-75"><a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a>
</span><span id="__span-8-76"><a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log_access</span><span class="p">(</span><span class="s2">&quot;decrypt&quot;</span><span class="p">,</span> <span class="n">expected_type</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">decrypted_data</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">])))</span>
</span><span id="__span-8-77"><a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a>
</span><span id="__span-8-78"><a id="__codelineno-8-78" name="__codelineno-8-78" href="#__codelineno-8-78"></a>            <span class="k">return</span> <span class="n">decrypted_data</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
</span><span id="__span-8-79"><a id="__codelineno-8-79" name="__codelineno-8-79" href="#__codelineno-8-79"></a>
</span><span id="__span-8-80"><a id="__codelineno-8-80" name="__codelineno-8-80" href="#__codelineno-8-80"></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-8-81"><a id="__codelineno-8-81" name="__codelineno-8-81" href="#__codelineno-8-81"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_log_access</span><span class="p">(</span><span class="s2">&quot;decrypt_failed&quot;</span><span class="p">,</span> <span class="n">expected_type</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</span><span id="__span-8-82"><a id="__codelineno-8-82" name="__codelineno-8-82" href="#__codelineno-8-82"></a>            <span class="k">return</span> <span class="kc">None</span>
</span><span id="__span-8-83"><a id="__codelineno-8-83" name="__codelineno-8-83" href="#__codelineno-8-83"></a>
</span><span id="__span-8-84"><a id="__codelineno-8-84" name="__codelineno-8-84" href="#__codelineno-8-84"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_log_access</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="__span-8-85"><a id="__codelineno-8-85" name="__codelineno-8-85" href="#__codelineno-8-85"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Log data access for audit purposes.&quot;&quot;&quot;</span>
</span><span id="__span-8-86"><a id="__codelineno-8-86" name="__codelineno-8-86" href="#__codelineno-8-86"></a>        <span class="n">log_entry</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-87"><a id="__codelineno-8-87" name="__codelineno-8-87" href="#__codelineno-8-87"></a>            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span>
</span><span id="__span-8-88"><a id="__codelineno-8-88" name="__codelineno-8-88" href="#__codelineno-8-88"></a>            <span class="s2">&quot;operation&quot;</span><span class="p">:</span> <span class="n">operation</span><span class="p">,</span>
</span><span id="__span-8-89"><a id="__codelineno-8-89" name="__codelineno-8-89" href="#__codelineno-8-89"></a>            <span class="s2">&quot;data_type&quot;</span><span class="p">:</span> <span class="n">data_type</span><span class="p">,</span>
</span><span id="__span-8-90"><a id="__codelineno-8-90" name="__codelineno-8-90" href="#__codelineno-8-90"></a>            <span class="s2">&quot;data_size&quot;</span><span class="p">:</span> <span class="n">data_size</span><span class="p">,</span>
</span><span id="__span-8-91"><a id="__codelineno-8-91" name="__codelineno-8-91" href="#__codelineno-8-91"></a>            <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">error</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-8-92"><a id="__codelineno-8-92" name="__codelineno-8-92" href="#__codelineno-8-92"></a>            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">error</span>
</span><span id="__span-8-93"><a id="__codelineno-8-93" name="__codelineno-8-93" href="#__codelineno-8-93"></a>        <span class="p">}</span>
</span><span id="__span-8-94"><a id="__codelineno-8-94" name="__codelineno-8-94" href="#__codelineno-8-94"></a>
</span><span id="__span-8-95"><a id="__codelineno-8-95" name="__codelineno-8-95" href="#__codelineno-8-95"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">access_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>
</span><span id="__span-8-96"><a id="__codelineno-8-96" name="__codelineno-8-96" href="#__codelineno-8-96"></a>
</span><span id="__span-8-97"><a id="__codelineno-8-97" name="__codelineno-8-97" href="#__codelineno-8-97"></a>        <span class="c1">## In production, write to secure audit log</span>
</span><span id="__span-8-98"><a id="__codelineno-8-98" name="__codelineno-8-98" href="#__codelineno-8-98"></a>
</span><span id="__span-8-99"><a id="__codelineno-8-99" name="__codelineno-8-99" href="#__codelineno-8-99"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;AUDIT: </span><span class="si">{</span><span class="n">operation</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">data_type</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="s1">&#39;SUCCESS&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;FAILED&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-100"><a id="__codelineno-8-100" name="__codelineno-8-100" href="#__codelineno-8-100"></a>
</span><span id="__span-8-101"><a id="__codelineno-8-101" name="__codelineno-8-101" href="#__codelineno-8-101"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_access_audit_trail</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
</span><span id="__span-8-102"><a id="__codelineno-8-102" name="__codelineno-8-102" href="#__codelineno-8-102"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve audit trail for compliance reporting.&quot;&quot;&quot;</span>
</span><span id="__span-8-103"><a id="__codelineno-8-103" name="__codelineno-8-103" href="#__codelineno-8-103"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_log</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="__span-8-104"><a id="__codelineno-8-104" name="__codelineno-8-104" href="#__codelineno-8-104"></a>
</span><span id="__span-8-105"><a id="__codelineno-8-105" name="__codelineno-8-105" href="#__codelineno-8-105"></a><span class="c1">### Maintainability Challenges and Solutions</span>
</span><span id="__span-8-106"><a id="__codelineno-8-106" name="__codelineno-8-106" href="#__codelineno-8-106"></a>
</span><span id="__span-8-107"><a id="__codelineno-8-107" name="__codelineno-8-107" href="#__codelineno-8-107"></a><span class="c1">#### Bot Lifecycle Management</span>
</span><span id="__span-8-108"><a id="__codelineno-8-108" name="__codelineno-8-108" href="#__codelineno-8-108"></a>
</span><span id="__span-8-109"><a id="__codelineno-8-109" name="__codelineno-8-109" href="#__codelineno-8-109"></a><span class="err">```</span><span class="n">python</span>
</span><span id="__span-8-110"><a id="__codelineno-8-110" name="__codelineno-8-110" href="#__codelineno-8-110"></a><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
</span><span id="__span-8-111"><a id="__codelineno-8-111" name="__codelineno-8-111" href="#__codelineno-8-111"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span>
</span><span id="__span-8-112"><a id="__codelineno-8-112" name="__codelineno-8-112" href="#__codelineno-8-112"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-8-113"><a id="__codelineno-8-113" name="__codelineno-8-113" href="#__codelineno-8-113"></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="__span-8-114"><a id="__codelineno-8-114" name="__codelineno-8-114" href="#__codelineno-8-114"></a>
</span><span id="__span-8-115"><a id="__codelineno-8-115" name="__codelineno-8-115" href="#__codelineno-8-115"></a><span class="k">class</span><span class="w"> </span><span class="nc">BotStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="__span-8-116"><a id="__codelineno-8-116" name="__codelineno-8-116" href="#__codelineno-8-116"></a>    <span class="n">DEVELOPMENT</span> <span class="o">=</span> <span class="s2">&quot;development&quot;</span>
</span><span id="__span-8-117"><a id="__codelineno-8-117" name="__codelineno-8-117" href="#__codelineno-8-117"></a>    <span class="n">TESTING</span> <span class="o">=</span> <span class="s2">&quot;testing&quot;</span>  
</span><span id="__span-8-118"><a id="__codelineno-8-118" name="__codelineno-8-118" href="#__codelineno-8-118"></a>    <span class="n">PRODUCTION</span> <span class="o">=</span> <span class="s2">&quot;production&quot;</span>
</span><span id="__span-8-119"><a id="__codelineno-8-119" name="__codelineno-8-119" href="#__codelineno-8-119"></a>    <span class="n">MAINTENANCE</span> <span class="o">=</span> <span class="s2">&quot;maintenance&quot;</span>
</span><span id="__span-8-120"><a id="__codelineno-8-120" name="__codelineno-8-120" href="#__codelineno-8-120"></a>    <span class="n">DEPRECATED</span> <span class="o">=</span> <span class="s2">&quot;deprecated&quot;</span>
</span><span id="__span-8-121"><a id="__codelineno-8-121" name="__codelineno-8-121" href="#__codelineno-8-121"></a>
</span><span id="__span-8-122"><a id="__codelineno-8-122" name="__codelineno-8-122" href="#__codelineno-8-122"></a><span class="nd">@dataclass</span>
</span><span id="__span-8-123"><a id="__codelineno-8-123" name="__codelineno-8-123" href="#__codelineno-8-123"></a><span class="k">class</span><span class="w"> </span><span class="nc">BotVersion</span><span class="p">:</span>
</span><span id="__span-8-124"><a id="__codelineno-8-124" name="__codelineno-8-124" href="#__codelineno-8-124"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a version of an RPA bot.&quot;&quot;&quot;</span>
</span><span id="__span-8-125"><a id="__codelineno-8-125" name="__codelineno-8-125" href="#__codelineno-8-125"></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-8-126"><a id="__codelineno-8-126" name="__codelineno-8-126" href="#__codelineno-8-126"></a>    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-8-127"><a id="__codelineno-8-127" name="__codelineno-8-127" href="#__codelineno-8-127"></a>    <span class="n">created_date</span><span class="p">:</span> <span class="n">datetime</span>
</span><span id="__span-8-128"><a id="__codelineno-8-128" name="__codelineno-8-128" href="#__codelineno-8-128"></a>    <span class="n">deployment_date</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-8-129"><a id="__codelineno-8-129" name="__codelineno-8-129" href="#__codelineno-8-129"></a>    <span class="n">status</span><span class="p">:</span> <span class="n">BotStatus</span> <span class="o">=</span> <span class="n">BotStatus</span><span class="o">.</span><span class="n">DEVELOPMENT</span>
</span><span id="__span-8-130"><a id="__codelineno-8-130" name="__codelineno-8-130" href="#__codelineno-8-130"></a>    <span class="n">changes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</span><span id="__span-8-131"><a id="__codelineno-8-131" name="__codelineno-8-131" href="#__codelineno-8-131"></a>    <span class="n">rollback_available</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-8-132"><a id="__codelineno-8-132" name="__codelineno-8-132" href="#__codelineno-8-132"></a>
</span><span id="__span-8-133"><a id="__codelineno-8-133" name="__codelineno-8-133" href="#__codelineno-8-133"></a><span class="k">class</span><span class="w"> </span><span class="nc">RPALifecycleManager</span><span class="p">:</span>
</span><span id="__span-8-134"><a id="__codelineno-8-134" name="__codelineno-8-134" href="#__codelineno-8-134"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-8-135"><a id="__codelineno-8-135" name="__codelineno-8-135" href="#__codelineno-8-135"></a><span class="sd">    Manages the lifecycle of RPA bots for maintainability.</span>
</span><span id="__span-8-136"><a id="__codelineno-8-136" name="__codelineno-8-136" href="#__codelineno-8-136"></a><span class="sd">    Handles versioning, deployment, monitoring, and updates.</span>
</span><span id="__span-8-137"><a id="__codelineno-8-137" name="__codelineno-8-137" href="#__codelineno-8-137"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-8-138"><a id="__codelineno-8-138" name="__codelineno-8-138" href="#__codelineno-8-138"></a>
</span><span id="__span-8-139"><a id="__codelineno-8-139" name="__codelineno-8-139" href="#__codelineno-8-139"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-8-140"><a id="__codelineno-8-140" name="__codelineno-8-140" href="#__codelineno-8-140"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-8-141"><a id="__codelineno-8-141" name="__codelineno-8-141" href="#__codelineno-8-141"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">deployment_history</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-8-142"><a id="__codelineno-8-142" name="__codelineno-8-142" href="#__codelineno-8-142"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">performance_metrics</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-8-143"><a id="__codelineno-8-143" name="__codelineno-8-143" href="#__codelineno-8-143"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">maintenance_schedule</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-8-144"><a id="__codelineno-8-144" name="__codelineno-8-144" href="#__codelineno-8-144"></a>
</span><span id="__span-8-145"><a id="__codelineno-8-145" name="__codelineno-8-145" href="#__codelineno-8-145"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_bot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">initial_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-8-146"><a id="__codelineno-8-146" name="__codelineno-8-146" href="#__codelineno-8-146"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a new bot in the lifecycle management system.&quot;&quot;&quot;</span>
</span><span id="__span-8-147"><a id="__codelineno-8-147" name="__codelineno-8-147" href="#__codelineno-8-147"></a>
</span><span id="__span-8-148"><a id="__codelineno-8-148" name="__codelineno-8-148" href="#__codelineno-8-148"></a>        <span class="n">initial_version</span> <span class="o">=</span> <span class="n">BotVersion</span><span class="p">(</span>
</span><span id="__span-8-149"><a id="__codelineno-8-149" name="__codelineno-8-149" href="#__codelineno-8-149"></a>            <span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-8-150"><a id="__codelineno-8-150" name="__codelineno-8-150" href="#__codelineno-8-150"></a>            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Initial bot version&quot;</span><span class="p">,</span>
</span><span id="__span-8-151"><a id="__codelineno-8-151" name="__codelineno-8-151" href="#__codelineno-8-151"></a>            <span class="n">created_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="__span-8-152"><a id="__codelineno-8-152" name="__codelineno-8-152" href="#__codelineno-8-152"></a>            <span class="n">status</span><span class="o">=</span><span class="n">BotStatus</span><span class="o">.</span><span class="n">DEVELOPMENT</span><span class="p">,</span>
</span><span id="__span-8-153"><a id="__codelineno-8-153" name="__codelineno-8-153" href="#__codelineno-8-153"></a>            <span class="n">changes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Initial implementation&quot;</span><span class="p">]</span>
</span><span id="__span-8-154"><a id="__codelineno-8-154" name="__codelineno-8-154" href="#__codelineno-8-154"></a>        <span class="p">)</span>
</span><span id="__span-8-155"><a id="__codelineno-8-155" name="__codelineno-8-155" href="#__codelineno-8-155"></a>
</span><span id="__span-8-156"><a id="__codelineno-8-156" name="__codelineno-8-156" href="#__codelineno-8-156"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-157"><a id="__codelineno-8-157" name="__codelineno-8-157" href="#__codelineno-8-157"></a>            <span class="s2">&quot;bot_name&quot;</span><span class="p">:</span> <span class="n">initial_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">),</span>
</span><span id="__span-8-158"><a id="__codelineno-8-158" name="__codelineno-8-158" href="#__codelineno-8-158"></a>            <span class="s2">&quot;purpose&quot;</span><span class="p">:</span> <span class="n">initial_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;purpose&quot;</span><span class="p">,</span> <span class="s2">&quot;Automated task execution&quot;</span><span class="p">),</span>
</span><span id="__span-8-159"><a id="__codelineno-8-159" name="__codelineno-8-159" href="#__codelineno-8-159"></a>            <span class="s2">&quot;current_version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-8-160"><a id="__codelineno-8-160" name="__codelineno-8-160" href="#__codelineno-8-160"></a>            <span class="s2">&quot;versions&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;1.0.0&quot;</span><span class="p">:</span> <span class="n">initial_version</span><span class="p">},</span>
</span><span id="__span-8-161"><a id="__codelineno-8-161" name="__codelineno-8-161" href="#__codelineno-8-161"></a>            <span class="s2">&quot;configuration&quot;</span><span class="p">:</span> <span class="n">initial_config</span><span class="p">,</span>
</span><span id="__span-8-162"><a id="__codelineno-8-162" name="__codelineno-8-162" href="#__codelineno-8-162"></a>            <span class="s2">&quot;dependencies&quot;</span><span class="p">:</span> <span class="n">initial_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dependencies&quot;</span><span class="p">,</span> <span class="p">[]),</span>
</span><span id="__span-8-163"><a id="__codelineno-8-163" name="__codelineno-8-163" href="#__codelineno-8-163"></a>            <span class="s2">&quot;environment_requirements&quot;</span><span class="p">:</span> <span class="n">initial_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;environment&quot;</span><span class="p">,</span> <span class="p">{}),</span>
</span><span id="__span-8-164"><a id="__codelineno-8-164" name="__codelineno-8-164" href="#__codelineno-8-164"></a>            <span class="s2">&quot;last_health_check&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-8-165"><a id="__codelineno-8-165" name="__codelineno-8-165" href="#__codelineno-8-165"></a>            <span class="s2">&quot;maintenance_window&quot;</span><span class="p">:</span> <span class="n">initial_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;maintenance_window&quot;</span><span class="p">,</span> <span class="s2">&quot;02:00-04:00&quot;</span><span class="p">)</span>
</span><span id="__span-8-166"><a id="__codelineno-8-166" name="__codelineno-8-166" href="#__codelineno-8-166"></a>        <span class="p">}</span>
</span><span id="__span-8-167"><a id="__codelineno-8-167" name="__codelineno-8-167" href="#__codelineno-8-167"></a>
</span><span id="__span-8-168"><a id="__codelineno-8-168" name="__codelineno-8-168" href="#__codelineno-8-168"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-8-169"><a id="__codelineno-8-169" name="__codelineno-8-169" href="#__codelineno-8-169"></a>
</span><span id="__span-8-170"><a id="__codelineno-8-170" name="__codelineno-8-170" href="#__codelineno-8-170"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">deploy_bot_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">deployment_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-8-171"><a id="__codelineno-8-171" name="__codelineno-8-171" href="#__codelineno-8-171"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Deploy a specific version of a bot to production.&quot;&quot;&quot;</span>
</span><span id="__span-8-172"><a id="__codelineno-8-172" name="__codelineno-8-172" href="#__codelineno-8-172"></a>
</span><span id="__span-8-173"><a id="__codelineno-8-173" name="__codelineno-8-173" href="#__codelineno-8-173"></a>        <span class="k">if</span> <span class="n">bot_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">:</span>
</span><span id="__span-8-174"><a id="__codelineno-8-174" name="__codelineno-8-174" href="#__codelineno-8-174"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2"> not registered&quot;</span><span class="p">)</span>
</span><span id="__span-8-175"><a id="__codelineno-8-175" name="__codelineno-8-175" href="#__codelineno-8-175"></a>
</span><span id="__span-8-176"><a id="__codelineno-8-176" name="__codelineno-8-176" href="#__codelineno-8-176"></a>        <span class="n">bot_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span>
</span><span id="__span-8-177"><a id="__codelineno-8-177" name="__codelineno-8-177" href="#__codelineno-8-177"></a>
</span><span id="__span-8-178"><a id="__codelineno-8-178" name="__codelineno-8-178" href="#__codelineno-8-178"></a>        <span class="k">if</span> <span class="n">version</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">bot_info</span><span class="p">[</span><span class="s2">&quot;versions&quot;</span><span class="p">]:</span>
</span><span id="__span-8-179"><a id="__codelineno-8-179" name="__codelineno-8-179" href="#__codelineno-8-179"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Version </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2"> not found for bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-180"><a id="__codelineno-8-180" name="__codelineno-8-180" href="#__codelineno-8-180"></a>
</span><span id="__span-8-181"><a id="__codelineno-8-181" name="__codelineno-8-181" href="#__codelineno-8-181"></a>        <span class="n">bot_version</span> <span class="o">=</span> <span class="n">bot_info</span><span class="p">[</span><span class="s2">&quot;versions&quot;</span><span class="p">][</span><span class="n">version</span><span class="p">]</span>
</span><span id="__span-8-182"><a id="__codelineno-8-182" name="__codelineno-8-182" href="#__codelineno-8-182"></a>
</span><span id="__span-8-183"><a id="__codelineno-8-183" name="__codelineno-8-183" href="#__codelineno-8-183"></a>        <span class="c1"># Pre-deployment checks</span>
</span><span id="__span-8-184"><a id="__codelineno-8-184" name="__codelineno-8-184" href="#__codelineno-8-184"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_deployment_readiness</span><span class="p">(</span><span class="n">bot_id</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
</span><span id="__span-8-185"><a id="__codelineno-8-185" name="__codelineno-8-185" href="#__codelineno-8-185"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-8-186"><a id="__codelineno-8-186" name="__codelineno-8-186" href="#__codelineno-8-186"></a>
</span><span id="__span-8-187"><a id="__codelineno-8-187" name="__codelineno-8-187" href="#__codelineno-8-187"></a>        <span class="c1"># Backup current production version</span>
</span><span id="__span-8-188"><a id="__codelineno-8-188" name="__codelineno-8-188" href="#__codelineno-8-188"></a>        <span class="n">current_version</span> <span class="o">=</span> <span class="n">bot_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;current_version&quot;</span><span class="p">)</span>
</span><span id="__span-8-189"><a id="__codelineno-8-189" name="__codelineno-8-189" href="#__codelineno-8-189"></a>        <span class="k">if</span> <span class="n">current_version</span> <span class="ow">and</span> <span class="n">current_version</span> <span class="o">!=</span> <span class="n">version</span><span class="p">:</span>
</span><span id="__span-8-190"><a id="__codelineno-8-190" name="__codelineno-8-190" href="#__codelineno-8-190"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_backup_current_version</span><span class="p">(</span><span class="n">bot_id</span><span class="p">,</span> <span class="n">current_version</span><span class="p">)</span>
</span><span id="__span-8-191"><a id="__codelineno-8-191" name="__codelineno-8-191" href="#__codelineno-8-191"></a>
</span><span id="__span-8-192"><a id="__codelineno-8-192" name="__codelineno-8-192" href="#__codelineno-8-192"></a>        <span class="c1"># Deploy new version</span>
</span><span id="__span-8-193"><a id="__codelineno-8-193" name="__codelineno-8-193" href="#__codelineno-8-193"></a>        <span class="n">bot_version</span><span class="o">.</span><span class="n">deployment_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="__span-8-194"><a id="__codelineno-8-194" name="__codelineno-8-194" href="#__codelineno-8-194"></a>        <span class="n">bot_version</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">BotStatus</span><span class="o">.</span><span class="n">PRODUCTION</span>
</span><span id="__span-8-195"><a id="__codelineno-8-195" name="__codelineno-8-195" href="#__codelineno-8-195"></a>        <span class="n">bot_info</span><span class="p">[</span><span class="s2">&quot;current_version&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">version</span>
</span><span id="__span-8-196"><a id="__codelineno-8-196" name="__codelineno-8-196" href="#__codelineno-8-196"></a>
</span><span id="__span-8-197"><a id="__codelineno-8-197" name="__codelineno-8-197" href="#__codelineno-8-197"></a>        <span class="c1"># Record deployment</span>
</span><span id="__span-8-198"><a id="__codelineno-8-198" name="__codelineno-8-198" href="#__codelineno-8-198"></a>        <span class="n">deployment_record</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-199"><a id="__codelineno-8-199" name="__codelineno-8-199" href="#__codelineno-8-199"></a>            <span class="s2">&quot;bot_id&quot;</span><span class="p">:</span> <span class="n">bot_id</span><span class="p">,</span>
</span><span id="__span-8-200"><a id="__codelineno-8-200" name="__codelineno-8-200" href="#__codelineno-8-200"></a>            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
</span><span id="__span-8-201"><a id="__codelineno-8-201" name="__codelineno-8-201" href="#__codelineno-8-201"></a>            <span class="s2">&quot;deployment_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="__span-8-202"><a id="__codelineno-8-202" name="__codelineno-8-202" href="#__codelineno-8-202"></a>            <span class="s2">&quot;deployed_by&quot;</span><span class="p">:</span> <span class="n">deployment_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;deployed_by&quot;</span><span class="p">,</span> <span class="s2">&quot;system&quot;</span><span class="p">),</span>
</span><span id="__span-8-203"><a id="__codelineno-8-203" name="__codelineno-8-203" href="#__codelineno-8-203"></a>            <span class="s2">&quot;deployment_notes&quot;</span><span class="p">:</span> <span class="n">deployment_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;notes&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
</span><span id="__span-8-204"><a id="__codelineno-8-204" name="__codelineno-8-204" href="#__codelineno-8-204"></a>            <span class="s2">&quot;rollback_version&quot;</span><span class="p">:</span> <span class="n">current_version</span>
</span><span id="__span-8-205"><a id="__codelineno-8-205" name="__codelineno-8-205" href="#__codelineno-8-205"></a>        <span class="p">}</span>
</span><span id="__span-8-206"><a id="__codelineno-8-206" name="__codelineno-8-206" href="#__codelineno-8-206"></a>
</span><span id="__span-8-207"><a id="__codelineno-8-207" name="__codelineno-8-207" href="#__codelineno-8-207"></a>        <span class="k">if</span> <span class="n">bot_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">deployment_history</span><span class="p">:</span>
</span><span id="__span-8-208"><a id="__codelineno-8-208" name="__codelineno-8-208" href="#__codelineno-8-208"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">deployment_history</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-209"><a id="__codelineno-8-209" name="__codelineno-8-209" href="#__codelineno-8-209"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">deployment_history</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deployment_record</span><span class="p">)</span>
</span><span id="__span-8-210"><a id="__codelineno-8-210" name="__codelineno-8-210" href="#__codelineno-8-210"></a>
</span><span id="__span-8-211"><a id="__codelineno-8-211" name="__codelineno-8-211" href="#__codelineno-8-211"></a>        <span class="c1"># Schedule first health check</span>
</span><span id="__span-8-212"><a id="__codelineno-8-212" name="__codelineno-8-212" href="#__codelineno-8-212"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_health_check</span><span class="p">(</span><span class="n">bot_id</span><span class="p">)</span>
</span><span id="__span-8-213"><a id="__codelineno-8-213" name="__codelineno-8-213" href="#__codelineno-8-213"></a>
</span><span id="__span-8-214"><a id="__codelineno-8-214" name="__codelineno-8-214" href="#__codelineno-8-214"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-8-215"><a id="__codelineno-8-215" name="__codelineno-8-215" href="#__codelineno-8-215"></a>
</span><span id="__span-8-216"><a id="__codelineno-8-216" name="__codelineno-8-216" href="#__codelineno-8-216"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">perform_health_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="__span-8-217"><a id="__codelineno-8-217" name="__codelineno-8-217" href="#__codelineno-8-217"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform comprehensive health check on a bot.&quot;&quot;&quot;</span>
</span><span id="__span-8-218"><a id="__codelineno-8-218" name="__codelineno-8-218" href="#__codelineno-8-218"></a>
</span><span id="__span-8-219"><a id="__codelineno-8-219" name="__codelineno-8-219" href="#__codelineno-8-219"></a>        <span class="k">if</span> <span class="n">bot_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">:</span>
</span><span id="__span-8-220"><a id="__codelineno-8-220" name="__codelineno-8-220" href="#__codelineno-8-220"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2"> not registered&quot;</span><span class="p">)</span>
</span><span id="__span-8-221"><a id="__codelineno-8-221" name="__codelineno-8-221" href="#__codelineno-8-221"></a>
</span><span id="__span-8-222"><a id="__codelineno-8-222" name="__codelineno-8-222" href="#__codelineno-8-222"></a>        <span class="n">bot_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span>
</span><span id="__span-8-223"><a id="__codelineno-8-223" name="__codelineno-8-223" href="#__codelineno-8-223"></a>        <span class="n">health_status</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-224"><a id="__codelineno-8-224" name="__codelineno-8-224" href="#__codelineno-8-224"></a>            <span class="s2">&quot;bot_id&quot;</span><span class="p">:</span> <span class="n">bot_id</span><span class="p">,</span>
</span><span id="__span-8-225"><a id="__codelineno-8-225" name="__codelineno-8-225" href="#__codelineno-8-225"></a>            <span class="s2">&quot;check_time&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="__span-8-226"><a id="__codelineno-8-226" name="__codelineno-8-226" href="#__codelineno-8-226"></a>            <span class="s2">&quot;overall_health&quot;</span><span class="p">:</span> <span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
</span><span id="__span-8-227"><a id="__codelineno-8-227" name="__codelineno-8-227" href="#__codelineno-8-227"></a>            <span class="s2">&quot;issues&quot;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-8-228"><a id="__codelineno-8-228" name="__codelineno-8-228" href="#__codelineno-8-228"></a>            <span class="s2">&quot;performance_metrics&quot;</span><span class="p">:</span> <span class="p">{},</span>
</span><span id="__span-8-229"><a id="__codelineno-8-229" name="__codelineno-8-229" href="#__codelineno-8-229"></a>            <span class="s2">&quot;recommendations&quot;</span><span class="p">:</span> <span class="p">[]</span>
</span><span id="__span-8-230"><a id="__codelineno-8-230" name="__codelineno-8-230" href="#__codelineno-8-230"></a>        <span class="p">}</span>
</span><span id="__span-8-231"><a id="__codelineno-8-231" name="__codelineno-8-231" href="#__codelineno-8-231"></a>
</span><span id="__span-8-232"><a id="__codelineno-8-232" name="__codelineno-8-232" href="#__codelineno-8-232"></a>        <span class="c1"># Check bot execution status</span>
</span><span id="__span-8-233"><a id="__codelineno-8-233" name="__codelineno-8-233" href="#__codelineno-8-233"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_bot_execution_status</span><span class="p">(</span><span class="n">bot_id</span><span class="p">):</span>
</span><span id="__span-8-234"><a id="__codelineno-8-234" name="__codelineno-8-234" href="#__codelineno-8-234"></a>            <span class="n">health_status</span><span class="p">[</span><span class="s2">&quot;issues&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Bot execution failures detected&quot;</span><span class="p">)</span>
</span><span id="__span-8-235"><a id="__codelineno-8-235" name="__codelineno-8-235" href="#__codelineno-8-235"></a>            <span class="n">health_status</span><span class="p">[</span><span class="s2">&quot;overall_health&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;warning&quot;</span>
</span><span id="__span-8-236"><a id="__codelineno-8-236" name="__codelineno-8-236" href="#__codelineno-8-236"></a>
</span><span id="__span-8-237"><a id="__codelineno-8-237" name="__codelineno-8-237" href="#__codelineno-8-237"></a>        <span class="c1"># Check resource usage</span>
</span><span id="__span-8-238"><a id="__codelineno-8-238" name="__codelineno-8-238" href="#__codelineno-8-238"></a>        <span class="n">resource_usage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_resource_usage</span><span class="p">(</span><span class="n">bot_id</span><span class="p">)</span>
</span><span id="__span-8-239"><a id="__codelineno-8-239" name="__codelineno-8-239" href="#__codelineno-8-239"></a>        <span class="n">health_status</span><span class="p">[</span><span class="s2">&quot;performance_metrics&quot;</span><span class="p">][</span><span class="s2">&quot;resource_usage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">resource_usage</span>
</span><span id="__span-8-240"><a id="__codelineno-8-240" name="__codelineno-8-240" href="#__codelineno-8-240"></a>
</span><span id="__span-8-241"><a id="__codelineno-8-241" name="__codelineno-8-241" href="#__codelineno-8-241"></a>        <span class="k">if</span> <span class="n">resource_usage</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cpu_usage&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">80</span><span class="p">:</span>
</span><span id="__span-8-242"><a id="__codelineno-8-242" name="__codelineno-8-242" href="#__codelineno-8-242"></a>            <span class="n">health_status</span><span class="p">[</span><span class="s2">&quot;issues&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;High CPU usage detected&quot;</span><span class="p">)</span>
</span><span id="__span-8-243"><a id="__codelineno-8-243" name="__codelineno-8-243" href="#__codelineno-8-243"></a>            <span class="n">health_status</span><span class="p">[</span><span class="s2">&quot;overall_health&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;critical&quot;</span>
</span><span id="__span-8-244"><a id="__codelineno-8-244" name="__codelineno-8-244" href="#__codelineno-8-244"></a>
</span><span id="__span-8-245"><a id="__codelineno-8-245" name="__codelineno-8-245" href="#__codelineno-8-245"></a>        <span class="c1"># Check dependencies</span>
</span><span id="__span-8-246"><a id="__codelineno-8-246" name="__codelineno-8-246" href="#__codelineno-8-246"></a>        <span class="n">dependency_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_dependencies</span><span class="p">(</span><span class="n">bot_id</span><span class="p">)</span>
</span><span id="__span-8-247"><a id="__codelineno-8-247" name="__codelineno-8-247" href="#__codelineno-8-247"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">dependency_status</span><span class="p">[</span><span class="s2">&quot;all_available&quot;</span><span class="p">]:</span>
</span><span id="__span-8-248"><a id="__codelineno-8-248" name="__codelineno-8-248" href="#__codelineno-8-248"></a>            <span class="n">health_status</span><span class="p">[</span><span class="s2">&quot;issues&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Dependency issues detected&quot;</span><span class="p">)</span>
</span><span id="__span-8-249"><a id="__codelineno-8-249" name="__codelineno-8-249" href="#__codelineno-8-249"></a>            <span class="n">health_status</span><span class="p">[</span><span class="s2">&quot;recommendations&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Review and update dependencies&quot;</span><span class="p">)</span>
</span><span id="__span-8-250"><a id="__codelineno-8-250" name="__codelineno-8-250" href="#__codelineno-8-250"></a>
</span><span id="__span-8-251"><a id="__codelineno-8-251" name="__codelineno-8-251" href="#__codelineno-8-251"></a>        <span class="c1"># Check for outdated version</span>
</span><span id="__span-8-252"><a id="__codelineno-8-252" name="__codelineno-8-252" href="#__codelineno-8-252"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_version_outdated</span><span class="p">(</span><span class="n">bot_id</span><span class="p">):</span>
</span><span id="__span-8-253"><a id="__codelineno-8-253" name="__codelineno-8-253" href="#__codelineno-8-253"></a>            <span class="n">health_status</span><span class="p">[</span><span class="s2">&quot;recommendations&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Consider updating to latest version&quot;</span><span class="p">)</span>
</span><span id="__span-8-254"><a id="__codelineno-8-254" name="__codelineno-8-254" href="#__codelineno-8-254"></a>
</span><span id="__span-8-255"><a id="__codelineno-8-255" name="__codelineno-8-255" href="#__codelineno-8-255"></a>        <span class="c1"># Store health check results</span>
</span><span id="__span-8-256"><a id="__codelineno-8-256" name="__codelineno-8-256" href="#__codelineno-8-256"></a>        <span class="n">bot_info</span><span class="p">[</span><span class="s2">&quot;last_health_check&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">health_status</span>
</span><span id="__span-8-257"><a id="__codelineno-8-257" name="__codelineno-8-257" href="#__codelineno-8-257"></a>
</span><span id="__span-8-258"><a id="__codelineno-8-258" name="__codelineno-8-258" href="#__codelineno-8-258"></a>        <span class="k">return</span> <span class="n">health_status</span>
</span><span id="__span-8-259"><a id="__codelineno-8-259" name="__codelineno-8-259" href="#__codelineno-8-259"></a>
</span><span id="__span-8-260"><a id="__codelineno-8-260" name="__codelineno-8-260" href="#__codelineno-8-260"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_deployment_readiness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-8-261"><a id="__codelineno-8-261" name="__codelineno-8-261" href="#__codelineno-8-261"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate if bot version is ready for deployment.&quot;&quot;&quot;</span>
</span><span id="__span-8-262"><a id="__codelineno-8-262" name="__codelineno-8-262" href="#__codelineno-8-262"></a>
</span><span id="__span-8-263"><a id="__codelineno-8-263" name="__codelineno-8-263" href="#__codelineno-8-263"></a>        <span class="n">bot_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span>
</span><span id="__span-8-264"><a id="__codelineno-8-264" name="__codelineno-8-264" href="#__codelineno-8-264"></a>        <span class="n">bot_version</span> <span class="o">=</span> <span class="n">bot_info</span><span class="p">[</span><span class="s2">&quot;versions&quot;</span><span class="p">][</span><span class="n">version</span><span class="p">]</span>
</span><span id="__span-8-265"><a id="__codelineno-8-265" name="__codelineno-8-265" href="#__codelineno-8-265"></a>
</span><span id="__span-8-266"><a id="__codelineno-8-266" name="__codelineno-8-266" href="#__codelineno-8-266"></a>        <span class="c1"># Check if version has passed testing</span>
</span><span id="__span-8-267"><a id="__codelineno-8-267" name="__codelineno-8-267" href="#__codelineno-8-267"></a>        <span class="k">if</span> <span class="n">bot_version</span><span class="o">.</span><span class="n">status</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">BotStatus</span><span class="o">.</span><span class="n">TESTING</span><span class="p">,</span> <span class="n">BotStatus</span><span class="o">.</span><span class="n">PRODUCTION</span><span class="p">]:</span>
</span><span id="__span-8-268"><a id="__codelineno-8-268" name="__codelineno-8-268" href="#__codelineno-8-268"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Version </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2"> has not completed testing phase&quot;</span><span class="p">)</span>
</span><span id="__span-8-269"><a id="__codelineno-8-269" name="__codelineno-8-269" href="#__codelineno-8-269"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-8-270"><a id="__codelineno-8-270" name="__codelineno-8-270" href="#__codelineno-8-270"></a>
</span><span id="__span-8-271"><a id="__codelineno-8-271" name="__codelineno-8-271" href="#__codelineno-8-271"></a>        <span class="c1"># Check dependencies</span>
</span><span id="__span-8-272"><a id="__codelineno-8-272" name="__codelineno-8-272" href="#__codelineno-8-272"></a>        <span class="n">dependency_check</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_dependencies</span><span class="p">(</span><span class="n">bot_id</span><span class="p">)</span>
</span><span id="__span-8-273"><a id="__codelineno-8-273" name="__codelineno-8-273" href="#__codelineno-8-273"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">dependency_check</span><span class="p">[</span><span class="s2">&quot;all_available&quot;</span><span class="p">]:</span>
</span><span id="__span-8-274"><a id="__codelineno-8-274" name="__codelineno-8-274" href="#__codelineno-8-274"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dependencies not met for bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-275"><a id="__codelineno-8-275" name="__codelineno-8-275" href="#__codelineno-8-275"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-8-276"><a id="__codelineno-8-276" name="__codelineno-8-276" href="#__codelineno-8-276"></a>
</span><span id="__span-8-277"><a id="__codelineno-8-277" name="__codelineno-8-277" href="#__codelineno-8-277"></a>        <span class="c1"># Validate configuration</span>
</span><span id="__span-8-278"><a id="__codelineno-8-278" name="__codelineno-8-278" href="#__codelineno-8-278"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_bot_configuration</span><span class="p">(</span><span class="n">bot_id</span><span class="p">):</span>
</span><span id="__span-8-279"><a id="__codelineno-8-279" name="__codelineno-8-279" href="#__codelineno-8-279"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Configuration validation failed for bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-280"><a id="__codelineno-8-280" name="__codelineno-8-280" href="#__codelineno-8-280"></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-8-281"><a id="__codelineno-8-281" name="__codelineno-8-281" href="#__codelineno-8-281"></a>
</span><span id="__span-8-282"><a id="__codelineno-8-282" name="__codelineno-8-282" href="#__codelineno-8-282"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-8-283"><a id="__codelineno-8-283" name="__codelineno-8-283" href="#__codelineno-8-283"></a>
</span><span id="__span-8-284"><a id="__codelineno-8-284" name="__codelineno-8-284" href="#__codelineno-8-284"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_backup_current_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-8-285"><a id="__codelineno-8-285" name="__codelineno-8-285" href="#__codelineno-8-285"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Backup current production version for rollback capability.&quot;&quot;&quot;</span>
</span><span id="__span-8-286"><a id="__codelineno-8-286" name="__codelineno-8-286" href="#__codelineno-8-286"></a>        <span class="c1"># In production, this would backup bot files and configuration</span>
</span><span id="__span-8-287"><a id="__codelineno-8-287" name="__codelineno-8-287" href="#__codelineno-8-287"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Backing up version </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2"> of bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-288"><a id="__codelineno-8-288" name="__codelineno-8-288" href="#__codelineno-8-288"></a>
</span><span id="__span-8-289"><a id="__codelineno-8-289" name="__codelineno-8-289" href="#__codelineno-8-289"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_schedule_health_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-8-290"><a id="__codelineno-8-290" name="__codelineno-8-290" href="#__codelineno-8-290"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Schedule regular health checks for bot.&quot;&quot;&quot;</span>
</span><span id="__span-8-291"><a id="__codelineno-8-291" name="__codelineno-8-291" href="#__codelineno-8-291"></a>        <span class="c1"># In production, this would integrate with scheduling system</span>
</span><span id="__span-8-292"><a id="__codelineno-8-292" name="__codelineno-8-292" href="#__codelineno-8-292"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Scheduled health checks for bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-293"><a id="__codelineno-8-293" name="__codelineno-8-293" href="#__codelineno-8-293"></a>
</span><span id="__span-8-294"><a id="__codelineno-8-294" name="__codelineno-8-294" href="#__codelineno-8-294"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_check_bot_execution_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-8-295"><a id="__codelineno-8-295" name="__codelineno-8-295" href="#__codelineno-8-295"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if bot is executing successfully.&quot;&quot;&quot;</span>
</span><span id="__span-8-296"><a id="__codelineno-8-296" name="__codelineno-8-296" href="#__codelineno-8-296"></a>        <span class="c1"># Simulate checking execution logs</span>
</span><span id="__span-8-297"><a id="__codelineno-8-297" name="__codelineno-8-297" href="#__codelineno-8-297"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-8-298"><a id="__codelineno-8-298" name="__codelineno-8-298" href="#__codelineno-8-298"></a>        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>  <span class="c1"># 75% success rate</span>
</span><span id="__span-8-299"><a id="__codelineno-8-299" name="__codelineno-8-299" href="#__codelineno-8-299"></a>
</span><span id="__span-8-300"><a id="__codelineno-8-300" name="__codelineno-8-300" href="#__codelineno-8-300"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_check_resource_usage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
</span><span id="__span-8-301"><a id="__codelineno-8-301" name="__codelineno-8-301" href="#__codelineno-8-301"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check bot resource usage.&quot;&quot;&quot;</span>
</span><span id="__span-8-302"><a id="__codelineno-8-302" name="__codelineno-8-302" href="#__codelineno-8-302"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-8-303"><a id="__codelineno-8-303" name="__codelineno-8-303" href="#__codelineno-8-303"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-8-304"><a id="__codelineno-8-304" name="__codelineno-8-304" href="#__codelineno-8-304"></a>            <span class="s2">&quot;cpu_usage&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="p">),</span>
</span><span id="__span-8-305"><a id="__codelineno-8-305" name="__codelineno-8-305" href="#__codelineno-8-305"></a>            <span class="s2">&quot;memory_usage&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">80</span><span class="p">),</span>
</span><span id="__span-8-306"><a id="__codelineno-8-306" name="__codelineno-8-306" href="#__codelineno-8-306"></a>            <span class="s2">&quot;disk_usage&quot;</span><span class="p">:</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</span><span id="__span-8-307"><a id="__codelineno-8-307" name="__codelineno-8-307" href="#__codelineno-8-307"></a>        <span class="p">}</span>
</span><span id="__span-8-308"><a id="__codelineno-8-308" name="__codelineno-8-308" href="#__codelineno-8-308"></a>
</span><span id="__span-8-309"><a id="__codelineno-8-309" name="__codelineno-8-309" href="#__codelineno-8-309"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_check_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="__span-8-310"><a id="__codelineno-8-310" name="__codelineno-8-310" href="#__codelineno-8-310"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if all bot dependencies are available.&quot;&quot;&quot;</span>
</span><span id="__span-8-311"><a id="__codelineno-8-311" name="__codelineno-8-311" href="#__codelineno-8-311"></a>        <span class="n">bot_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span>
</span><span id="__span-8-312"><a id="__codelineno-8-312" name="__codelineno-8-312" href="#__codelineno-8-312"></a>        <span class="n">dependencies</span> <span class="o">=</span> <span class="n">bot_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dependencies&quot;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="__span-8-313"><a id="__codelineno-8-313" name="__codelineno-8-313" href="#__codelineno-8-313"></a>
</span><span id="__span-8-314"><a id="__codelineno-8-314" name="__codelineno-8-314" href="#__codelineno-8-314"></a>        <span class="c1"># Simulate dependency checking</span>
</span><span id="__span-8-315"><a id="__codelineno-8-315" name="__codelineno-8-315" href="#__codelineno-8-315"></a>        <span class="n">available_deps</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-316"><a id="__codelineno-8-316" name="__codelineno-8-316" href="#__codelineno-8-316"></a>        <span class="n">unavailable_deps</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-317"><a id="__codelineno-8-317" name="__codelineno-8-317" href="#__codelineno-8-317"></a>
</span><span id="__span-8-318"><a id="__codelineno-8-318" name="__codelineno-8-318" href="#__codelineno-8-318"></a>        <span class="k">for</span> <span class="n">dep</span> <span class="ow">in</span> <span class="n">dependencies</span><span class="p">:</span>
</span><span id="__span-8-319"><a id="__codelineno-8-319" name="__codelineno-8-319" href="#__codelineno-8-319"></a>            <span class="c1"># Simulate availability check</span>
</span><span id="__span-8-320"><a id="__codelineno-8-320" name="__codelineno-8-320" href="#__codelineno-8-320"></a>            <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-8-321"><a id="__codelineno-8-321" name="__codelineno-8-321" href="#__codelineno-8-321"></a>            <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]):</span>  <span class="c1"># 75% availability</span>
</span><span id="__span-8-322"><a id="__codelineno-8-322" name="__codelineno-8-322" href="#__codelineno-8-322"></a>                <span class="n">available_deps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dep</span><span class="p">)</span>
</span><span id="__span-8-323"><a id="__codelineno-8-323" name="__codelineno-8-323" href="#__codelineno-8-323"></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="__span-8-324"><a id="__codelineno-8-324" name="__codelineno-8-324" href="#__codelineno-8-324"></a>                <span class="n">unavailable_deps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dep</span><span class="p">)</span>
</span><span id="__span-8-325"><a id="__codelineno-8-325" name="__codelineno-8-325" href="#__codelineno-8-325"></a>
</span><span id="__span-8-326"><a id="__codelineno-8-326" name="__codelineno-8-326" href="#__codelineno-8-326"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-8-327"><a id="__codelineno-8-327" name="__codelineno-8-327" href="#__codelineno-8-327"></a>            <span class="s2">&quot;all_available&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">unavailable_deps</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-8-328"><a id="__codelineno-8-328" name="__codelineno-8-328" href="#__codelineno-8-328"></a>            <span class="s2">&quot;available&quot;</span><span class="p">:</span> <span class="n">available_deps</span><span class="p">,</span>
</span><span id="__span-8-329"><a id="__codelineno-8-329" name="__codelineno-8-329" href="#__codelineno-8-329"></a>            <span class="s2">&quot;unavailable&quot;</span><span class="p">:</span> <span class="n">unavailable_deps</span>
</span><span id="__span-8-330"><a id="__codelineno-8-330" name="__codelineno-8-330" href="#__codelineno-8-330"></a>        <span class="p">}</span>
</span><span id="__span-8-331"><a id="__codelineno-8-331" name="__codelineno-8-331" href="#__codelineno-8-331"></a>
</span><span id="__span-8-332"><a id="__codelineno-8-332" name="__codelineno-8-332" href="#__codelineno-8-332"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_is_version_outdated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-8-333"><a id="__codelineno-8-333" name="__codelineno-8-333" href="#__codelineno-8-333"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if current bot version is outdated.&quot;&quot;&quot;</span>
</span><span id="__span-8-334"><a id="__codelineno-8-334" name="__codelineno-8-334" href="#__codelineno-8-334"></a>        <span class="n">bot_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span>
</span><span id="__span-8-335"><a id="__codelineno-8-335" name="__codelineno-8-335" href="#__codelineno-8-335"></a>        <span class="n">current_version</span> <span class="o">=</span> <span class="n">bot_info</span><span class="p">[</span><span class="s2">&quot;current_version&quot;</span><span class="p">]</span>
</span><span id="__span-8-336"><a id="__codelineno-8-336" name="__codelineno-8-336" href="#__codelineno-8-336"></a>
</span><span id="__span-8-337"><a id="__codelineno-8-337" name="__codelineno-8-337" href="#__codelineno-8-337"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">current_version</span><span class="p">:</span>
</span><span id="__span-8-338"><a id="__codelineno-8-338" name="__codelineno-8-338" href="#__codelineno-8-338"></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-8-339"><a id="__codelineno-8-339" name="__codelineno-8-339" href="#__codelineno-8-339"></a>
</span><span id="__span-8-340"><a id="__codelineno-8-340" name="__codelineno-8-340" href="#__codelineno-8-340"></a>        <span class="c1"># Simple version comparison (in production, use semantic versioning)</span>
</span><span id="__span-8-341"><a id="__codelineno-8-341" name="__codelineno-8-341" href="#__codelineno-8-341"></a>        <span class="n">all_versions</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bot_info</span><span class="p">[</span><span class="s2">&quot;versions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="__span-8-342"><a id="__codelineno-8-342" name="__codelineno-8-342" href="#__codelineno-8-342"></a>        <span class="n">latest_version</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">all_versions</span><span class="p">)</span>
</span><span id="__span-8-343"><a id="__codelineno-8-343" name="__codelineno-8-343" href="#__codelineno-8-343"></a>
</span><span id="__span-8-344"><a id="__codelineno-8-344" name="__codelineno-8-344" href="#__codelineno-8-344"></a>        <span class="k">return</span> <span class="n">current_version</span> <span class="o">!=</span> <span class="n">latest_version</span>
</span><span id="__span-8-345"><a id="__codelineno-8-345" name="__codelineno-8-345" href="#__codelineno-8-345"></a>
</span><span id="__span-8-346"><a id="__codelineno-8-346" name="__codelineno-8-346" href="#__codelineno-8-346"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_validate_bot_configuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="__span-8-347"><a id="__codelineno-8-347" name="__codelineno-8-347" href="#__codelineno-8-347"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate bot configuration for consistency.&quot;&quot;&quot;</span>
</span><span id="__span-8-348"><a id="__codelineno-8-348" name="__codelineno-8-348" href="#__codelineno-8-348"></a>        <span class="n">bot_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span>
</span><span id="__span-8-349"><a id="__codelineno-8-349" name="__codelineno-8-349" href="#__codelineno-8-349"></a>        <span class="n">config</span> <span class="o">=</span> <span class="n">bot_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;configuration&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="__span-8-350"><a id="__codelineno-8-350" name="__codelineno-8-350" href="#__codelineno-8-350"></a>
</span><span id="__span-8-351"><a id="__codelineno-8-351" name="__codelineno-8-351" href="#__codelineno-8-351"></a>        <span class="c1"># Basic validation checks</span>
</span><span id="__span-8-352"><a id="__codelineno-8-352" name="__codelineno-8-352" href="#__codelineno-8-352"></a>        <span class="n">required_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;purpose&quot;</span><span class="p">]</span>
</span><span id="__span-8-353"><a id="__codelineno-8-353" name="__codelineno-8-353" href="#__codelineno-8-353"></a>
</span><span id="__span-8-354"><a id="__codelineno-8-354" name="__codelineno-8-354" href="#__codelineno-8-354"></a>        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">required_fields</span><span class="p">:</span>
</span><span id="__span-8-355"><a id="__codelineno-8-355" name="__codelineno-8-355" href="#__codelineno-8-355"></a>            <span class="k">if</span> <span class="n">field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">config</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">config</span><span class="p">[</span><span class="n">field</span><span class="p">]:</span>
</span><span id="__span-8-356"><a id="__codelineno-8-356" name="__codelineno-8-356" href="#__codelineno-8-356"></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="__span-8-357"><a id="__codelineno-8-357" name="__codelineno-8-357" href="#__codelineno-8-357"></a>
</span><span id="__span-8-358"><a id="__codelineno-8-358" name="__codelineno-8-358" href="#__codelineno-8-358"></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="__span-8-359"><a id="__codelineno-8-359" name="__codelineno-8-359" href="#__codelineno-8-359"></a>
</span><span id="__span-8-360"><a id="__codelineno-8-360" name="__codelineno-8-360" href="#__codelineno-8-360"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">generate_maintenance_report</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="__span-8-361"><a id="__codelineno-8-361" name="__codelineno-8-361" href="#__codelineno-8-361"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate comprehensive maintenance report.&quot;&quot;&quot;</span>
</span><span id="__span-8-362"><a id="__codelineno-8-362" name="__codelineno-8-362" href="#__codelineno-8-362"></a>
</span><span id="__span-8-363"><a id="__codelineno-8-363" name="__codelineno-8-363" href="#__codelineno-8-363"></a>        <span class="n">total_bots</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="p">)</span>
</span><span id="__span-8-364"><a id="__codelineno-8-364" name="__codelineno-8-364" href="#__codelineno-8-364"></a>        <span class="n">healthy_bots</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-8-365"><a id="__codelineno-8-365" name="__codelineno-8-365" href="#__codelineno-8-365"></a>        <span class="n">bots_needing_attention</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-8-366"><a id="__codelineno-8-366" name="__codelineno-8-366" href="#__codelineno-8-366"></a>        <span class="n">outdated_bots</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-8-367"><a id="__codelineno-8-367" name="__codelineno-8-367" href="#__codelineno-8-367"></a>
</span><span id="__span-8-368"><a id="__codelineno-8-368" name="__codelineno-8-368" href="#__codelineno-8-368"></a>        <span class="n">bot_status_summary</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-8-369"><a id="__codelineno-8-369" name="__codelineno-8-369" href="#__codelineno-8-369"></a>
</span><span id="__span-8-370"><a id="__codelineno-8-370" name="__codelineno-8-370" href="#__codelineno-8-370"></a>        <span class="k">for</span> <span class="n">bot_id</span><span class="p">,</span> <span class="n">bot_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-8-371"><a id="__codelineno-8-371" name="__codelineno-8-371" href="#__codelineno-8-371"></a>            <span class="n">last_health_check</span> <span class="o">=</span> <span class="n">bot_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;last_health_check&quot;</span><span class="p">)</span>
</span><span id="__span-8-372"><a id="__codelineno-8-372" name="__codelineno-8-372" href="#__codelineno-8-372"></a>
</span><span id="__span-8-373"><a id="__codelineno-8-373" name="__codelineno-8-373" href="#__codelineno-8-373"></a>            <span class="k">if</span> <span class="n">last_health_check</span><span class="p">:</span>
</span><span id="__span-8-374"><a id="__codelineno-8-374" name="__codelineno-8-374" href="#__codelineno-8-374"></a>                <span class="n">health_status</span> <span class="o">=</span> <span class="n">last_health_check</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;overall_health&quot;</span><span class="p">,</span> <span class="s2">&quot;unknown&quot;</span><span class="p">)</span>
</span><span id="__span-8-375"><a id="__codelineno-8-375" name="__codelineno-8-375" href="#__codelineno-8-375"></a>                <span class="n">bot_status_summary</span><span class="p">[</span><span class="n">bot_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">health_status</span>
</span><span id="__span-8-376"><a id="__codelineno-8-376" name="__codelineno-8-376" href="#__codelineno-8-376"></a>
</span><span id="__span-8-377"><a id="__codelineno-8-377" name="__codelineno-8-377" href="#__codelineno-8-377"></a>                <span class="k">if</span> <span class="n">health_status</span> <span class="o">==</span> <span class="s2">&quot;healthy&quot;</span><span class="p">:</span>
</span><span id="__span-8-378"><a id="__codelineno-8-378" name="__codelineno-8-378" href="#__codelineno-8-378"></a>                    <span class="n">healthy_bots</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-8-379"><a id="__codelineno-8-379" name="__codelineno-8-379" href="#__codelineno-8-379"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-8-380"><a id="__codelineno-8-380" name="__codelineno-8-380" href="#__codelineno-8-380"></a>                    <span class="n">bots_needing_attention</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-8-381"><a id="__codelineno-8-381" name="__codelineno-8-381" href="#__codelineno-8-381"></a>
</span><span id="__span-8-382"><a id="__codelineno-8-382" name="__codelineno-8-382" href="#__codelineno-8-382"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_version_outdated</span><span class="p">(</span><span class="n">bot_id</span><span class="p">):</span>
</span><span id="__span-8-383"><a id="__codelineno-8-383" name="__codelineno-8-383" href="#__codelineno-8-383"></a>                <span class="n">outdated_bots</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-8-384"><a id="__codelineno-8-384" name="__codelineno-8-384" href="#__codelineno-8-384"></a>
</span><span id="__span-8-385"><a id="__codelineno-8-385" name="__codelineno-8-385" href="#__codelineno-8-385"></a>        <span class="n">report</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-386"><a id="__codelineno-8-386" name="__codelineno-8-386" href="#__codelineno-8-386"></a>            <span class="s2">&quot;report_date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-8-387"><a id="__codelineno-8-387" name="__codelineno-8-387" href="#__codelineno-8-387"></a>            <span class="s2">&quot;summary&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-8-388"><a id="__codelineno-8-388" name="__codelineno-8-388" href="#__codelineno-8-388"></a>                <span class="s2">&quot;total_bots&quot;</span><span class="p">:</span> <span class="n">total_bots</span><span class="p">,</span>
</span><span id="__span-8-389"><a id="__codelineno-8-389" name="__codelineno-8-389" href="#__codelineno-8-389"></a>                <span class="s2">&quot;healthy_bots&quot;</span><span class="p">:</span> <span class="n">healthy_bots</span><span class="p">,</span>
</span><span id="__span-8-390"><a id="__codelineno-8-390" name="__codelineno-8-390" href="#__codelineno-8-390"></a>                <span class="s2">&quot;bots_needing_attention&quot;</span><span class="p">:</span> <span class="n">bots_needing_attention</span><span class="p">,</span>
</span><span id="__span-8-391"><a id="__codelineno-8-391" name="__codelineno-8-391" href="#__codelineno-8-391"></a>                <span class="s2">&quot;outdated_bots&quot;</span><span class="p">:</span> <span class="n">outdated_bots</span><span class="p">,</span>
</span><span id="__span-8-392"><a id="__codelineno-8-392" name="__codelineno-8-392" href="#__codelineno-8-392"></a>                <span class="s2">&quot;health_rate&quot;</span><span class="p">:</span> <span class="p">(</span><span class="n">healthy_bots</span> <span class="o">/</span> <span class="n">total_bots</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="k">if</span> <span class="n">total_bots</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="__span-8-393"><a id="__codelineno-8-393" name="__codelineno-8-393" href="#__codelineno-8-393"></a>            <span class="p">},</span>
</span><span id="__span-8-394"><a id="__codelineno-8-394" name="__codelineno-8-394" href="#__codelineno-8-394"></a>            <span class="s2">&quot;bot_status&quot;</span><span class="p">:</span> <span class="n">bot_status_summary</span><span class="p">,</span>
</span><span id="__span-8-395"><a id="__codelineno-8-395" name="__codelineno-8-395" href="#__codelineno-8-395"></a>            <span class="s2">&quot;recommended_actions&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_maintenance_recommendations</span><span class="p">()</span>
</span><span id="__span-8-396"><a id="__codelineno-8-396" name="__codelineno-8-396" href="#__codelineno-8-396"></a>        <span class="p">}</span>
</span><span id="__span-8-397"><a id="__codelineno-8-397" name="__codelineno-8-397" href="#__codelineno-8-397"></a>
</span><span id="__span-8-398"><a id="__codelineno-8-398" name="__codelineno-8-398" href="#__codelineno-8-398"></a>        <span class="k">return</span> <span class="n">report</span>
</span><span id="__span-8-399"><a id="__codelineno-8-399" name="__codelineno-8-399" href="#__codelineno-8-399"></a>
</span><span id="__span-8-400"><a id="__codelineno-8-400" name="__codelineno-8-400" href="#__codelineno-8-400"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_maintenance_recommendations</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="__span-8-401"><a id="__codelineno-8-401" name="__codelineno-8-401" href="#__codelineno-8-401"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate maintenance recommendations based on bot status.&quot;&quot;&quot;</span>
</span><span id="__span-8-402"><a id="__codelineno-8-402" name="__codelineno-8-402" href="#__codelineno-8-402"></a>        <span class="n">recommendations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-8-403"><a id="__codelineno-8-403" name="__codelineno-8-403" href="#__codelineno-8-403"></a>
</span><span id="__span-8-404"><a id="__codelineno-8-404" name="__codelineno-8-404" href="#__codelineno-8-404"></a>        <span class="k">for</span> <span class="n">bot_id</span><span class="p">,</span> <span class="n">bot_info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bot_registry</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-8-405"><a id="__codelineno-8-405" name="__codelineno-8-405" href="#__codelineno-8-405"></a>            <span class="n">last_health_check</span> <span class="o">=</span> <span class="n">bot_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;last_health_check&quot;</span><span class="p">)</span>
</span><span id="__span-8-406"><a id="__codelineno-8-406" name="__codelineno-8-406" href="#__codelineno-8-406"></a>
</span><span id="__span-8-407"><a id="__codelineno-8-407" name="__codelineno-8-407" href="#__codelineno-8-407"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">last_health_check</span><span class="p">:</span>
</span><span id="__span-8-408"><a id="__codelineno-8-408" name="__codelineno-8-408" href="#__codelineno-8-408"></a>                <span class="n">recommendations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Perform initial health check for bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-409"><a id="__codelineno-8-409" name="__codelineno-8-409" href="#__codelineno-8-409"></a>                <span class="k">continue</span>
</span><span id="__span-8-410"><a id="__codelineno-8-410" name="__codelineno-8-410" href="#__codelineno-8-410"></a>
</span><span id="__span-8-411"><a id="__codelineno-8-411" name="__codelineno-8-411" href="#__codelineno-8-411"></a>            <span class="k">if</span> <span class="n">last_health_check</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;overall_health&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;healthy&quot;</span><span class="p">:</span>
</span><span id="__span-8-412"><a id="__codelineno-8-412" name="__codelineno-8-412" href="#__codelineno-8-412"></a>                <span class="n">recommendations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Address health issues for bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-413"><a id="__codelineno-8-413" name="__codelineno-8-413" href="#__codelineno-8-413"></a>
</span><span id="__span-8-414"><a id="__codelineno-8-414" name="__codelineno-8-414" href="#__codelineno-8-414"></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_version_outdated</span><span class="p">(</span><span class="n">bot_id</span><span class="p">):</span>
</span><span id="__span-8-415"><a id="__codelineno-8-415" name="__codelineno-8-415" href="#__codelineno-8-415"></a>                <span class="n">recommendations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Consider updating bot </span><span class="si">{</span><span class="n">bot_id</span><span class="si">}</span><span class="s2"> to latest version&quot;</span><span class="p">)</span>
</span><span id="__span-8-416"><a id="__codelineno-8-416" name="__codelineno-8-416" href="#__codelineno-8-416"></a>
</span><span id="__span-8-417"><a id="__codelineno-8-417" name="__codelineno-8-417" href="#__codelineno-8-417"></a>        <span class="k">return</span> <span class="n">recommendations</span>
</span><span id="__span-8-418"><a id="__codelineno-8-418" name="__codelineno-8-418" href="#__codelineno-8-418"></a>
</span><span id="__span-8-419"><a id="__codelineno-8-419" name="__codelineno-8-419" href="#__codelineno-8-419"></a><span class="c1"># Demonstration Functions</span>
</span><span id="__span-8-420"><a id="__codelineno-8-420" name="__codelineno-8-420" href="#__codelineno-8-420"></a><span class="k">def</span><span class="w"> </span><span class="nf">demonstrate_ethical_framework</span><span class="p">():</span>
</span><span id="__span-8-421"><a id="__codelineno-8-421" name="__codelineno-8-421" href="#__codelineno-8-421"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate ethical automation framework.&quot;&quot;&quot;</span>
</span><span id="__span-8-422"><a id="__codelineno-8-422" name="__codelineno-8-422" href="#__codelineno-8-422"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ethical Automation Framework Demonstration&quot;</span><span class="p">)</span>
</span><span id="__span-8-423"><a id="__codelineno-8-423" name="__codelineno-8-423" href="#__codelineno-8-423"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">45</span><span class="p">)</span>
</span><span id="__span-8-424"><a id="__codelineno-8-424" name="__codelineno-8-424" href="#__codelineno-8-424"></a>
</span><span id="__span-8-425"><a id="__codelineno-8-425" name="__codelineno-8-425" href="#__codelineno-8-425"></a>    <span class="n">framework</span> <span class="o">=</span> <span class="n">EthicalAutomationFramework</span><span class="p">()</span>
</span><span id="__span-8-426"><a id="__codelineno-8-426" name="__codelineno-8-426" href="#__codelineno-8-426"></a>
</span><span id="__span-8-427"><a id="__codelineno-8-427" name="__codelineno-8-427" href="#__codelineno-8-427"></a>    <span class="c1"># Example role assessment</span>
</span><span id="__span-8-428"><a id="__codelineno-8-428" name="__codelineno-8-428" href="#__codelineno-8-428"></a>    <span class="n">role_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-429"><a id="__codelineno-8-429" name="__codelineno-8-429" href="#__codelineno-8-429"></a>        <span class="s2">&quot;role_title&quot;</span><span class="p">:</span> <span class="s2">&quot;Data Entry Clerk&quot;</span><span class="p">,</span>
</span><span id="__span-8-430"><a id="__codelineno-8-430" name="__codelineno-8-430" href="#__codelineno-8-430"></a>        <span class="s2">&quot;department&quot;</span><span class="p">:</span> <span class="s2">&quot;Finance&quot;</span><span class="p">,</span>
</span><span id="__span-8-431"><a id="__codelineno-8-431" name="__codelineno-8-431" href="#__codelineno-8-431"></a>        <span class="s2">&quot;current_tasks&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-8-432"><a id="__codelineno-8-432" name="__codelineno-8-432" href="#__codelineno-8-432"></a>            <span class="s2">&quot;Manual invoice data entry&quot;</span><span class="p">,</span>
</span><span id="__span-8-433"><a id="__codelineno-8-433" name="__codelineno-8-433" href="#__codelineno-8-433"></a>            <span class="s2">&quot;Copy data between systems&quot;</span><span class="p">,</span>
</span><span id="__span-8-434"><a id="__codelineno-8-434" name="__codelineno-8-434" href="#__codelineno-8-434"></a>            <span class="s2">&quot;Verify customer information&quot;</span><span class="p">,</span>
</span><span id="__span-8-435"><a id="__codelineno-8-435" name="__codelineno-8-435" href="#__codelineno-8-435"></a>            <span class="s2">&quot;Generate routine reports&quot;</span><span class="p">,</span>
</span><span id="__span-8-436"><a id="__codelineno-8-436" name="__codelineno-8-436" href="#__codelineno-8-436"></a>            <span class="s2">&quot;Handle customer inquiries&quot;</span><span class="p">,</span>
</span><span id="__span-8-437"><a id="__codelineno-8-437" name="__codelineno-8-437" href="#__codelineno-8-437"></a>            <span class="s2">&quot;Resolve data discrepancies&quot;</span>
</span><span id="__span-8-438"><a id="__codelineno-8-438" name="__codelineno-8-438" href="#__codelineno-8-438"></a>        <span class="p">]</span>
</span><span id="__span-8-439"><a id="__codelineno-8-439" name="__codelineno-8-439" href="#__codelineno-8-439"></a>    <span class="p">}</span>
</span><span id="__span-8-440"><a id="__codelineno-8-440" name="__codelineno-8-440" href="#__codelineno-8-440"></a>
</span><span id="__span-8-441"><a id="__codelineno-8-441" name="__codelineno-8-441" href="#__codelineno-8-441"></a>    <span class="n">assessment</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">conduct_employee_impact_assessment</span><span class="p">(</span><span class="n">role_data</span><span class="p">)</span>
</span><span id="__span-8-442"><a id="__codelineno-8-442" name="__codelineno-8-442" href="#__codelineno-8-442"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Employee Impact Assessment for </span><span class="si">{</span><span class="n">assessment</span><span class="o">.</span><span class="n">role_title</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</span><span id="__span-8-443"><a id="__codelineno-8-443" name="__codelineno-8-443" href="#__codelineno-8-443"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Automatable tasks: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">assessment</span><span class="o">.</span><span class="n">automatable_tasks</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-444"><a id="__codelineno-8-444" name="__codelineno-8-444" href="#__codelineno-8-444"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enhancement opportunities: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">assessment</span><span class="o">.</span><span class="n">enhancement_opportunities</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-445"><a id="__codelineno-8-445" name="__codelineno-8-445" href="#__codelineno-8-445"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Timeline impact: </span><span class="si">{</span><span class="n">assessment</span><span class="o">.</span><span class="n">timeline_impact</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-446"><a id="__codelineno-8-446" name="__codelineno-8-446" href="#__codelineno-8-446"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mitigation strategies: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">assessment</span><span class="o">.</span><span class="n">mitigation_strategies</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-447"><a id="__codelineno-8-447" name="__codelineno-8-447" href="#__codelineno-8-447"></a>
</span><span id="__span-8-448"><a id="__codelineno-8-448" name="__codelineno-8-448" href="#__codelineno-8-448"></a>    <span class="c1"># Example project review</span>
</span><span id="__span-8-449"><a id="__codelineno-8-449" name="__codelineno-8-449" href="#__codelineno-8-449"></a>    <span class="n">project_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-450"><a id="__codelineno-8-450" name="__codelineno-8-450" href="#__codelineno-8-450"></a>        <span class="s2">&quot;project_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Invoice Processing Automation&quot;</span><span class="p">,</span>
</span><span id="__span-8-451"><a id="__codelineno-8-451" name="__codelineno-8-451" href="#__codelineno-8-451"></a>        <span class="s2">&quot;handles_personal_data&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-8-452"><a id="__codelineno-8-452" name="__codelineno-8-452" href="#__codelineno-8-452"></a>        <span class="s2">&quot;job_displacement_risk&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-8-453"><a id="__codelineno-8-453" name="__codelineno-8-453" href="#__codelineno-8-453"></a>        <span class="s2">&quot;reduces_errors&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-8-454"><a id="__codelineno-8-454" name="__codelineno-8-454" href="#__codelineno-8-454"></a>        <span class="s2">&quot;increases_efficiency&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-8-455"><a id="__codelineno-8-455" name="__codelineno-8-455" href="#__codelineno-8-455"></a>        <span class="s2">&quot;automated_decisions&quot;</span><span class="p">:</span> <span class="kc">True</span>
</span><span id="__span-8-456"><a id="__codelineno-8-456" name="__codelineno-8-456" href="#__codelineno-8-456"></a>    <span class="p">}</span>
</span><span id="__span-8-457"><a id="__codelineno-8-457" name="__codelineno-8-457" href="#__codelineno-8-457"></a>
</span><span id="__span-8-458"><a id="__codelineno-8-458" name="__codelineno-8-458" href="#__codelineno-8-458"></a>    <span class="n">review</span> <span class="o">=</span> <span class="n">framework</span><span class="o">.</span><span class="n">perform_ethical_review</span><span class="p">(</span><span class="n">project_data</span><span class="p">)</span>
</span><span id="__span-8-459"><a id="__codelineno-8-459" name="__codelineno-8-459" href="#__codelineno-8-459"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Ethical Review for </span><span class="si">{</span><span class="n">review</span><span class="o">.</span><span class="n">automation_project</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</span><span id="__span-8-460"><a id="__codelineno-8-460" name="__codelineno-8-460" href="#__codelineno-8-460"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Approval Status: </span><span class="si">{</span><span class="n">review</span><span class="o">.</span><span class="n">approval_status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-461"><a id="__codelineno-8-461" name="__codelineno-8-461" href="#__codelineno-8-461"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Concerns identified: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">review</span><span class="o">.</span><span class="n">concerns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-462"><a id="__codelineno-8-462" name="__codelineno-8-462" href="#__codelineno-8-462"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mitigation measures: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">review</span><span class="o">.</span><span class="n">mitigation_measures</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-463"><a id="__codelineno-8-463" name="__codelineno-8-463" href="#__codelineno-8-463"></a>
</span><span id="__span-8-464"><a id="__codelineno-8-464" name="__codelineno-8-464" href="#__codelineno-8-464"></a>    <span class="k">return</span> <span class="n">framework</span>
</span><span id="__span-8-465"><a id="__codelineno-8-465" name="__codelineno-8-465" href="#__codelineno-8-465"></a>
</span><span id="__span-8-466"><a id="__codelineno-8-466" name="__codelineno-8-466" href="#__codelineno-8-466"></a><span class="k">def</span><span class="w"> </span><span class="nf">demonstrate_security_measures</span><span class="p">():</span>
</span><span id="__span-8-467"><a id="__codelineno-8-467" name="__codelineno-8-467" href="#__codelineno-8-467"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate security implementation.&quot;&quot;&quot;</span>
</span><span id="__span-8-468"><a id="__codelineno-8-468" name="__codelineno-8-468" href="#__codelineno-8-468"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Security Measures Demonstration&quot;</span><span class="p">)</span>
</span><span id="__span-8-469"><a id="__codelineno-8-469" name="__codelineno-8-469" href="#__codelineno-8-469"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">35</span><span class="p">)</span>
</span><span id="__span-8-470"><a id="__codelineno-8-470" name="__codelineno-8-470" href="#__codelineno-8-470"></a>
</span><span id="__span-8-471"><a id="__codelineno-8-471" name="__codelineno-8-471" href="#__codelineno-8-471"></a>    <span class="c1"># Authentication demo</span>
</span><span id="__span-8-472"><a id="__codelineno-8-472" name="__codelineno-8-472" href="#__codelineno-8-472"></a>    <span class="n">auth_system</span> <span class="o">=</span> <span class="n">SecureRPAAuthenticator</span><span class="p">()</span>
</span><span id="__span-8-473"><a id="__codelineno-8-473" name="__codelineno-8-473" href="#__codelineno-8-473"></a>
</span><span id="__span-8-474"><a id="__codelineno-8-474" name="__codelineno-8-474" href="#__codelineno-8-474"></a>    <span class="c1"># Register bot</span>
</span><span id="__span-8-475"><a id="__codelineno-8-475" name="__codelineno-8-475" href="#__codelineno-8-475"></a>    <span class="n">auth_system</span><span class="o">.</span><span class="n">register_bot</span><span class="p">(</span><span class="s2">&quot;invoice_bot&quot;</span><span class="p">,</span> <span class="s2">&quot;secure_password123&quot;</span><span class="p">,</span> <span class="s2">&quot;admin@company.com&quot;</span><span class="p">)</span>
</span><span id="__span-8-476"><a id="__codelineno-8-476" name="__codelineno-8-476" href="#__codelineno-8-476"></a>
</span><span id="__span-8-477"><a id="__codelineno-8-477" name="__codelineno-8-477" href="#__codelineno-8-477"></a>    <span class="c1"># Authenticate</span>
</span><span id="__span-8-478"><a id="__codelineno-8-478" name="__codelineno-8-478" href="#__codelineno-8-478"></a>    <span class="n">auth_success</span><span class="p">,</span> <span class="n">mfa_message</span> <span class="o">=</span> <span class="n">auth_system</span><span class="o">.</span><span class="n">authenticate_bot</span><span class="p">(</span><span class="s2">&quot;invoice_bot&quot;</span><span class="p">,</span> <span class="s2">&quot;secure_password123&quot;</span><span class="p">)</span>
</span><span id="__span-8-479"><a id="__codelineno-8-479" name="__codelineno-8-479" href="#__codelineno-8-479"></a>    <span class="k">if</span> <span class="n">auth_success</span><span class="p">:</span>
</span><span id="__span-8-480"><a id="__codelineno-8-480" name="__codelineno-8-480" href="#__codelineno-8-480"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Authentication successful: </span><span class="si">{</span><span class="n">mfa_message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-481"><a id="__codelineno-8-481" name="__codelineno-8-481" href="#__codelineno-8-481"></a>
</span><span id="__span-8-482"><a id="__codelineno-8-482" name="__codelineno-8-482" href="#__codelineno-8-482"></a>        <span class="c1"># Extract MFA code from message (in demo)</span>
</span><span id="__span-8-483"><a id="__codelineno-8-483" name="__codelineno-8-483" href="#__codelineno-8-483"></a>        <span class="n">mfa_code</span> <span class="o">=</span> <span class="n">mfa_message</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="__span-8-484"><a id="__codelineno-8-484" name="__codelineno-8-484" href="#__codelineno-8-484"></a>
</span><span id="__span-8-485"><a id="__codelineno-8-485" name="__codelineno-8-485" href="#__codelineno-8-485"></a>        <span class="c1"># Verify MFA</span>
</span><span id="__span-8-486"><a id="__codelineno-8-486" name="__codelineno-8-486" href="#__codelineno-8-486"></a>        <span class="n">mfa_success</span><span class="p">,</span> <span class="n">session_token</span> <span class="o">=</span> <span class="n">auth_system</span><span class="o">.</span><span class="n">verify_mfa</span><span class="p">(</span><span class="s2">&quot;invoice_bot&quot;</span><span class="p">,</span> <span class="n">mfa_code</span><span class="p">)</span>
</span><span id="__span-8-487"><a id="__codelineno-8-487" name="__codelineno-8-487" href="#__codelineno-8-487"></a>        <span class="k">if</span> <span class="n">mfa_success</span><span class="p">:</span>
</span><span id="__span-8-488"><a id="__codelineno-8-488" name="__codelineno-8-488" href="#__codelineno-8-488"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MFA verified, session token generated&quot;</span><span class="p">)</span>
</span><span id="__span-8-489"><a id="__codelineno-8-489" name="__codelineno-8-489" href="#__codelineno-8-489"></a>
</span><span id="__span-8-490"><a id="__codelineno-8-490" name="__codelineno-8-490" href="#__codelineno-8-490"></a>            <span class="c1"># Validate session</span>
</span><span id="__span-8-491"><a id="__codelineno-8-491" name="__codelineno-8-491" href="#__codelineno-8-491"></a>            <span class="n">valid</span><span class="p">,</span> <span class="n">session_data</span> <span class="o">=</span> <span class="n">auth_system</span><span class="o">.</span><span class="n">validate_session</span><span class="p">(</span><span class="n">session_token</span><span class="p">)</span>
</span><span id="__span-8-492"><a id="__codelineno-8-492" name="__codelineno-8-492" href="#__codelineno-8-492"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Session valid: </span><span class="si">{</span><span class="n">valid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-493"><a id="__codelineno-8-493" name="__codelineno-8-493" href="#__codelineno-8-493"></a>
</span><span id="__span-8-494"><a id="__codelineno-8-494" name="__codelineno-8-494" href="#__codelineno-8-494"></a>    <span class="c1"># Data encryption demo</span>
</span><span id="__span-8-495"><a id="__codelineno-8-495" name="__codelineno-8-495" href="#__codelineno-8-495"></a>    <span class="n">data_manager</span> <span class="o">=</span> <span class="n">SecureDataManager</span><span class="p">(</span><span class="s2">&quot;master_password_123&quot;</span><span class="p">)</span>
</span><span id="__span-8-496"><a id="__codelineno-8-496" name="__codelineno-8-496" href="#__codelineno-8-496"></a>
</span><span id="__span-8-497"><a id="__codelineno-8-497" name="__codelineno-8-497" href="#__codelineno-8-497"></a>    <span class="n">sensitive_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-498"><a id="__codelineno-8-498" name="__codelineno-8-498" href="#__codelineno-8-498"></a>        <span class="s2">&quot;customer_name&quot;</span><span class="p">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
</span><span id="__span-8-499"><a id="__codelineno-8-499" name="__codelineno-8-499" href="#__codelineno-8-499"></a>        <span class="s2">&quot;ssn&quot;</span><span class="p">:</span> <span class="s2">&quot;123-45-6789&quot;</span><span class="p">,</span>
</span><span id="__span-8-500"><a id="__codelineno-8-500" name="__codelineno-8-500" href="#__codelineno-8-500"></a>        <span class="s2">&quot;account_number&quot;</span><span class="p">:</span> <span class="s2">&quot;ACC-2024-001&quot;</span>
</span><span id="__span-8-501"><a id="__codelineno-8-501" name="__codelineno-8-501" href="#__codelineno-8-501"></a>    <span class="p">}</span>
</span><span id="__span-8-502"><a id="__codelineno-8-502" name="__codelineno-8-502" href="#__codelineno-8-502"></a>
</span><span id="__span-8-503"><a id="__codelineno-8-503" name="__codelineno-8-503" href="#__codelineno-8-503"></a>    <span class="n">encrypted</span> <span class="o">=</span> <span class="n">data_manager</span><span class="o">.</span><span class="n">encrypt_sensitive_data</span><span class="p">(</span><span class="n">sensitive_data</span><span class="p">,</span> <span class="s2">&quot;customer_data&quot;</span><span class="p">)</span>
</span><span id="__span-8-504"><a id="__codelineno-8-504" name="__codelineno-8-504" href="#__codelineno-8-504"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data encrypted: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">encrypted</span><span class="p">)</span><span class="si">}</span><span class="s2"> characters&quot;</span><span class="p">)</span>
</span><span id="__span-8-505"><a id="__codelineno-8-505" name="__codelineno-8-505" href="#__codelineno-8-505"></a>
</span><span id="__span-8-506"><a id="__codelineno-8-506" name="__codelineno-8-506" href="#__codelineno-8-506"></a>    <span class="n">decrypted</span> <span class="o">=</span> <span class="n">data_manager</span><span class="o">.</span><span class="n">decrypt_sensitive_data</span><span class="p">(</span><span class="n">encrypted</span><span class="p">,</span> <span class="s2">&quot;customer_data&quot;</span><span class="p">)</span>
</span><span id="__span-8-507"><a id="__codelineno-8-507" name="__codelineno-8-507" href="#__codelineno-8-507"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data decrypted successfully: </span><span class="si">{</span><span class="n">decrypted</span><span class="w"> </span><span class="ow">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kc">None</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-508"><a id="__codelineno-8-508" name="__codelineno-8-508" href="#__codelineno-8-508"></a>
</span><span id="__span-8-509"><a id="__codelineno-8-509" name="__codelineno-8-509" href="#__codelineno-8-509"></a>    <span class="k">return</span> <span class="n">auth_system</span><span class="p">,</span> <span class="n">data_manager</span>
</span><span id="__span-8-510"><a id="__codelineno-8-510" name="__codelineno-8-510" href="#__codelineno-8-510"></a>
</span><span id="__span-8-511"><a id="__codelineno-8-511" name="__codelineno-8-511" href="#__codelineno-8-511"></a><span class="k">def</span><span class="w"> </span><span class="nf">demonstrate_lifecycle_management</span><span class="p">():</span>
</span><span id="__span-8-512"><a id="__codelineno-8-512" name="__codelineno-8-512" href="#__codelineno-8-512"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Demonstrate bot lifecycle management.&quot;&quot;&quot;</span>
</span><span id="__span-8-513"><a id="__codelineno-8-513" name="__codelineno-8-513" href="#__codelineno-8-513"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Bot Lifecycle Management Demonstration&quot;</span><span class="p">)</span>
</span><span id="__span-8-514"><a id="__codelineno-8-514" name="__codelineno-8-514" href="#__codelineno-8-514"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">40</span><span class="p">)</span>
</span><span id="__span-8-515"><a id="__codelineno-8-515" name="__codelineno-8-515" href="#__codelineno-8-515"></a>
</span><span id="__span-8-516"><a id="__codelineno-8-516" name="__codelineno-8-516" href="#__codelineno-8-516"></a>    <span class="n">lifecycle_manager</span> <span class="o">=</span> <span class="n">RPALifecycleManager</span><span class="p">()</span>
</span><span id="__span-8-517"><a id="__codelineno-8-517" name="__codelineno-8-517" href="#__codelineno-8-517"></a>
</span><span id="__span-8-518"><a id="__codelineno-8-518" name="__codelineno-8-518" href="#__codelineno-8-518"></a>    <span class="c1"># Register bot</span>
</span><span id="__span-8-519"><a id="__codelineno-8-519" name="__codelineno-8-519" href="#__codelineno-8-519"></a>    <span class="n">bot_config</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-520"><a id="__codelineno-8-520" name="__codelineno-8-520" href="#__codelineno-8-520"></a>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Invoice Processing Bot&quot;</span><span class="p">,</span>
</span><span id="__span-8-521"><a id="__codelineno-8-521" name="__codelineno-8-521" href="#__codelineno-8-521"></a>        <span class="s2">&quot;purpose&quot;</span><span class="p">:</span> <span class="s2">&quot;Automate invoice data entry and validation&quot;</span><span class="p">,</span>
</span><span id="__span-8-522"><a id="__codelineno-8-522" name="__codelineno-8-522" href="#__codelineno-8-522"></a>        <span class="s2">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;web_driver&quot;</span><span class="p">,</span> <span class="s2">&quot;pdf_reader&quot;</span><span class="p">,</span> <span class="s2">&quot;email_client&quot;</span><span class="p">],</span>
</span><span id="__span-8-523"><a id="__codelineno-8-523" name="__codelineno-8-523" href="#__codelineno-8-523"></a>        <span class="s2">&quot;environment&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;python_version&quot;</span><span class="p">:</span> <span class="s2">&quot;3.9&quot;</span><span class="p">,</span> <span class="s2">&quot;memory_requirement&quot;</span><span class="p">:</span> <span class="s2">&quot;2GB&quot;</span><span class="p">}</span>
</span><span id="__span-8-524"><a id="__codelineno-8-524" name="__codelineno-8-524" href="#__codelineno-8-524"></a>    <span class="p">}</span>
</span><span id="__span-8-525"><a id="__codelineno-8-525" name="__codelineno-8-525" href="#__codelineno-8-525"></a>
</span><span id="__span-8-526"><a id="__codelineno-8-526" name="__codelineno-8-526" href="#__codelineno-8-526"></a>    <span class="n">lifecycle_manager</span><span class="o">.</span><span class="n">register_bot</span><span class="p">(</span><span class="s2">&quot;invoice_bot_v1&quot;</span><span class="p">,</span> <span class="n">bot_config</span><span class="p">)</span>
</span><span id="__span-8-527"><a id="__codelineno-8-527" name="__codelineno-8-527" href="#__codelineno-8-527"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bot registered successfully&quot;</span><span class="p">)</span>
</span><span id="__span-8-528"><a id="__codelineno-8-528" name="__codelineno-8-528" href="#__codelineno-8-528"></a>
</span><span id="__span-8-529"><a id="__codelineno-8-529" name="__codelineno-8-529" href="#__codelineno-8-529"></a>    <span class="c1"># Deploy bot</span>
</span><span id="__span-8-530"><a id="__codelineno-8-530" name="__codelineno-8-530" href="#__codelineno-8-530"></a>    <span class="n">deployment_config</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-8-531"><a id="__codelineno-8-531" name="__codelineno-8-531" href="#__codelineno-8-531"></a>        <span class="s2">&quot;deployed_by&quot;</span><span class="p">:</span> <span class="s2">&quot;admin_user&quot;</span><span class="p">,</span>
</span><span id="__span-8-532"><a id="__codelineno-8-532" name="__codelineno-8-532" href="#__codelineno-8-532"></a>        <span class="s2">&quot;notes&quot;</span><span class="p">:</span> <span class="s2">&quot;Initial production deployment&quot;</span>
</span><span id="__span-8-533"><a id="__codelineno-8-533" name="__codelineno-8-533" href="#__codelineno-8-533"></a>    <span class="p">}</span>
</span><span id="__span-8-534"><a id="__codelineno-8-534" name="__codelineno-8-534" href="#__codelineno-8-534"></a>
</span><span id="__span-8-535"><a id="__codelineno-8-535" name="__codelineno-8-535" href="#__codelineno-8-535"></a>    <span class="n">success</span> <span class="o">=</span> <span class="n">lifecycle_manager</span><span class="o">.</span><span class="n">deploy_bot_version</span><span class="p">(</span><span class="s2">&quot;invoice_bot_v1&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span> <span class="n">deployment_config</span><span class="p">)</span>
</span><span id="__span-8-536"><a id="__codelineno-8-536" name="__codelineno-8-536" href="#__codelineno-8-536"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bot deployment: </span><span class="si">{</span><span class="s1">&#39;successful&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">success</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;failed&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-537"><a id="__codelineno-8-537" name="__codelineno-8-537" href="#__codelineno-8-537"></a>
</span><span id="__span-8-538"><a id="__codelineno-8-538" name="__codelineno-8-538" href="#__codelineno-8-538"></a>    <span class="c1"># Perform health check</span>
</span><span id="__span-8-539"><a id="__codelineno-8-539" name="__codelineno-8-539" href="#__codelineno-8-539"></a>    <span class="n">health_check</span> <span class="o">=</span> <span class="n">lifecycle_manager</span><span class="o">.</span><span class="n">perform_health_check</span><span class="p">(</span><span class="s2">&quot;invoice_bot_v1&quot;</span><span class="p">)</span>
</span><span id="__span-8-540"><a id="__codelineno-8-540" name="__codelineno-8-540" href="#__codelineno-8-540"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Health check completed - Status: </span><span class="si">{</span><span class="n">health_check</span><span class="p">[</span><span class="s1">&#39;overall_health&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-541"><a id="__codelineno-8-541" name="__codelineno-8-541" href="#__codelineno-8-541"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Issues found: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">health_check</span><span class="p">[</span><span class="s1">&#39;issues&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-542"><a id="__codelineno-8-542" name="__codelineno-8-542" href="#__codelineno-8-542"></a>
</span><span id="__span-8-543"><a id="__codelineno-8-543" name="__codelineno-8-543" href="#__codelineno-8-543"></a>    <span class="c1"># Generate maintenance report</span>
</span><span id="__span-8-544"><a id="__codelineno-8-544" name="__codelineno-8-544" href="#__codelineno-8-544"></a>    <span class="n">maintenance_report</span> <span class="o">=</span> <span class="n">lifecycle_manager</span><span class="o">.</span><span class="n">generate_maintenance_report</span><span class="p">()</span>
</span><span id="__span-8-545"><a id="__codelineno-8-545" name="__codelineno-8-545" href="#__codelineno-8-545"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Maintenance Report:&quot;</span><span class="p">)</span>
</span><span id="__span-8-546"><a id="__codelineno-8-546" name="__codelineno-8-546" href="#__codelineno-8-546"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total bots: </span><span class="si">{</span><span class="n">maintenance_report</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">][</span><span class="s1">&#39;total_bots&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-547"><a id="__codelineno-8-547" name="__codelineno-8-547" href="#__codelineno-8-547"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Health rate: </span><span class="si">{</span><span class="n">maintenance_report</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">][</span><span class="s1">&#39;health_rate&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</span><span id="__span-8-548"><a id="__codelineno-8-548" name="__codelineno-8-548" href="#__codelineno-8-548"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recommendations: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">maintenance_report</span><span class="p">[</span><span class="s1">&#39;recommended_actions&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-549"><a id="__codelineno-8-549" name="__codelineno-8-549" href="#__codelineno-8-549"></a>
</span><span id="__span-8-550"><a id="__codelineno-8-550" name="__codelineno-8-550" href="#__codelineno-8-550"></a>    <span class="k">return</span> <span class="n">lifecycle_manager</span>
</span><span id="__span-8-551"><a id="__codelineno-8-551" name="__codelineno-8-551" href="#__codelineno-8-551"></a>
</span><span id="__span-8-552"><a id="__codelineno-8-552" name="__codelineno-8-552" href="#__codelineno-8-552"></a><span class="c1"># Run all demonstrations</span>
</span><span id="__span-8-553"><a id="__codelineno-8-553" name="__codelineno-8-553" href="#__codelineno-8-553"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-8-554"><a id="__codelineno-8-554" name="__codelineno-8-554" href="#__codelineno-8-554"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🔒 ETHICAL AND SECURITY CONSIDERATIONS DEMONSTRATIONS&quot;</span><span class="p">)</span>
</span><span id="__span-8-555"><a id="__codelineno-8-555" name="__codelineno-8-555" href="#__codelineno-8-555"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span><span id="__span-8-556"><a id="__codelineno-8-556" name="__codelineno-8-556" href="#__codelineno-8-556"></a>
</span><span id="__span-8-557"><a id="__codelineno-8-557" name="__codelineno-8-557" href="#__codelineno-8-557"></a>    <span class="c1"># Ethical Framework</span>
</span><span id="__span-8-558"><a id="__codelineno-8-558" name="__codelineno-8-558" href="#__codelineno-8-558"></a>    <span class="n">ethical_framework</span> <span class="o">=</span> <span class="n">demonstrate_ethical_framework</span><span class="p">()</span>
</span><span id="__span-8-559"><a id="__codelineno-8-559" name="__codelineno-8-559" href="#__codelineno-8-559"></a>
</span><span id="__span-8-560"><a id="__codelineno-8-560" name="__codelineno-8-560" href="#__codelineno-8-560"></a>    <span class="c1"># Security Measures</span>
</span><span id="__span-8-561"><a id="__codelineno-8-561" name="__codelineno-8-561" href="#__codelineno-8-561"></a>    <span class="n">auth_system</span><span class="p">,</span> <span class="n">data_manager</span> <span class="o">=</span> <span class="n">demonstrate_security_measures</span><span class="p">()</span>
</span><span id="__span-8-562"><a id="__codelineno-8-562" name="__codelineno-8-562" href="#__codelineno-8-562"></a>
</span><span id="__span-8-563"><a id="__codelineno-8-563" name="__codelineno-8-563" href="#__codelineno-8-563"></a>    <span class="c1"># Lifecycle Management</span>
</span><span id="__span-8-564"><a id="__codelineno-8-564" name="__codelineno-8-564" href="#__codelineno-8-564"></a>    <span class="n">lifecycle_manager</span> <span class="o">=</span> <span class="n">demonstrate_lifecycle_management</span><span class="p">()</span>
</span><span id="__span-8-565"><a id="__codelineno-8-565" name="__codelineno-8-565" href="#__codelineno-8-565"></a>
</span><span id="__span-8-566"><a id="__codelineno-8-566" name="__codelineno-8-566" href="#__codelineno-8-566"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-567"><a id="__codelineno-8-567" name="__codelineno-8-567" href="#__codelineno-8-567"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ETHICAL AND SECURITY DEMONSTRATIONS COMPLETED&quot;</span><span class="p">)</span>
</span><span id="__span-8-568"><a id="__codelineno-8-568" name="__codelineno-8-568" href="#__codelineno-8-568"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Key areas demonstrated:&quot;</span><span class="p">)</span>
</span><span id="__span-8-569"><a id="__codelineno-8-569" name="__codelineno-8-569" href="#__codelineno-8-569"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;• Ethical impact assessment and review processes&quot;</span><span class="p">)</span>
</span><span id="__span-8-570"><a id="__codelineno-8-570" name="__codelineno-8-570" href="#__codelineno-8-570"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;• Multi-factor authentication and secure data handling&quot;</span><span class="p">)</span>
</span><span id="__span-8-571"><a id="__codelineno-8-571" name="__codelineno-8-571" href="#__codelineno-8-571"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;• Bot lifecycle management and maintenance procedures&quot;</span><span class="p">)</span>
</span><span id="__span-8-572"><a id="__codelineno-8-572" name="__codelineno-8-572" href="#__codelineno-8-572"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="key-takeaways-sustainable-automation">Key Takeaways: Sustainable Automation<a class="headerlink" href="#key-takeaways-sustainable-automation" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Ethical Responsibility</strong>: Organizations must consider human impact and implement fair transition strategies</p>
</li>
<li>
<p><strong>Security by Design</strong>: Authentication, encryption, and access controls must be built into automation systems from the start</p>
</li>
<li>
<p><strong>Maintainability Focus</strong>: Proper lifecycle management ensures automation solutions remain valuable over time</p>
</li>
<li>
<p><strong>Stakeholder Engagement</strong>: Successful automation involves all affected parties in planning and implementation</p>
</li>
<li>
<p><strong>Continuous Monitoring</strong>: Regular health checks and ethical reviews ensure automation remains beneficial and compliant</p>
</li>
<li>
<p><strong>Balance Efficiency and Humanity</strong>: The goal is to augment human capabilities while preserving human dignity and meaningful work</p>
</li>
</ol>
<p>Responsible automation implementation requires careful consideration of these factors to build sustainable, beneficial, and ethical automation solutions.</p>
<hr />
<h2 id="assessment-rpa-and-bpa-practical-implementation">Assessment: RPA and BPA Practical Implementation<a class="headerlink" href="#assessment-rpa-and-bpa-practical-implementation" title="Permanent link">&para;</a></h2>
<h3 id="section-a-multiple-choice-questions">Section A: Multiple Choice Questions<a class="headerlink" href="#section-a-multiple-choice-questions" title="Permanent link">&para;</a></h3>
<p><strong>Question 1</strong>: Which of the following best distinguishes RPA from BPA?
a) RPA requires programming skills while BPA doesn&rsquo;t
b) RPA works at the task level while BPA redesigns entire processes
c) RPA is more expensive to implement than BPA
d) RPA can only be used for financial processes</p>
<p><strong>Question 2</strong>: When implementing the <code>InvoiceProcessingRPA</code> system, what is the primary advantage of using OCR simulation?
a) It reduces the need for human validation
b) It allows processing of different invoice formats automatically
c) It eliminates the need for approval workflows
d) It guarantees 100% accuracy in data extraction</p>
<p><strong>Question 3</strong>: In the ethical framework demonstration, what percentage threshold is used to determine &ldquo;immediate&rdquo; timeline impact?
a) 50% of tasks automatable
b) 60% of tasks automatable
c) 70% of tasks automatable
d) 80% of tasks automatable</p>
<p><strong>Question 4</strong>: Which security measure is most critical for RPA bot authentication?
a) Single strong password
b) Multi-factor authentication (MFA)
c) IP address restrictions only
d) Time-based access controls only</p>
<p><strong>Question 5</strong>: The <code>BPAOrchestrationEngine</code> uses which approach for handling workflow execution?
a) Synchronous sequential processing
b) Asynchronous task execution with dependency management
c) Manual trigger-based processing
d) Random task distribution</p>
<h3 id="section-b-short-answer-questions">Section B: Short Answer Questions<a class="headerlink" href="#section-b-short-answer-questions" title="Permanent link">&para;</a></h3>
<p><strong>Question 6</strong>: Explain the key difference between process reengineering (BPA approach) and task automation (RPA approach) using a customer service example.</p>
<p><strong>Question 7</strong>: Describe two specific mitigation strategies that should be implemented when automation poses a &ldquo;job displacement risk&rdquo; according to the ethical framework.</p>
<p><strong>Question 8</strong>: What are the three main components of the secure authentication system demonstrated, and why is each important?</p>
<p><strong>Question 9</strong>: Explain how the <code>BotLifecycleManager</code> ensures maintainability through its health check system.</p>
<p><strong>Question 10</strong>: Why is data encryption particularly important in RPA systems, and what approach does the <code>SecureDataManager</code> use?</p>
<h3 id="section-c-practical-analysis">Section C: Practical Analysis<a class="headerlink" href="#section-c-practical-analysis" title="Permanent link">&para;</a></h3>
<p><strong>Question 11</strong>: A company is considering automating their employee onboarding process. The current process involves:</p>
<ul>
<li>
<p>Manual form completion (15 minutes)</p>
</li>
<li>
<p>System account creation (20 minutes)</p>
</li>
<li>
<p>Training schedule coordination (30 minutes)</p>
</li>
<li>
<p>Welcome package preparation (10 minutes)</p>
</li>
<li>
<p>Manager notification (5 minutes)</p>
</li>
</ul>
<p>Would you recommend RPA or BPA for this scenario? Justify your answer with specific reasons and identify at least three implementation considerations.</p>
<p><strong>Question 12</strong>: Using the ethical framework code provided, conduct a theoretical impact assessment for a &ldquo;Customer Support Agent&rdquo; role with these tasks:</p>
<ul>
<li>
<p>Answer routine customer inquiries (40% of time)</p>
</li>
<li>
<p>Escalate complex issues (15% of time)</p>
</li>
<li>
<p>Update customer records (20% of time)  </p>
</li>
<li>
<p>Generate service reports (10% of time)</p>
</li>
<li>
<p>Collaborate with technical teams (15% of time)</p>
</li>
</ul>
<p>Categorize each task and recommend appropriate automation approach.</p>
<p><strong>Question 13</strong>: Design a security protocol for an RPA bot that processes sensitive financial data. Your protocol must address:</p>
<ul>
<li>
<p>Authentication requirements</p>
</li>
<li>
<p>Data handling procedures</p>
</li>
<li>
<p>Access logging and monitoring</p>
</li>
<li>
<p>Emergency response procedures</p>
</li>
</ul>
<h3 id="section-d-code-analysis">Section D: Code Analysis<a class="headerlink" href="#section-d-code-analysis" title="Permanent link">&para;</a></h3>
<p><strong>Question 14</strong>: Examine this code snippet from the BPA orchestration engine:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute_workflow_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="n">instance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_instances</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">instance_id</span><span class="p">)</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">instance</span><span class="p">:</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Process instance </span><span class="si">{</span><span class="n">instance_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="n">step</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">workflow</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">step_name</span><span class="p">)</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">step</span><span class="p">:</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>a) What design pattern is being used for error handling?
b) Why is this approach better than silently failing?
c) How could you extend this to provide more detailed error information?</p>
<p><strong>Question 15</strong>: In the secure data manager implementation:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">password_hash</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">pbkdf2_hmac</span><span class="p">(</span><span class="s1">&#39;sha256&#39;</span><span class="p">,</span> 
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>                                  <span class="n">password</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">),</span> 
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>                                  <span class="n">salt</span><span class="p">,</span> 
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>                                  <span class="mi">100000</span><span class="p">)</span>
</span></code></pre></div>
<p>a) Why is PBKDF2 used instead of simple SHA256 hashing?
b) What is the purpose of the 100,000 iterations parameter?
c) How does the salt contribute to security?</p>
<h3 id="answer-guide">Answer Guide<a class="headerlink" href="#answer-guide" title="Permanent link">&para;</a></h3>
<p><strong>Section A Answers:</strong></p>
<ol>
<li>
<p>b) RPA works at the task level while BPA redesigns entire processes</p>
</li>
<li>
<p>b) It allows processing of different invoice formats automatically</p>
</li>
<li>
<p>c) 70% of tasks automatable</p>
</li>
<li>
<p>b) Multi-factor authentication (MFA)</p>
</li>
<li>
<p>b) Asynchronous task execution with dependency management</p>
</li>
</ol>
<p><strong>Section B Sample Answers:</strong></p>
<p><strong>Q6</strong>: Process reengineering (BPA) would redesign the entire customer service workflow, potentially creating a unified system where customers interact with an AI-powered portal that routes complex issues to humans and resolves simple ones automatically. Task automation (RPA) would keep the existing workflow but automate specific tasks like ticket creation, status updates, and routine responses, while humans still handle the overall process flow.</p>
<p><strong>Q7</strong>: Two mitigation strategies: (1) Comprehensive retraining program providing affected employees with skills for new technology-assisted roles, and (2) Gradual implementation timeline allowing workforce adaptation and alternative role assignments within the organization.</p>
<p><strong>Q8</strong>: Three components: (1) Primary authentication (password-based) ensures only authorized entities access the system, (2) Multi-factor authentication adds a second verification layer preventing unauthorized access even with compromised passwords, and (3) Session token management maintains secure ongoing access while allowing for controlled expiration and revocation.</p>
<p><strong>Q9</strong>: The health check system ensures maintainability by: monitoring bot execution status for failures, checking resource usage to prevent performance degradation, validating dependencies to ensure continued functionality, and generating actionable recommendations for maintenance activities. This proactive approach prevents issues before they impact operations.</p>
<p><strong>Q10</strong>: Data encryption is critical because RPA systems often process sensitive personal and financial information that could cause significant harm if exposed. The <code>SecureDataManager</code> uses AES encryption via the Fernet library with PBKDF2 key derivation to ensure strong encryption, while maintaining audit trails of all access for compliance and security monitoring.</p>
<p><strong>Section C Sample Approaches:</strong></p>
<p><strong>Q11</strong>: Recommend BPA approach because this involves multiple systems and handoffs that would benefit from process redesign. RPA would require separate bots for each system interaction, while BPA could create a unified onboarding workflow with automated account provisioning, integrated scheduling, and streamlined notifications. Implementation considerations: system integration requirements, user experience design, and change management for staff adapting to new processes.</p>
<p><strong>Q12</strong>: Automatable tasks (65%): routine inquiries, record updates, report generation; Enhancement opportunities (30%): complex issue resolution, technical collaboration; Timeline impact: short_term; Recommended approach: hybrid RPA for routine tasks with human oversight for complex issues, plus training on automation tools for enhanced collaboration.</p>
<p><strong>Section D Sample Answers:</strong></p>
<p><strong>Q14</strong>: a) Exception-based error handling pattern with specific ValueError exceptions; b) Provides clear error messages for debugging and prevents silent failures that could cause data corruption; c) Add error codes, detailed context information, and structured logging for comprehensive error tracking.</p>
<p><strong>Q15</strong>: a) PBKDF2 applies computational cost making brute force attacks impractical; b) 100,000 iterations slow down password cracking attempts while remaining fast enough for legitimate use; c) Salt prevents rainbow table attacks by ensuring identical passwords have different hashes.</p>
<hr />
<h2 id="further-reading-and-resources">Further Reading and Resources<a class="headerlink" href="#further-reading-and-resources" title="Permanent link">&para;</a></h2>
<h3 id="technical-documentation">Technical Documentation<a class="headerlink" href="#technical-documentation" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>RPA Platform Guides</strong>: UiPath, Automation Anywhere, Blue Prism documentation</p>
</li>
<li>
<p><strong>BPA Frameworks</strong>: Camunda, Bonita, ProcessMaker implementation guides</p>
</li>
<li>
<p><strong>Security Standards</strong>: NIST Cybersecurity Framework, ISO 27001 for automation systems</p>
</li>
</ul>
<h3 id="ethical-guidelines">Ethical Guidelines<a class="headerlink" href="#ethical-guidelines" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>IEEE Standards</strong>: IEEE 2857 for Ethical Design Processes</p>
</li>
<li>
<p><strong>Industry Reports</strong>: World Economic Forum &ldquo;Future of Jobs&rdquo; automation impact studies</p>
</li>
<li>
<p><strong>Academic Research</strong>: Harvard Business Review automation and workforce transformation articles</p>
</li>
</ul>
<h3 id="python-libraries-and-tools">Python Libraries and Tools<a class="headerlink" href="#python-libraries-and-tools" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Automation Libraries</strong>: <code>selenium</code>, <code>pyautogui</code>, <code>requests</code> for RPA development</p>
</li>
<li>
<p><strong>Security Libraries</strong>: <code>cryptography</code>, <code>pyjwt</code>, <code>bcrypt</code> for secure implementations</p>
</li>
<li>
<p><strong>Workflow Management</strong>: <code>airflow</code>, <code>prefect</code>, <code>celery</code> for BPA orchestration</p>
</li>
</ul>
<h3 id="professional-development">Professional Development<a class="headerlink" href="#professional-development" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Certifications</strong>: UiPath RPA Developer, Microsoft Power Platform certifications</p>
</li>
<li>
<p><strong>Training Programs</strong>: Coursera/edX automation and digital transformation courses</p>
</li>
<li>
<p><strong>Professional Organizations</strong>: Association for Intelligent Information Management (AIIM)</p>
</li>
</ul>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="September 30, 2025 00:30:07 UTC">September 30, 2025</span>
  </span>

    
    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve this page by creating an <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/issues/new/choose" target="_blank" rel="noopener">issue</a> on github.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Eatham532 – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of the textbook. With your consent, you're helping us to make software engineering education better for everyone.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "search.highlight", "search.suggest", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.action.edit", "content.action.view", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../../assets/diagram-modal.js"></script>
      
        <script src="../../../../assets/quiz.js"></script>
      
    
  </body>
</html>