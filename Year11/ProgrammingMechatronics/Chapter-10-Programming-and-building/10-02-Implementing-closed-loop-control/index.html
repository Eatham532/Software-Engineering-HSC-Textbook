
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Comprehensive educational resource for NSW HSC Software Engineering syllabus">
      
      
      
        <link rel="canonical" href="https://eatham532.github.io/Software-Engineering-HSC-Textbook/Year11/ProgrammingMechatronics/Chapter-10-Programming-and-building/10-02-Implementing-closed-loop-control/">
      
      
        <link rel="prev" href="../10-01-Simulations-and-prototypes-for-testing/quiz/">
      
      
        <link rel="next" href="quiz/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>10.2 Implementing closed loop control - Software Engineering Textbook HSC</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/diagram-modal.css">
    
      <link rel="stylesheet" href="../../../../assets/quiz.css">
    
      <link rel="stylesheet" href="../../../../assets/common.css">
    
      <link rel="stylesheet" href="../../../../assets/diagram-fix.css">
    
      <link rel="stylesheet" href="../../../../assets/cross-reference.css">
    
      <link rel="stylesheet" href="../../../../assets/site-banner.css">
    
      <link rel="stylesheet" href="../../../../assets/code-runner.css">
    
      <link rel="stylesheet" href="../../../../assets/code-editor.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-58275RL1P9"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-58275RL1P9",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-58275RL1P9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#102-implementing-closed-loop-control" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
  
  
    
    
    
    <div class="site-banner site-banner--warning" data-banner data-banner-version="1" role="status" aria-live="polite">
      <div class="site-banner__inner">
        <span class="site-banner__icon" aria-hidden="true">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            
              <path d="M12 9v4"/><path d="M12 17h.01"/><path d="M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"/>
            
          </svg>
        </span>
        <p class="site-banner__text">
          This textbook is in <strong>beta</strong> ‚Äì content is actively being refined.
          
            <a class="site-banner__link" href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/issues/new/choose" target="_blank" rel="noopener">Report issues or suggestions</a>
          
        </p>
        <button type="button" class="site-banner__close" aria-label="Dismiss banner" title="Dismiss" data-banner-dismiss>&times;</button>
      </div>
    </div>
    <script>
      (function(){
        var banner=document.querySelector('[data-banner]');
        if(!banner) return;
        var version=banner.getAttribute('data-banner-version')||'1';
        var KEY='site_banner_dismissed_v'+version;
        try{ if(localStorage.getItem(KEY)){ banner.remove(); return;} }catch(e){}
        var btn=banner.querySelector('[data-banner-dismiss]');
        if(btn){ btn.addEventListener('click',function(){
          banner.classList.add('is-hiding');
          setTimeout(function(){ banner && banner.remove(); },200);
          try{ localStorage.setItem(KEY,'1'); }catch(e){}
        }); }
      })();
    </script>
  
  
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Software Engineering Textbook HSC" class="md-header__button md-logo" aria-label="Software Engineering Textbook HSC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Software Engineering Textbook HSC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              10.2 Implementing closed loop control
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Eatham532/Software-Engineering-HSC-Textbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    

    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../ProgrammingFundamentals/" class="md-tabs__link">
          
  
  
  Year 11

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Year12/ProgrammingForTheWeb/" class="md-tabs__link">
          
  
  
  Year 12

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../code-editor/" class="md-tabs__link">
        
  
  
    
  
  Code Editor

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Software Engineering Textbook HSC" class="md-nav__button md-logo" aria-label="Software Engineering Textbook HSC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Software Engineering Textbook HSC
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Eatham532/Software-Engineering-HSC-Textbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Year 11
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Year 11
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../ProgrammingFundamentals/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Programming Fundamentals
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../../ObjectOrientedParadigm/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Object-Oriented Paradigm
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Programming Mechatronics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Programming Mechatronics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-07-Mechatronics-foundations/07-01-Applications-of-mechatronic-systems/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 07 ‚Äî Mechatronics foundations
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-08-Data-and-integration/08-01-Working-with-device-data-and-diagnostics/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 08 ‚Äî Data and integration
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../Chapter-09-Control-algorithms/09-01-Open-vs-closed-loop-systems/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapter 09 ‚Äî Control algorithms
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_5" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3_5" id="__nav_2_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Chapter 10 ‚Äî Programming and building
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_5">
            <span class="md-nav__icon md-icon"></span>
            Chapter 10 ‚Äî Programming and building
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../10-01-Simulations-and-prototypes-for-testing/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    10.1 Simulations and prototypes for testing
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3_5_2" id="__nav_2_3_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    10.2 Implementing closed-loop control
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_3_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3_5_2">
            <span class="md-nav__icon md-icon"></span>
            10.2 Implementing closed-loop control
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Content
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-it-matters" class="md-nav__link">
    <span class="md-ellipsis">
      Why it matters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#control-loop-fundamentals" class="md-nav__link">
    <span class="md-ellipsis">
      Control loop fundamentals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proportional-control" class="md-nav__link">
    <span class="md-ellipsis">
      Proportional control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pid-control" class="md-nav__link">
    <span class="md-ellipsis">
      PID control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guided-example" class="md-nav__link">
    <span class="md-ellipsis">
      Guided example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structured-parameter-management" class="md-nav__link">
    <span class="md-ellipsis">
      Structured parameter management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#try-it" class="md-nav__link">
    <span class="md-ellipsis">
      Try it
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap" class="md-nav__link">
    <span class="md-ellipsis">
      Recap
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quiz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quiz
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../10-03-Integrating-sensors-and-actuators/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    10.3 Integrating sensors and actuators
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../10-04-User-interfaces-for-control/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    10.4 User interfaces for control
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../10-05-Unit-tests-subsystems/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    10.5 Unit tests subsystems
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    
  
  
  
    <a href="../../../../Year12/ProgrammingForTheWeb/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Year 12
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../code-editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Editor
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-it-matters" class="md-nav__link">
    <span class="md-ellipsis">
      Why it matters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#control-loop-fundamentals" class="md-nav__link">
    <span class="md-ellipsis">
      Control loop fundamentals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proportional-control" class="md-nav__link">
    <span class="md-ellipsis">
      Proportional control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pid-control" class="md-nav__link">
    <span class="md-ellipsis">
      PID control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guided-example" class="md-nav__link">
    <span class="md-ellipsis">
      Guided example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structured-parameter-management" class="md-nav__link">
    <span class="md-ellipsis">
      Structured parameter management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#try-it" class="md-nav__link">
    <span class="md-ellipsis">
      Try it
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recap" class="md-nav__link">
    <span class="md-ellipsis">
      Recap
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/edit/main/docs/Year11/ProgrammingMechatronics/Chapter-10-Programming-and-building/10-02-Implementing-closed-loop-control/index.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/raw/main/docs/Year11/ProgrammingMechatronics/Chapter-10-Programming-and-building/10-02-Implementing-closed-loop-control/index.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="102-implementing-closed-loop-control">10.2 Implementing closed loop control<a class="headerlink" href="#102-implementing-closed-loop-control" title="Permanent link">&para;</a></h1>
<h2 id="why-it-matters">Why it matters<a class="headerlink" href="#why-it-matters" title="Permanent link">&para;</a></h2>
<p>Closed loop control is the foundation of intelligent mechatronic systems. Unlike open loop systems that blindly execute commands, closed loop systems continuously monitor their output and adjust their behaviour to achieve desired results. This feedback mechanism enables precise control, automatic error correction, and robust operation in changing conditions.</p>
<p>Programming effective control loops requires understanding both the control theory concepts and the practical implementation details. Well-structured Python code makes control systems easier to debug, tune, and maintain throughout their operational life.</p>
<h2 id="concepts">Concepts<a class="headerlink" href="#concepts" title="Permanent link">&para;</a></h2>
<h3 id="control-loop-fundamentals">Control loop fundamentals<a class="headerlink" href="#control-loop-fundamentals" title="Permanent link">&para;</a></h3>
<p>A closed loop control system consists of four essential components working together in a continuous cycle:</p>
<ol>
<li>
<p><strong>Setpoint</strong> - the desired target value</p>
</li>
<li>
<p><strong>Sensor</strong> - measures the actual output value</p>
</li>
<li>
<p><strong>Controller</strong> - calculates the required correction</p>
</li>
<li>
<p><strong>Actuator</strong> - applies the correction to the system</p>
</li>
</ol>
<p>The <strong>error</strong> is the difference between setpoint and measured value. The controller uses this error to determine the appropriate <strong>control output</strong> that drives the actuator.</p>
<div class="diagram-container" data-container-id="kroki-diagram-0"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-0')">üîç View Larger</button><div id="kroki-diagram-0" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="689px" preserveAspectRatio="xMaxYMax meet" style="width:709px;height:689px;background:#FFFFFF;" version="1.1" viewBox="0 0 709 689" width="709px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-0"><defs /><g><g class="entity" data-entity="Setpoint" data-source-line="5" data-uid="ent0002" id="entity_Setpoint"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="98.6934" x="292.97" y="12" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="371.6634" y="17" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="369.6634" y="19" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="369.6634" y="23" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="58.6934" x="307.97" y="44.9951">Setpoint</text></g><g class="entity" data-entity="Controller" data-source-line="5" data-uid="ent0003" id="entity_Controller"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="109.1729" x="287.73" y="139.84" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="376.9029" y="144.84" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="374.9029" y="146.84" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="374.9029" y="150.84" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69.1729" x="302.73" y="172.8351">Controller</text></g><g class="entity" data-entity="Sensor" data-source-line="6" data-uid="ent0005" id="entity_Sensor"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="87.9883" x="298.32" y="637.58" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="366.3083" y="642.58" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="364.3083" y="644.58" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="364.3083" y="648.58" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="47.9883" x="313.32" y="670.5751">Sensor</text></g><g class="entity" data-entity="Actuator" data-source-line="7" data-uid="ent0007" id="entity_Actuator"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="100.0264" x="171.3" y="267.69" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="251.3264" y="272.69" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="249.3264" y="274.69" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="249.3264" y="278.69" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="60.0264" x="186.3" y="300.6851">Actuator</text></g><g class="entity" data-entity="Process" data-source-line="8" data-uid="ent0009" id="entity_Process"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="93.6621" x="165.48" y="390.99" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="239.1421" y="395.99" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="237.1421" y="397.99" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="237.1421" y="401.99" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="53.6621" x="180.48" y="423.9851">Process</text></g><g class="entity" data-entity="Output" data-source-line="9" data-uid="ent0011" id="entity_Output"><rect fill="#FFFFFF" height="46.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="88.6309" x="12" y="514.29" /><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="80.6309" y="519.29" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="78.6309" y="521.29" /><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="78.6309" y="525.29" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="48.6309" x="27" y="547.2851">Output</text></g><g class="entity" data-entity="GMN15" data-source-line="13" data-uid="ent0016" id="entity_GMN15"><path d="M431.74,135.29 L431.74,158.99 L397.2,162.99 L431.74,166.99 L431.74,190.6884 A0,0 0 0 0 431.74,190.6884 L566.8899,190.6884 A0,0 0 0 0 566.8899,190.6884 L566.8899,145.29 L556.8899,135.29 L431.74,135.29 A0,0 0 0 0 431.74,135.29" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M556.8899,135.29 L556.8899,145.29 L566.8899,145.29 L556.8899,135.29" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="106.9263" x="437.74" y="152.3569">Error calculation</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114.1499" x="437.74" y="167.4897">Control algorithm</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="97.9888" x="437.74" y="182.6225">Output limiting</text></g><g class="entity" data-entity="GMN18" data-source-line="14" data-uid="ent0019" id="entity_GMN18"><path d="M135.45,517.3 L135.45,557.5656 A0,0 0 0 0 135.45,557.5656 L289.1858,557.5656 A0,0 0 0 0 289.1858,557.5656 L289.1858,527.3 L279.1858,517.3 L216.32,517.3 L212.32,437.67 L208.32,517.3 L135.45,517.3 A0,0 0 0 0 135.45,517.3" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><path d="M279.1858,517.3 L279.1858,527.3 L289.1858,527.3 L279.1858,517.3" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="132.7358" x="141.45" y="534.3669">The physical system</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="105.6948" x="141.45" y="549.4997">being controlled</text></g><g class="link" data-entity-1="Setpoint" data-entity-2="Controller" data-source-line="5" data-uid="lnk4" id="link_Setpoint_Controller"><path d="M342.32,58.64 C342.32,81.55 342.32,110.85 342.32,133.69" fill="none" id="Setpoint-to-Controller" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="342.32,139.69,346.32,130.69,342.32,134.69,338.32,130.69,342.32,139.69" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="79.3965" x="343.32" y="101.3569">target value</text></g><g class="link" data-entity-1="Sensor" data-entity-2="Controller" data-source-line="6" data-uid="lnk6" id="link_Sensor_Controller"><path d="M342.32,637.38 C342.32,613.04 342.32,572.97 342.32,538.43 C342.32,289.84 342.32,289.84 342.32,289.84 C342.32,253.57 342.32,217.42 342.32,192.27" fill="none" id="Sensor-to-Controller" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="342.32,186.27,338.32,195.27,342.32,191.27,346.32,195.27,342.32,186.27" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104.876" x="343.32" y="418.7069">measured value</text></g><g class="link" data-entity-1="Sensor" data-entity-2="Controller" data-source-line="11" data-uid="lnk14" id="link_Sensor_Controller"><path d="M386.73,649.74 C438.87,635.08 518.32,602.26 518.32,538.43 C518.32,289.84 518.32,289.84 518.32,289.84 C518.32,258.01 446.5013,215.8932 394.3613,189.2132" fill="none" id="Sensor-to-Controller-1" style="stroke:#000000;stroke-width:1;stroke-dasharray:7.0,7.0;" /><polygon fill="#000000" points="389.02,186.48,395.2099,194.1406,393.4711,188.7576,398.8541,187.0188,389.02,186.48" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="182.3555" x="519.32" y="418.7069">error = setpoint - measured</text></g><g class="link" data-entity-1="Controller" data-entity-2="Actuator" data-source-line="7" data-uid="lnk8" id="link_Controller_Actuator"><path d="M287.51,175.94 C263.23,184.23 236.91,198.02 222.32,220.69 C213.54,234.32 212.8552,246.8756 215.0052,261.2956" fill="none" id="Controller-to-Actuator" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="215.89,267.23,218.5191,257.7385,215.1527,262.2847,210.6065,258.9183,215.89,267.23" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92.3584" x="223.32" y="233.7569">control output</text></g><g class="link" data-entity-1="Actuator" data-entity-2="Process" data-source-line="8" data-uid="lnk10" id="link_Actuator_Process"><path d="M219.64,314.37 C218.03,336.16 216.0329,362.9964 214.4229,384.7464" fill="none" id="Actuator-to-Process" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="213.98,390.73,218.6335,382.0498,214.3491,385.7436,210.6553,381.4593,213.98,390.73" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="33.4395" x="219.32" y="357.0569">input</text></g><g class="link" data-entity-1="Process" data-entity-2="Output" data-source-line="9" data-uid="lnk12" id="link_Process_Output"><path d="M165.02,433.26 C146.19,441.85 125.06,453.31 108.32,467.29 C92.52,480.47 81.9599,494.2936 72.5699,508.9936" fill="none" id="Process-to-Output" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="69.34,514.05,77.5559,508.6186,72.0316,509.8363,70.8139,504.3121,69.34,514.05" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="94.0088" x="109.32" y="480.3569">system output</text></g><g class="link" data-entity-1="Output" data-entity-2="Sensor" data-source-line="10" data-uid="lnk13" id="link_Output_Sensor"><path d="M101,557.39 C154.73,580.17 238.8263,615.8372 292.4163,638.5672" fill="none" id="Output-to-Sensor" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="297.94,640.91,291.2164,633.7133,293.3369,638.9576,288.0926,641.0782,297.94,640.91" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="59.7188" x="218.32" y="603.6469">feedback</text></g></g></svg></p></div></div>
<h3 id="proportional-control">Proportional control<a class="headerlink" href="#proportional-control" title="Permanent link">&para;</a></h3>
<p>Proportional control adjusts the control output in direct proportion to the error. The proportional gain (Kp) determines how aggressively the controller responds to errors.</p>
<p><strong>Control equation</strong>: <code>output = Kp √ó error</code></p>
<p>Higher gain provides faster response but can cause instability. Lower gain is more stable but slower to reach the setpoint.</p>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="c1"># Basic proportional controller implementation</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ProportionalController</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kp</span><span class="p">,</span> <span class="n">output_min</span><span class="o">=-</span><span class="mi">100</span><span class="p">,</span> <span class="n">output_max</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kp</span> <span class="o">=</span> <span class="n">kp</span>  <span class="c1"># Proportional gain</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_min</span> <span class="o">=</span> <span class="n">output_min</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_max</span> <span class="o">=</span> <span class="n">output_max</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setpoint</span><span class="p">,</span> <span class="n">measured_value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate control output based on proportional control&quot;&quot;&quot;</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">setpoint</span> <span class="o">-</span> <span class="n">measured_value</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kp</span> <span class="o">*</span> <span class="n">error</span>

        <span class="c1"># Limit output to safe range</span>
        <span class="n">output</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_min</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_max</span><span class="p">,</span> <span class="n">output</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">output</span>

<span class="c1"># Example: Temperature control</span>
<span class="n">temp_controller</span> <span class="o">=</span> <span class="n">ProportionalController</span><span class="p">(</span><span class="n">kp</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">output_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">output_max</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Simulate control loop</span>
<span class="n">setpoint</span> <span class="o">=</span> <span class="mf">25.0</span>  <span class="c1"># Target temperature in Celsius</span>
<span class="n">current_temp</span> <span class="o">=</span> <span class="mf">20.0</span>  <span class="c1"># Starting temperature</span>

<span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="c1"># Calculate control output (heater power percentage)</span>
    <span class="n">heater_power</span> <span class="o">=</span> <span class="n">temp_controller</span><span class="o">.</span><span class="n">calculate_output</span><span class="p">(</span><span class="n">setpoint</span><span class="p">,</span> <span class="n">current_temp</span><span class="p">)</span>

    <span class="c1"># Simulate temperature change (simplified physics)</span>
    <span class="n">temp_increase</span> <span class="o">=</span> <span class="n">heater_power</span> <span class="o">*</span> <span class="mf">0.01</span>  <span class="c1"># 1% per unit power</span>
    <span class="n">current_temp</span> <span class="o">+=</span> <span class="n">temp_increase</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="n">step</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: Temp=</span><span class="si">{</span><span class="n">current_temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">¬∞C, Error=</span><span class="si">{</span><span class="n">setpoint</span><span class="o">-</span><span class="n">current_temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">, Power=</span><span class="si">{</span><span class="n">heater_power</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</code></pre>
</div>
<h3 id="pid-control">PID control<a class="headerlink" href="#pid-control" title="Permanent link">&para;</a></h3>
<p>PID (Proportional-Integral-Derivative) control combines three components to achieve better performance than proportional control alone:</p>
<ul>
<li>
<p><strong>Proportional (P)</strong>: Responds to current error</p>
</li>
<li>
<p><strong>Integral (I)</strong>: Eliminates steady-state error by accumulating past errors</p>
</li>
<li>
<p><strong>Derivative (D)</strong>: Reduces overshoot by responding to rate of error change</p>
</li>
</ul>
<p><strong>Control equation</strong>: <code>output = Kp√óerror + Ki√ó‚à´error√ódt + Kd√ó(derror/dt)</code></p>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="k">class</span><span class="w"> </span><span class="nc">PIDController</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kp</span><span class="p">,</span> <span class="n">ki</span><span class="p">,</span> <span class="n">kd</span><span class="p">,</span> <span class="n">output_min</span><span class="o">=-</span><span class="mi">100</span><span class="p">,</span> <span class="n">output_max</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kp</span> <span class="o">=</span> <span class="n">kp</span>  <span class="c1"># Proportional gain</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ki</span> <span class="o">=</span> <span class="n">ki</span>  <span class="c1"># Integral gain</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kd</span> <span class="o">=</span> <span class="n">kd</span>  <span class="c1"># Derivative gain</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_min</span> <span class="o">=</span> <span class="n">output_min</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_max</span> <span class="o">=</span> <span class="n">output_max</span>

        <span class="c1"># Internal state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">integral</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setpoint</span><span class="p">,</span> <span class="n">measured_value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate PID control output&quot;&quot;&quot;</span>
        <span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">current_time</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_time</span>

        <span class="k">if</span> <span class="n">dt</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.001</span>  <span class="c1"># Prevent division by zero</span>

        <span class="c1"># Calculate error</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">setpoint</span> <span class="o">-</span> <span class="n">measured_value</span>

        <span class="c1"># Proportional term</span>
        <span class="n">proportional</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kp</span> <span class="o">*</span> <span class="n">error</span>

        <span class="c1"># Integral term (accumulated error over time)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">integral</span> <span class="o">+=</span> <span class="n">error</span> <span class="o">*</span> <span class="n">dt</span>
        <span class="n">integral</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ki</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">integral</span>

        <span class="c1"># Derivative term (rate of error change)</span>
        <span class="n">derivative</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">dt</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">derivative</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kd</span> <span class="o">*</span> <span class="p">(</span><span class="n">error</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span><span class="p">)</span> <span class="o">/</span> <span class="n">dt</span>

        <span class="c1"># Combine PID terms</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">proportional</span> <span class="o">+</span> <span class="n">integral</span> <span class="o">+</span> <span class="n">derivative</span>

        <span class="c1"># Apply output limits</span>
        <span class="n">output</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_min</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_max</span><span class="p">,</span> <span class="n">output</span><span class="p">))</span>

        <span class="c1"># Store values for next iteration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span> <span class="o">=</span> <span class="n">error</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_time</span> <span class="o">=</span> <span class="n">current_time</span>

        <span class="k">return</span> <span class="n">output</span><span class="p">,</span> <span class="n">proportional</span><span class="p">,</span> <span class="n">integral</span><span class="p">,</span> <span class="n">derivative</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reset controller state&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_error</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">integral</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># Example: Position control system</span>
<span class="n">position_controller</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span><span class="n">kp</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">ki</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">kd</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">output_min</span><span class="o">=-</span><span class="mi">50</span><span class="p">,</span> <span class="n">output_max</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># Simulate servo motor position control</span>
<span class="n">target_position</span> <span class="o">=</span> <span class="mi">90</span>  <span class="c1"># degrees</span>
<span class="n">current_position</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># starting position</span>
<span class="n">velocity</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># current velocity</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PID Position Control Simulation&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Step | Position | Error | P-term | I-term | D-term | Output&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">65</span><span class="p">)</span>

<span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="c1"># Calculate PID output</span>
    <span class="n">output</span><span class="p">,</span> <span class="n">p_term</span><span class="p">,</span> <span class="n">i_term</span><span class="p">,</span> <span class="n">d_term</span> <span class="o">=</span> <span class="n">position_controller</span><span class="o">.</span><span class="n">calculate_output</span><span class="p">(</span>
        <span class="n">target_position</span><span class="p">,</span> <span class="n">current_position</span>
    <span class="p">)</span>

    <span class="c1"># Simulate motor response (simplified dynamics)</span>
    <span class="n">acceleration</span> <span class="o">=</span> <span class="n">output</span> <span class="o">*</span> <span class="mf">0.1</span>  <span class="c1"># Motor response</span>
    <span class="n">velocity</span> <span class="o">+=</span> <span class="n">acceleration</span>
    <span class="n">velocity</span> <span class="o">*=</span> <span class="mf">0.9</span>  <span class="c1"># Friction/damping</span>
    <span class="n">current_position</span> <span class="o">+=</span> <span class="n">velocity</span>

    <span class="n">error</span> <span class="o">=</span> <span class="n">target_position</span> <span class="o">-</span> <span class="n">current_position</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">step</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">4d</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">current_position</span><span class="si">:</span><span class="s2">8.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">error</span><span class="si">:</span><span class="s2">5.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">p_term</span><span class="si">:</span><span class="s2">6.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">i_term</span><span class="si">:</span><span class="s2">6.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">d_term</span><span class="si">:</span><span class="s2">6.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">output</span><span class="si">:</span><span class="s2">6.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># Simulate time step</span>
</code></pre>
</div>
<h3 id="guided-example">Guided example<a class="headerlink" href="#guided-example" title="Permanent link">&para;</a></h3>
<p>Let&rsquo;s implement a complete closed loop control system for a simulated robotic arm that needs to maintain a specific angle despite external disturbances.</p>
<div class="diagram-container" data-container-id="kroki-diagram-1"><button class="diagram-expand-btn" onclick="openDiagramModal('kroki-diagram-1')">üîç View Larger</button><div id="kroki-diagram-1" class="diagram-content"><p><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" data-diagram-type="CLASS" height="379px" preserveAspectRatio="xMaxYMax meet" style="width:874px;height:379px;background:#FFFFFF;" version="1.1" viewBox="0 0 874 379" width="874px" zoomAndPan="magnify" id="Kroki" data-diagram-id="kroki-svg-1"><defs /><g><g class="entity" data-entity="RobotArmController" data-source-line="5" data-uid="ent0002" id="entity_RobotArmController"><rect fill="#FFFFFF" height="174.375" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="221.4492" x="376.2" y="12" /><ellipse cx="413.5321" cy="26" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;" /><path d="M416.9383,27.9688 C416.2196,28.6406 414.9227,29.8125 413.1727,29.8125 C410.954,29.8125 409.9852,27.875 409.9852,25.9219 C409.9852,23.5313 411.4696,22.2656 413.1102,22.2656 C415.1258,22.2656 415.3446,23.7813 415.5165,24.875 L416.9383,24.6875 C416.8446,24.1094 416.7665,23.5313 416.7665,22.5625 C416.7665,21.8906 416.8133,21.3438 416.8446,20.9219 L415.4383,20.9219 L415.329,21.875 C414.7352,21.3438 414.0946,20.7969 412.8758,20.7969 C410.829,20.7969 408.4227,22.625 408.4227,25.9375 C408.4227,28.875 410.1883,31.2656 413.1883,31.2656 C415.6258,31.2656 417.329,29.6406 417.9227,29.0625 L416.9383,27.9688 Z " fill="#000000" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="139.3779" x="430.9392" y="30.8467">RobotArmController</text><line style="stroke:#000000;stroke-width:1;" x1="377.2" x2="596.6492" y1="40" y2="40" /><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="384.2" y="50.6484" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="197.4492" x="394.2" y="56.9951">pid_controller: PIDController</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="384.2" y="66.9453" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="137.5186" x="394.2" y="73.292">current_angle: float</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="384.2" y="83.2422" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="129.2744" x="394.2" y="89.5889">target_angle: float</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="384.2" y="99.5391" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="132.9043" x="394.2" y="105.8857">motor_power: float</text><line style="stroke:#000000;stroke-width:1;" x1="377.2" x2="596.6492" y1="113.1875" y2="113.1875" /><ellipse cx="387.2" cy="126.8359" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="166.8174" x="394.2" y="130.1826">set_target_angle(angle)</text><ellipse cx="387.2" cy="143.1328" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="141.9961" x="394.2" y="146.4795">read_angle_sensor()</text><ellipse cx="387.2" cy="159.4297" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="152.9951" x="394.2" y="162.7764">update_control_loop()</text><ellipse cx="387.2" cy="175.7266" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="192.0078" x="394.2" y="179.0732">apply_motor_power(power)</text></g><g class="entity" data-entity="AngleSensor" data-source-line="16" data-uid="ent0003" id="entity_AngleSensor"><rect fill="#FFFFFF" height="109.1875" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="207.8525" x="12" y="263.37" /><ellipse cx="68.2622" cy="277.37" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;" /><path d="M71.6685,279.3388 C70.9497,280.0106 69.6528,281.1825 67.9028,281.1825 C65.6841,281.1825 64.7153,279.245 64.7153,277.2919 C64.7153,274.9013 66.1997,273.6356 67.8403,273.6356 C69.856,273.6356 70.0747,275.1513 70.2466,276.245 L71.6685,276.0575 C71.5747,275.4794 71.4966,274.9013 71.4966,273.9325 C71.4966,273.2606 71.5435,272.7138 71.5747,272.2919 L70.1685,272.2919 L70.0591,273.245 C69.4653,272.7138 68.8247,272.1669 67.606,272.1669 C65.5591,272.1669 63.1528,273.995 63.1528,277.3075 C63.1528,280.245 64.9185,282.6356 67.9185,282.6356 C70.356,282.6356 72.0591,281.0106 72.6528,280.4325 L71.6685,279.3388 Z " fill="#000000" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="87.8281" x="85.7622" y="282.2167">AngleSensor</text><line style="stroke:#000000;stroke-width:1;" x1="13" x2="218.8525" y1="291.37" y2="291.37" /><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="20" y="302.0184" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="118.1455" x="30" y="308.3651">noise_level: float</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="20" y="318.3153" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="183.8525" x="30" y="324.662">measurement_delay: float</text><line style="stroke:#000000;stroke-width:1;" x1="13" x2="218.8525" y1="331.9638" y2="331.9638" /><ellipse cx="23" cy="345.6122" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="129.2197" x="30" y="348.9589">read_angle(): float</text><ellipse cx="23" cy="361.9091" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72.3037" x="30" y="365.2557">calibrate()</text></g><g class="entity" data-entity="ServoMotor" data-source-line="23" data-uid="ent0004" id="entity_ServoMotor"><rect fill="#FFFFFF" height="109.1875" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="219.043" x="254.4" y="263.37" /><ellipse cx="319.8907" cy="277.37" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;" /><path d="M323.297,279.3388 C322.5782,280.0106 321.2813,281.1825 319.5313,281.1825 C317.3126,281.1825 316.3438,279.245 316.3438,277.2919 C316.3438,274.9013 317.8282,273.6356 319.4688,273.6356 C321.4845,273.6356 321.7032,275.1513 321.8751,276.245 L323.297,276.0575 C323.2032,275.4794 323.1251,274.9013 323.1251,273.9325 C323.1251,273.2606 323.172,272.7138 323.2032,272.2919 L321.797,272.2919 L321.6876,273.245 C321.0938,272.7138 320.4532,272.1669 319.2345,272.1669 C317.1876,272.1669 314.7813,273.995 314.7813,277.3075 C314.7813,280.245 316.547,282.6356 319.547,282.6356 C321.9845,282.6356 323.6876,281.0106 324.2813,280.4325 L323.297,279.3388 Z " fill="#000000" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80.5615" x="337.3907" y="282.2167">ServoMotor</text><line style="stroke:#000000;stroke-width:1;" x1="255.4" x2="472.443" y1="291.37" y2="291.37" /><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="262.4" y="302.0184" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121.6865" x="272.4" y="308.3651">power_limit: float</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="262.4" y="318.3153" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="143.1445" x="272.4" y="324.662">response_time: float</text><line style="stroke:#000000;stroke-width:1;" x1="255.4" x2="472.443" y1="331.9638" y2="331.9638" /><ellipse cx="265.4" cy="345.6122" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="186.792" x="272.4" y="348.9589">set_power(power_percent)</text><ellipse cx="265.4" cy="361.9091" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="195.043" x="272.4" y="365.2557">get_current_position(): float</text></g><g class="entity" data-entity="Disturbance" data-source-line="30" data-uid="ent0005" id="entity_Disturbance"><rect fill="#FFFFFF" height="92.8906" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="203.9082" x="507.97" y="271.52" /><ellipse cx="563.8084" cy="285.52" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;" /><path d="M567.2146,287.4888 C566.4959,288.1606 565.199,289.3325 563.449,289.3325 C561.2303,289.3325 560.2615,287.395 560.2615,285.4419 C560.2615,283.0513 561.7459,281.7856 563.3865,281.7856 C565.4021,281.7856 565.6209,283.3013 565.7928,284.395 L567.2146,284.2075 C567.1209,283.6294 567.0428,283.0513 567.0428,282.0825 C567.0428,281.4106 567.0896,280.8638 567.1209,280.4419 L565.7146,280.4419 L565.6053,281.395 C565.0115,280.8638 564.3709,280.3169 563.1521,280.3169 C561.1053,280.3169 558.699,282.145 558.699,285.4575 C558.699,288.395 560.4646,290.7856 563.4646,290.7856 C565.9021,290.7856 567.6053,289.1606 568.199,288.5825 L567.2146,287.4888 Z " fill="#000000" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="84.7314" x="581.3084" y="290.3667">Disturbance</text><line style="stroke:#000000;stroke-width:1;" x1="508.97" x2="710.8782" y1="299.52" y2="299.52" /><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="515.97" y="310.1684" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="158.9082" x="525.97" y="316.5151">force_magnitude: float</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="515.97" y="326.4653" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="111.1455" x="525.97" y="332.812">frequency: float</text><line style="stroke:#000000;stroke-width:1;" x1="508.97" x2="710.8782" y1="340.1138" y2="340.1138" /><ellipse cx="518.97" cy="353.7622" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="179.9082" x="525.97" y="357.1089">apply_disturbance(): float</text></g><g class="entity" data-entity="PIDController" data-source-line="36" data-uid="ent0006" id="entity_PIDController"><rect fill="#FFFFFF" height="44" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="120.5244" x="746.66" y="295.97" /><ellipse cx="759.66" cy="309.97" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;" /><path d="M763.0663,311.9387 C762.3475,312.6106 761.0506,313.7825 759.3006,313.7825 C757.0819,313.7825 756.1131,311.845 756.1131,309.8919 C756.1131,307.5012 757.5975,306.2356 759.2381,306.2356 C761.2538,306.2356 761.4725,307.7512 761.6444,308.845 L763.0663,308.6575 C762.9725,308.0794 762.8944,307.5012 762.8944,306.5325 C762.8944,305.8606 762.9413,305.3137 762.9725,304.8919 L761.5663,304.8919 L761.4569,305.845 C760.8631,305.3137 760.2225,304.7669 759.0038,304.7669 C756.9569,304.7669 754.5506,306.595 754.5506,309.9075 C754.5506,312.845 756.3163,315.2356 759.3163,315.2356 C761.7538,315.2356 763.4569,313.6106 764.0506,313.0325 L763.0663,311.9387 Z " fill="#000000" /><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92.5244" x="771.66" y="314.8167">PIDController</text><line style="stroke:#000000;stroke-width:1;" x1="747.66" x2="866.1844" y1="323.97" y2="323.97" /><line style="stroke:#000000;stroke-width:1;" x1="747.66" x2="866.1844" y1="331.97" y2="331.97" /></g><g class="link" data-entity-1="RobotArmController" data-entity-2="PIDController" data-source-line="36" data-uid="lnk7" id="link_RobotArmController_PIDController"><path codeLine="36" d="M597.9,174.72 C639.1,202.47 686.2,234.29 728.93,263.37 C744.41,273.91 756.6278,282.2879 770.9078,292.1179" fill="none" id="RobotArmController-to-PIDController" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="775.85,295.52,770.7047,287.122,771.7315,292.6849,766.1686,293.7117,775.85,295.52" style="stroke:#000000;stroke-width:1;" /></g><g class="link" data-entity-1="RobotArmController" data-entity-2="AngleSensor" data-source-line="37" data-uid="lnk8" id="link_RobotArmController_AngleSensor"><path codeLine="37" d="M375.87,165.08 C322.39,196.33 264.2008,230.3335 213.4108,260.0035" fill="none" id="RobotArmController-to-AngleSensor" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="208.23,263.03,218.0188,261.9442,212.5473,260.5079,213.9835,255.0365,208.23,263.03" style="stroke:#000000;stroke-width:1;" /></g><g class="link" data-entity-1="RobotArmController" data-entity-2="ServoMotor" data-source-line="38" data-uid="lnk9" id="link_RobotArmController_ServoMotor"><path codeLine="38" d="M437.78,186.8 C423.2,212.51 410.6,234.7009 397.55,257.7109" fill="none" id="RobotArmController-to-ServoMotor" style="stroke:#000000;stroke-width:1;" /><polygon fill="#000000" points="394.59,262.93,402.5093,257.0747,397.0566,258.5808,395.5506,253.1281,394.59,262.93" style="stroke:#000000;stroke-width:1;" /></g><g class="link" data-entity-1="RobotArmController" data-entity-2="Disturbance" data-source-line="39" data-uid="lnk10" id="link_RobotArmController_Disturbance"><path codeLine="39" d="M536.07,186.8 C552.46,215.69 567.1195,241.5213 581.0295,266.0413" fill="none" id="RobotArmController-to-Disturbance" style="stroke:#000000;stroke-width:1;stroke-dasharray:7.0,7.0;" /><polygon fill="#000000" points="583.99,271.26,583.0283,261.4582,581.5229,266.9111,576.07,265.4056,583.99,271.26" style="stroke:#000000;stroke-width:1;" /><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="73.6899" x="560.93" y="229.4369">affected by</text></g></g></svg></p></div></div>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="k">class</span><span class="w"> </span><span class="nc">RobotArmSimulator</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Simulates a robotic arm with realistic physics and disturbances&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Physical parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># Current angle in degrees</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># Angular velocity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">inertia</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># Rotational inertia</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">friction</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># Friction coefficient</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gravity_torque</span> <span class="o">=</span> <span class="mf">5.0</span>  <span class="c1"># Gravity effect</span>

        <span class="c1"># Sensor noise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sensor_noise</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># degrees</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">apply_motor_torque</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">torque</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply motor torque and update physics&quot;&quot;&quot;</span>
        <span class="c1"># External disturbances</span>
        <span class="n">disturbance</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Random external forces</span>
        <span class="n">gravity_effect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gravity_torque</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">angle</span><span class="p">))</span>

        <span class="c1"># Calculate total torque</span>
        <span class="n">total_torque</span> <span class="o">=</span> <span class="n">torque</span> <span class="o">-</span> <span class="n">gravity_effect</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">friction</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span><span class="p">)</span> <span class="o">+</span> <span class="n">disturbance</span>

        <span class="c1"># Update dynamics</span>
        <span class="n">acceleration</span> <span class="o">=</span> <span class="n">total_torque</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">inertia</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">+=</span> <span class="n">acceleration</span> <span class="o">*</span> <span class="mf">0.01</span>  <span class="c1"># 10ms time step</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">velocity</span> <span class="o">*</span> <span class="mf">0.01</span>

        <span class="c1"># Keep angle in reasonable range</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">%</span> <span class="mi">360</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">read_angle_sensor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Read angle with realistic sensor noise&quot;&quot;&quot;</span>
        <span class="n">noise</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">sensor_noise</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sensor_noise</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">+</span> <span class="n">noise</span>

<span class="k">class</span><span class="w"> </span><span class="nc">RobotArmController</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Complete closed loop controller for robotic arm&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kp</span><span class="o">=</span><span class="mf">15.0</span><span class="p">,</span> <span class="n">ki</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">kd</span><span class="o">=</span><span class="mf">2.0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span><span class="n">kp</span><span class="p">,</span> <span class="n">ki</span><span class="p">,</span> <span class="n">kd</span><span class="p">,</span> <span class="n">output_min</span><span class="o">=-</span><span class="mi">100</span><span class="p">,</span> <span class="n">output_max</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulator</span> <span class="o">=</span> <span class="n">RobotArmSimulator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">control_active</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Data logging</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_log</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle_log</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_log</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_log</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error_log</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_target_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set new target angle for the arm&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span> <span class="o">=</span> <span class="n">angle</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target angle set to: </span><span class="si">{</span><span class="n">angle</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">¬∞&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_control_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duration_seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the closed loop control for specified duration&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">control_active</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">step</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Running closed loop control...&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Time | Target | Measured | Error | PID Output | Status&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">55</span><span class="p">)</span>

        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">control_active</span> <span class="ow">and</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">duration_seconds</span><span class="p">:</span>
            <span class="c1"># Read current angle from sensor</span>
            <span class="n">measured_angle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulator</span><span class="o">.</span><span class="n">read_angle_sensor</span><span class="p">()</span>

            <span class="c1"># Calculate PID control output</span>
            <span class="n">control_output</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">calculate_output</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span><span class="p">,</span> <span class="n">measured_angle</span>
            <span class="p">)</span>

            <span class="c1"># Convert control output to motor torque</span>
            <span class="n">motor_torque</span> <span class="o">=</span> <span class="n">control_output</span> <span class="o">*</span> <span class="mf">0.5</span>  <span class="c1"># Scale to appropriate torque range</span>

            <span class="c1"># Apply torque to simulated arm</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">simulator</span><span class="o">.</span><span class="n">apply_motor_torque</span><span class="p">(</span><span class="n">motor_torque</span><span class="p">)</span>

            <span class="c1"># Log data</span>
            <span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
            <span class="n">error</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span> <span class="o">-</span> <span class="n">measured_angle</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">time_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_time</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">angle_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">measured_angle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">target_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">control_output</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

            <span class="c1"># Print status every 10 steps</span>
            <span class="k">if</span> <span class="n">step</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;CONVERGING&quot;</span> <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">2.0</span> <span class="k">else</span> <span class="s2">&quot;STABLE&quot;</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">current_time</span><span class="si">:</span><span class="s2">4.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span><span class="si">:</span><span class="s2">6.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">measured_angle</span><span class="si">:</span><span class="s2">8.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">error</span><span class="si">:</span><span class="s2">5.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">control_output</span><span class="si">:</span><span class="s2">10.1f</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">step</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># 100Hz control loop</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">stop_control</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the control loop&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">control_active</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_performance_metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate control performance metrics&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

        <span class="c1"># Steady-state error (average of last 20% of data)</span>
        <span class="n">steady_state_start</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">)</span>
        <span class="n">steady_state_error</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="p">[</span><span class="n">steady_state_start</span><span class="p">:])</span>
        <span class="n">steady_state_error</span> <span class="o">/=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="p">[</span><span class="n">steady_state_start</span><span class="p">:])</span>

        <span class="c1"># Maximum overshoot</span>
        <span class="n">max_overshoot</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="p">)</span>

        <span class="c1"># Settling time (time to reach within 2% of target)</span>
        <span class="n">settling_time</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_angle</span> <span class="o">*</span> <span class="mf">0.02</span>  <span class="c1"># 2% tolerance</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">error</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">tolerance</span><span class="p">:</span>
                <span class="n">settling_time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_log</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s1">&#39;steady_state_error&#39;</span><span class="p">:</span> <span class="n">steady_state_error</span><span class="p">,</span>
            <span class="s1">&#39;max_overshoot&#39;</span><span class="p">:</span> <span class="n">max_overshoot</span><span class="p">,</span>
            <span class="s1">&#39;settling_time&#39;</span><span class="p">:</span> <span class="n">settling_time</span>
        <span class="p">}</span>

<span class="c1"># Example usage and testing</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Create controller</span>
    <span class="n">arm_controller</span> <span class="o">=</span> <span class="n">RobotArmController</span><span class="p">(</span><span class="n">kp</span><span class="o">=</span><span class="mf">15.0</span><span class="p">,</span> <span class="n">ki</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">kd</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>

    <span class="c1"># Test sequence</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Robotic Arm Closed Loop Control Test ===&quot;</span><span class="p">)</span>

    <span class="c1"># Test 1: Step response</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Test 1: Step response to 45¬∞&quot;</span><span class="p">)</span>
    <span class="n">arm_controller</span><span class="o">.</span><span class="n">set_target_angle</span><span class="p">(</span><span class="mf">45.0</span><span class="p">)</span>
    <span class="n">arm_controller</span><span class="o">.</span><span class="n">run_control_loop</span><span class="p">(</span><span class="n">duration_seconds</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

    <span class="c1"># Test 2: Tracking performance</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Test 2: Tracking response to 90¬∞&quot;</span><span class="p">)</span>
    <span class="n">arm_controller</span><span class="o">.</span><span class="n">set_target_angle</span><span class="p">(</span><span class="mf">90.0</span><span class="p">)</span>
    <span class="n">arm_controller</span><span class="o">.</span><span class="n">run_control_loop</span><span class="p">(</span><span class="n">duration_seconds</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="c1"># Performance analysis</span>
    <span class="n">metrics</span> <span class="o">=</span> <span class="n">arm_controller</span><span class="o">.</span><span class="n">get_performance_metrics</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Performance Metrics:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Steady-state error: </span><span class="si">{</span><span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;steady_state_error&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">¬∞&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Maximum overshoot: </span><span class="si">{</span><span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;max_overshoot&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">¬∞&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Settling time: </span><span class="si">{</span><span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;settling_time&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s&quot;</span> <span class="k">if</span> <span class="n">metrics</span><span class="p">[</span><span class="s1">&#39;settling_time&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="s2">&quot;Did not settle&quot;</span><span class="p">)</span>
</code></pre>
</div>
<h3 id="structured-parameter-management">Structured parameter management<a class="headerlink" href="#structured-parameter-management" title="Permanent link">&para;</a></h3>
<p>Real control systems require careful parameter management for different operating modes, environmental conditions, and performance requirements.</p>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="k">class</span><span class="w"> </span><span class="nc">ControlParameters</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Manages PID parameters and operating modes&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Default parameter sets for different operating modes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_sets</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;precision&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;kp&#39;</span><span class="p">:</span> <span class="mf">25.0</span><span class="p">,</span> <span class="s1">&#39;ki&#39;</span><span class="p">:</span> <span class="mf">8.0</span><span class="p">,</span> <span class="s1">&#39;kd&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s1">&#39;output_limit&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">},</span>
            <span class="s1">&#39;fast&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;kp&#39;</span><span class="p">:</span> <span class="mf">40.0</span><span class="p">,</span> <span class="s1">&#39;ki&#39;</span><span class="p">:</span> <span class="mf">15.0</span><span class="p">,</span> <span class="s1">&#39;kd&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s1">&#39;output_limit&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
            <span class="s1">&#39;stable&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;kp&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span> <span class="s1">&#39;ki&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s1">&#39;kd&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;output_limit&#39;</span><span class="p">:</span> <span class="mi">75</span><span class="p">},</span>
            <span class="s1">&#39;low_power&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;kp&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span> <span class="s1">&#39;ki&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;kd&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;output_limit&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="p">}</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span> <span class="o">=</span> <span class="s1">&#39;stable&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">adaptive_enabled</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get parameters for specified mode&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameter_sets</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameter_sets</span><span class="p">[</span><span class="n">mode</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown parameter mode: </span><span class="si">{</span><span class="n">mode</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change operating mode&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameter_sets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span> <span class="o">=</span> <span class="n">mode</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Control mode changed to: </span><span class="si">{</span><span class="n">mode</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown mode: </span><span class="si">{</span><span class="n">mode</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">tune_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adjust parameters for specific mode&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameter_sets</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameter_sets</span><span class="p">[</span><span class="n">mode</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">parameter_sets</span><span class="p">[</span><span class="n">mode</span><span class="p">][</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated </span><span class="si">{</span><span class="n">mode</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">auto_tune_from_performance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">performance_metrics</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Automatically adjust parameters based on performance&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">adaptive_enabled</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">steady_state_error</span> <span class="o">=</span> <span class="n">performance_metrics</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;steady_state_error&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">overshoot</span> <span class="o">=</span> <span class="n">performance_metrics</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;max_overshoot&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">current_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parameters</span><span class="p">()</span>

        <span class="c1"># Simple auto-tuning logic</span>
        <span class="k">if</span> <span class="n">steady_state_error</span> <span class="o">&gt;</span> <span class="mf">2.0</span><span class="p">:</span>  <span class="c1"># Too much steady-state error</span>
            <span class="n">new_ki</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">current_params</span><span class="p">[</span><span class="s1">&#39;ki&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tune_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="p">,</span> <span class="n">ki</span><span class="o">=</span><span class="n">new_ki</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">overshoot</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="p">:</span>  <span class="c1"># Too much overshoot</span>
            <span class="n">new_kd</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">current_params</span><span class="p">[</span><span class="s1">&#39;kd&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span>
            <span class="n">new_kp</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">current_params</span><span class="p">[</span><span class="s1">&#39;kp&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tune_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">current_mode</span><span class="p">,</span> <span class="n">kd</span><span class="o">=</span><span class="n">new_kd</span><span class="p">,</span> <span class="n">kp</span><span class="o">=</span><span class="n">new_kp</span><span class="p">)</span>

<span class="c1"># Enhanced controller with parameter management</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AdaptiveRobotController</span><span class="p">(</span><span class="n">RobotArmController</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Robot controller with adaptive parameter management&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Initialize with default parameters</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">ControlParameters</span><span class="p">()</span>
        <span class="n">default_params</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get_parameters</span><span class="p">(</span><span class="s1">&#39;stable&#39;</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">kp</span><span class="o">=</span><span class="n">default_params</span><span class="p">[</span><span class="s1">&#39;kp&#39;</span><span class="p">],</span>
            <span class="n">ki</span><span class="o">=</span><span class="n">default_params</span><span class="p">[</span><span class="s1">&#39;ki&#39;</span><span class="p">],</span> 
            <span class="n">kd</span><span class="o">=</span><span class="n">default_params</span><span class="p">[</span><span class="s1">&#39;kd&#39;</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">param_manager</span> <span class="o">=</span> <span class="n">params</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param_manager</span><span class="o">.</span><span class="n">adaptive_enabled</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">change_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change control mode and update PID parameters&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">new_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">param_manager</span><span class="o">.</span><span class="n">get_parameters</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

            <span class="c1"># Update PID controller</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">kp</span> <span class="o">=</span> <span class="n">new_params</span><span class="p">[</span><span class="s1">&#39;kp&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">ki</span> <span class="o">=</span> <span class="n">new_params</span><span class="p">[</span><span class="s1">&#39;ki&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">kd</span> <span class="o">=</span> <span class="n">new_params</span><span class="p">[</span><span class="s1">&#39;kd&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">output_max</span> <span class="o">=</span> <span class="n">new_params</span><span class="p">[</span><span class="s1">&#39;output_limit&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">output_min</span> <span class="o">=</span> <span class="o">-</span><span class="n">new_params</span><span class="p">[</span><span class="s1">&#39;output_limit&#39;</span><span class="p">]</span>

            <span class="c1"># Reset PID state</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">param_manager</span><span class="o">.</span><span class="n">set_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mode change failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">optimize_performance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Analyze recent performance and adjust parameters&quot;&quot;&quot;</span>
        <span class="n">metrics</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_performance_metrics</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">metrics</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Analyzing performance...&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">param_manager</span><span class="o">.</span><span class="n">auto_tune_from_performance</span><span class="p">(</span><span class="n">metrics</span><span class="p">)</span>

            <span class="c1"># Apply updated parameters</span>
            <span class="n">current_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">param_manager</span><span class="o">.</span><span class="n">get_parameters</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">kp</span> <span class="o">=</span> <span class="n">current_params</span><span class="p">[</span><span class="s1">&#39;kp&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">ki</span> <span class="o">=</span> <span class="n">current_params</span><span class="p">[</span><span class="s1">&#39;ki&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="n">kd</span> <span class="o">=</span> <span class="n">current_params</span><span class="p">[</span><span class="s1">&#39;kd&#39;</span><span class="p">]</span>

<span class="c1"># Example usage</span>
<span class="n">adaptive_controller</span> <span class="o">=</span> <span class="n">AdaptiveRobotController</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Testing different control modes...&quot;</span><span class="p">)</span>

<span class="c1"># Test precision mode</span>
<span class="n">adaptive_controller</span><span class="o">.</span><span class="n">change_mode</span><span class="p">(</span><span class="s1">&#39;precision&#39;</span><span class="p">)</span>
<span class="n">adaptive_controller</span><span class="o">.</span><span class="n">set_target_angle</span><span class="p">(</span><span class="mf">30.0</span><span class="p">)</span>
<span class="n">adaptive_controller</span><span class="o">.</span><span class="n">run_control_loop</span><span class="p">(</span><span class="n">duration_seconds</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Test fast mode  </span>
<span class="n">adaptive_controller</span><span class="o">.</span><span class="n">change_mode</span><span class="p">(</span><span class="s1">&#39;fast&#39;</span><span class="p">)</span>
<span class="n">adaptive_controller</span><span class="o">.</span><span class="n">set_target_angle</span><span class="p">(</span><span class="mf">60.0</span><span class="p">)</span>
<span class="n">adaptive_controller</span><span class="o">.</span><span class="n">run_control_loop</span><span class="p">(</span><span class="n">duration_seconds</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Optimize based on performance</span>
<span class="n">adaptive_controller</span><span class="o">.</span><span class="n">optimize_performance</span><span class="p">()</span>
</code></pre>
</div>
<h2 id="try-it">Try it<a class="headerlink" href="#try-it" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>Exercise 1: Basic proportional controller</summary>
<p><strong>Task</strong>: Implement a proportional controller for a heating system. The system should maintain a target temperature of 22¬∞C. Test with different Kp values (0.5, 2.0, 5.0) and observe the behaviour.</p>
<p>Starting conditions:</p>
<ul>
<li>
<p>Current temperature: 18¬∞C</p>
</li>
<li>
<p>Heater power range: 0-100%</p>
</li>
<li>
<p>Temperature change rate: 0.02¬∞C per % power per time step</p>
</li>
</ul>
<details class="success">
<summary>Sample solution</summary>
<div class="highlight python-template" data-fence-type="template" data-language="python">
<pre><code class="language-python"><span class="k">class</span><span class="w"> </span><span class="nc">HeatingController</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kp</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">kp</span> <span class="o">=</span> <span class="n">kp</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calculate_power</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_temp</span><span class="p">,</span> <span class="n">current_temp</span><span class="p">):</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">target_temp</span> <span class="o">-</span> <span class="n">current_temp</span>
        <span class="n">power</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kp</span> <span class="o">*</span> <span class="n">error</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">power</span><span class="p">))</span>  <span class="c1"># Limit to 0-100%</span>

<span class="c1"># Test different gains</span>
<span class="n">target</span> <span class="o">=</span> <span class="mf">22.0</span>
<span class="n">current_temp</span> <span class="o">=</span> <span class="mf">18.0</span>

<span class="k">for</span> <span class="n">kp</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">]:</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="n">HeatingController</span><span class="p">(</span><span class="n">kp</span><span class="p">)</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">current_temp</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Testing Kp = </span><span class="si">{</span><span class="n">kp</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">power</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">calculate_power</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">temp</span><span class="p">)</span>
        <span class="n">temp</span> <span class="o">+=</span> <span class="n">power</span> <span class="o">*</span> <span class="mf">0.02</span>  <span class="c1"># Temperature change</span>
        <span class="n">error</span> <span class="o">=</span> <span class="n">target</span> <span class="o">-</span> <span class="n">temp</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Step </span><span class="si">{</span><span class="n">step</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: Temp=</span><span class="si">{</span><span class="n">temp</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">¬∞C, Power=</span><span class="si">{</span><span class="n">power</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%, Error=</span><span class="si">{</span><span class="n">error</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target reached in </span><span class="si">{</span><span class="n">step</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2"> steps&quot;</span><span class="p">)</span>
            <span class="k">break</span>
</code></pre>
</div>
<p><strong>Analysis</strong>: Lower Kp (0.5) responds slowly but stably. Higher Kp (5.0) responds quickly but may overshoot. Kp=2.0 provides a good balance.</p>
</details>
</details>
<details class="question">
<summary>Exercise 2: PID tuning challenge</summary>
<p><strong>Task</strong>: A motor position control system has the following characteristics:</p>
<ul>
<li>
<p>High inertia (slow to start/stop)</p>
</li>
<li>
<p>External disturbances (wind, friction)</p>
</li>
<li>
<p>Requirement for zero steady-state error</p>
</li>
<li>
<p>Maximum allowable overshoot: 5%</p>
</li>
</ul>
<p>Tune a PID controller to meet these requirements. Start with Kp=1.0, Ki=0.1, Kd=0.1 and explain your tuning strategy.</p>
<details class="success">
<summary>Sample solution</summary>
<p><strong>Tuning strategy for high-inertia system:</strong></p>
<ol>
<li>
<p><strong>Start with Proportional</strong>: Increase Kp until system responds but may oscillate</p>
</li>
<li>
<p><strong>Add Derivative</strong>: Increase Kd to reduce overshoot and dampen oscillations</p>
</li>
<li>
<p><strong>Add Integral</strong>: Increase Ki slowly to eliminate steady-state error</p>
</li>
<li>
<p><strong>Fine-tune</strong>: Adjust all parameters to meet performance requirements</p>
</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Recommended parameters for high-inertia system:</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">controller</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="n">kp</span><span class="o">=</span><span class="mf">8.0</span><span class="p">,</span>   <span class="c1"># Strong proportional response</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="n">ki</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span>   <span class="c1"># Moderate integral to eliminate steady-state error</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">kd</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span>   <span class="c1"># Strong derivative to prevent overshoot</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">output_min</span><span class="o">=-</span><span class="mi">100</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="n">output_max</span><span class="o">=</span><span class="mi">100</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reasoning</strong>:</p>
<ul>
<li>
<p>Higher Kd compensates for inertia and prevents overshoot</p>
</li>
<li>
<p>Moderate Ki eliminates steady-state error without causing instability</p>
</li>
<li>
<p>Kp provides adequate response speed without excessive overshoot</p>
</li>
</ul>
</details>
</details>
<details class="question">
<summary>Exercise 3: Control loop debugging</summary>
<p><strong>Task</strong>: A student&rsquo;s PID controller is behaving poorly with these symptoms:</p>
<ul>
<li>
<p>Very slow response to setpoint changes</p>
</li>
<li>
<p>Large steady-state error that never disappears</p>
</li>
<li>
<p>Occasional sudden large outputs</p>
</li>
</ul>
<p>Identify potential problems and suggest debugging steps.</p>
<details class="success">
<summary>Sample solution</summary>
<p><strong>Problem analysis and debugging:</strong></p>
<ol>
<li>
<p><strong>Slow response</strong> ‚Üí Kp too low</p>
</li>
<li>
<p>Debug: Print proportional term, increase Kp gradually</p>
</li>
<li>
<p><strong>Steady-state error</strong> ‚Üí Ki too low or integral term not accumulating</p>
</li>
<li>
<p>Debug: Print integral term over time, check Ki value</p>
</li>
<li>
<p>Check: Is integral being reset accidentally?</p>
</li>
<li>
<p><strong>Sudden large outputs</strong> ‚Üí Several possible causes:</p>
</li>
<li>
<p>Derivative kick from setpoint changes</p>
</li>
<li>
<p>Integral windup</p>
</li>
<li>
<p>Sensor noise affecting derivative term</p>
</li>
</ol>
<p><strong>Debugging code:</strong></p>
<div class="highlight python-exec" data-fence-type="exec" data-language="python">
<pre><code class="language-python"><span class="k">def</span><span class="w"> </span><span class="nf">debug_pid_output</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">setpoint</span><span class="p">,</span> <span class="n">measured_value</span><span class="p">):</span>
    <span class="n">output</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_output</span><span class="p">(</span><span class="n">setpoint</span><span class="p">,</span> <span class="n">measured_value</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Debug - P: </span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, I: </span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, D: </span><span class="si">{</span><span class="n">d</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Total: </span><span class="si">{</span><span class="n">output</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Check for problems</span>
    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: Large derivative term - check for sensor noise&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: Integral windup detected&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">1.0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;INFO: Low proportional term - consider increasing Kp&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">output</span>
</code></pre>
</div>
</details>
</details>
<h2 id="recap">Recap<a class="headerlink" href="#recap" title="Permanent link">&para;</a></h2>
<p>Implementing closed loop control in Python requires understanding both control theory and practical programming techniques:</p>
<ul>
<li>
<p><strong>Basic structure</strong>: Continuous cycle of measure, calculate error, compute output, apply correction</p>
</li>
<li>
<p><strong>Proportional control</strong>: Simple and effective for many applications, but may have steady-state error</p>
</li>
<li>
<p><strong>PID control</strong>: Combines proportional, integral, and derivative terms for optimal performance</p>
</li>
<li>
<p><strong>Parameter management</strong>: Structured approach to tuning and adapting control parameters</p>
</li>
<li>
<p><strong>Performance metrics</strong>: Steady-state error, overshoot, and settling time guide controller optimization</p>
</li>
</ul>
<p>Well-structured code with clear separation of concerns makes control systems easier to debug, tune, and maintain. Consider using classes to encapsulate controller logic and parameter management functions.</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 16, 2025 05:58:30 UTC">October 16, 2025</span>
  </span>

    
    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve this page by creating an <a href="https://github.com/Eatham532/Software-Engineering-HSC-Textbook/issues/new/choose" target="_blank" rel="noopener">issue</a> on github.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        

<!-- Footer -->
<footer class="md-footer">
  
    <!-- Custom footer with left/right layout -->
    <div class="md-footer__inner md-grid">
      <!-- Left side: Copyright and cookie settings -->
      <div class="md-footer__left">
        <div class="md-footer__copyright">
          
            Copyright &copy; 2025 Eatham532 ‚Äì <a href="#__consent">Change cookie settings</a>

          
        </div>
      </div>

      <!-- Right side: Page name and BETA -->
      <div class="md-footer__right">
        <div class="md-footer__page-info">
          <span class="md-footer__page-title">Content</span>
          
            <span class="md-footer__beta-badge">BETA</span>
          
        </div>
      </div>
    </div>
  
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of the textbook. With your consent, you're helping us to make software engineering education better for everyone.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "search.highlight", "search.suggest", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.action.edit", "content.action.view", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../../assets/diagram-modal.js"></script>
      
        <script src="../../../../assets/quiz.js"></script>
      
        <script src="../../../../assets/ide-utils.js"></script>
      
        <script src="../../../../assets/code-blocks.js"></script>
      
    
  </body>
</html>